/*! For license information please see main.b9712116.js.LICENSE.txt */
(()=>{var e={740:e=>{"use strict";e.exports=function(e,t,n,r,o,a,i,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,a,i,s],u=0;(c=new Error(t.replace(/%s/g,(function(){return l[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},497:(e,t,n)=>{"use strict";var r=n(218);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},730:(e,t,n)=>{"use strict";var r=n(43),o=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)i.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,o,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),k=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),E=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var L,D=Object.assign;function q(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function H(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var o=l.stack.split("\n"),a=r.stack.split("\n"),i=o.length-1,s=a.length-1;1<=i&&0<=s&&o[i]!==a[s];)s--;for(;1<=i&&0<=s;i--,s--)if(o[i]!==a[s]){if(1!==i||1!==s)do{if(i--,0>--s||o[i]!==a[s]){var c="\n"+o[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=i&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function U(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 1:return e=H(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case k:return"Portal";case T:return"Profiler";case x:return"StrictMode";case N:return"Suspense";case _:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function $(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function V(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){J(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function ae(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Ce(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Se=null,xe=null;function Te(e){if(e=wo(e)){if("function"!==typeof ke)throw Error(a(280));var t=e.stateNode;t&&(t=ko(t),ke(e.stateNode,e.type,t))}}function Ie(e){Se?xe?xe.push(e):xe=[e]:Se=e}function Ee(){if(Se){var e=Se,t=xe;if(xe=Se=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ae(e,t){return e(t)}function Ne(){}var _e=!1;function Re(e,t,n){if(_e)return e(t,n);_e=!0;try{return Ae(e,t,n)}finally{_e=!1,(null!==Se||null!==xe)&&(Ne(),Ee())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=ko(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(u)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(ue){Oe=!1}function je(e,t,n,r,o,a,i,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var Le=!1,De=null,qe=!1,Fe=null,He={onError:function(e){Le=!0,De=e}};function Ue(e,t,n,r,o,a,i,s,c){Le=!1,De=null,je.apply(He,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(ze(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return $e(o),e;if(i===r)return $e(o),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,c=o.child;c;){if(c===n){s=!0,n=o,r=i;break}if(c===r){s=!0,r=o,n=i;break}c=c.sibling}if(!s){for(c=i.child;c;){if(c===n){s=!0,n=i,r=o;break}if(c===r){s=!0,r=i,n=o;break}c=c.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ve=o.unstable_scheduleCallback,Ge=o.unstable_cancelCallback,Qe=o.unstable_shouldYield,Ye=o.unstable_requestPaint,Je=o.unstable_now,Xe=o.unstable_getCurrentPriorityLevel,Ze=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,at=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ct|0)|0},st=Math.log,ct=Math.LN2;var lt=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,i=268435455&n;if(0!==i){var s=i&~o;0!==s?r=dt(s):0!==(a&=i)&&(r=dt(a))}else 0!==(i=n&~o)?r=dt(i):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(a=t&-t)||16===o&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-it(t)),r|=e[n],t&=~o;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Ct,kt,St,xt,Tt,It=!1,Et=[],At=null,Nt=null,_t=null,Rt=new Map,Pt=new Map,Ot=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,o,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},null!==t&&(null!==(t=wo(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Dt(e){var t=bo(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void Tt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function qt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wo(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ft(e,t,n){qt(e)&&n.delete(t)}function Ht(){It=!1,null!==At&&qt(At)&&(At=null),null!==Nt&&qt(Nt)&&(Nt=null),null!==_t&&qt(_t)&&(_t=null),Rt.forEach(Ft),Pt.forEach(Ft)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ht)))}function zt(e){function t(t){return Ut(t,e)}if(0<Et.length){Ut(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&Ut(At,e),null!==Nt&&Ut(Nt,e),null!==_t&&Ut(_t,e),Rt.forEach(t),Pt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Dt(n),null===n.blockedOn&&Ot.shift()}var Bt=w.ReactCurrentBatchConfig,$t=!0;function Kt(e,t,n,r){var o=bt,a=Bt.transition;Bt.transition=null;try{bt=1,Vt(e,t,n,r)}finally{bt=o,Bt.transition=a}}function Wt(e,t,n,r){var o=bt,a=Bt.transition;Bt.transition=null;try{bt=4,Vt(e,t,n,r)}finally{bt=o,Bt.transition=a}}function Vt(e,t,n,r){if($t){var o=Qt(e,t,n,r);if(null===o)$r(e,t,r,Gt,n),jt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return At=Lt(At,e,t,n,r,o),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,o),!0;case"mouseover":return _t=Lt(_t,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return Rt.set(a,Lt(Rt.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,Pt.set(a,Lt(Pt.get(a)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(jt(e,r),4&t&&-1<Mt.indexOf(e)){for(;null!==o;){var a=wo(o);if(null!==a&&Ct(a),null===(a=Qt(e,t,n,r))&&$r(e,t,r,Gt,n),a===o)break;o=a}null!==o&&r.stopPropagation()}else $r(e,t,r,null,n)}}var Gt=null;function Qt(e,t,n,r){if(Gt=null,null!==(e=bo(e=Ce(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,o="value"in Jt?Jt.value:Jt.textContent,a=o.length;for(e=0;e<r&&n[e]===o[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===o[a-t];t++);return Zt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,a){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(o):o[i]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(ln),dn=D({},ln,{view:0,detail:0}),hn=on(dn),fn=D({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(an=e.screenX-cn.screenX,sn=e.screenY-cn.screenY):sn=an=0,cn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(fn),mn=on(D({},fn,{dataTransfer:0})),gn=on(D({},dn,{relatedTarget:0})),yn=on(D({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=D({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(vn),wn=on(D({},ln,{data:0})),Cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Tn(){return xn}var In=D({},dn,{key:function(e){if(e.key){var t=Cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=on(In),An=on(D({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=on(D({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),_n=on(D({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=D({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(Rn),On=[9,13,27,32],Mn=u&&"CompositionEvent"in window,jn=null;u&&"documentMode"in document&&(jn=document.documentMode);var Ln=u&&"TextEvent"in window&&!jn,Dn=u&&(!Mn||jn&&8<jn&&11>=jn),qn=String.fromCharCode(32),Fn=!1;function Hn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ie(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Vn=null;function Gn(e){qr(e,0)}function Qn(e){if(V(Co(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Vn=Wn=null)}function nr(e){if("value"===e.propertyName&&Qn(Vn)){var t=[];Kn(t,Vn,e,Ce(e)),Re(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Vn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Vn)}function ar(e,t){if("click"===e)return Qn(t)}function ir(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!sr(e[o],t[o]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=void 0===r.end?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=ur(n,a);var i=ur(n,r);o&&i&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&cr(vr,r)||(vr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Cr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionend:Cr("Transition","TransitionEnd")},Sr={},xr={};function Tr(e){if(Sr[e])return Sr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return Sr[e]=n[t];return e}u&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Ir=Tr("animationend"),Er=Tr("animationiteration"),Ar=Tr("animationstart"),Nr=Tr("transitionend"),_r=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){_r.set(e,t),c(t,[e])}for(var Or=0;Or<Rr.length;Or++){var Mr=Rr[Or];Pr(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Pr(Ir,"onAnimationEnd"),Pr(Er,"onAnimationIteration"),Pr(Ar,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,i,s,c,l){if(Ue.apply(this,arguments),Le){if(!Le)throw Error(a(198));var u=De;Le=!1,De=null,qe||(qe=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function qr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&o.isPropagationStopped())break e;Dr(o,s,l),a=c}else for(i=0;i<r.length;i++){if(c=(s=r[i]).instance,l=s.currentTarget,s=s.listener,c!==a&&o.isPropagationStopped())break e;Dr(o,s,l),a=c}}}if(qe)throw e=Fe,qe=!1,Fe=null,e}function Fr(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function Hr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Ur]){e[Ur]=!0,i.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Hr(t,!1,e),Hr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Hr("selectionchange",!1,t))}}function Br(e,t,n,r){switch(Yt(t)){case 1:var o=Kt;break;case 4:o=Wt;break;default:o=Vt}n=o.bind(null,t,n,e),o=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function $r(e,t,n,r,o){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===i)for(i=r.return;null!==i;){var c=i.tag;if((3===c||4===c)&&((c=i.stateNode.containerInfo)===o||8===c.nodeType&&c.parentNode===o))return;i=i.return}for(;null!==s;){if(null===(i=bo(s)))return;if(5===(c=i.tag)||6===c){r=a=i;continue e}s=s.parentNode}}r=r.return}Re((function(){var r=a,o=Ce(n),i=[];e:{var s=_r.get(e);if(void 0!==s){var c=un,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=En;break;case"focusin":l="focus",c=gn;break;case"focusout":l="blur",c=gn;break;case"beforeblur":case"afterblur":c=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Nn;break;case Ir:case Er:case Ar:c=yn;break;case Nr:c=_n;break;case"scroll":c=hn;break;case"wheel":c=Pn;break;case"copy":case"cut":case"paste":c=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=An}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Pe(p,h))&&u.push(Kr(p,m,f)))),d)break;p=p.return}0<u.length&&(s=new c(s,l,null,n,o),i.push({event:s,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(l=n.relatedTarget||n.fromElement)||!bo(l)&&!l[mo])&&(c||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?bo(l):null)&&(l!==(d=ze(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=An,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==c?s:Co(c),f=null==l?s:Co(l),(s=new u(m,p+"leave",c,n,o)).target=d,s.relatedTarget=f,m=null,bo(o)===r&&((u=new u(h,p+"enter",l,n,o)).target=f,u.relatedTarget=d,m=u),d=m,c&&l)e:{for(h=l,p=0,f=u=c;f;f=Vr(f))p++;for(f=0,m=h;m;m=Vr(m))f++;for(;0<p-f;)u=Vr(u),p--;for(;0<f-p;)h=Vr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Vr(u),h=Vr(h)}u=null}else u=null;null!==c&&Gr(i,s,c,u,!1),null!==l&&null!==d&&Gr(i,d,l,u,!0)}if("select"===(c=(s=r?Co(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var g=Yn;else if($n(s))if(Jn)g=ir;else{g=or;var y=rr}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ar);switch(g&&(g=g(e,r))?Kn(i,g,n,o):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?Co(r):window,e){case"focusin":($n(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(i,n,o);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(i,n,o)}var v;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Hn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Dn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(v=en()):(Xt="value"in(Jt=o)?Jt.value:Jt.textContent,zn=!0)),0<(y=Wr(r,b)).length&&(b=new wn(b,e,null,n,o),i.push({event:b,listeners:y}),v?b.data=v:null!==(v=Un(n))&&(b.data=v))),(v=Ln?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Fn=!0,qn);case"textInput":return(e=t.data)===qn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Mn&&Hn(e,t)?(e=en(),Zt=Xt=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(o=new wn("onBeforeInput","beforeinput",null,n,o),i.push({event:o,listeners:r}),o.data=v))}qr(i,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,a=o.stateNode;5===o.tag&&null!==a&&(o=a,null!=(a=Pe(e,n))&&r.unshift(Kr(e,a,o)),null!=(a=Pe(e,t))&&r.push(Kr(e,a,o))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,o){for(var a=t._reactName,i=[];null!==n&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(null!==c&&c===r)break;5===s.tag&&null!==l&&(s=l,o?null!=(c=Pe(n,a))&&i.unshift(Kr(n,c,s)):o||null!=(c=Pe(n,a))&&i.push(Kr(n,c,s))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Zr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,ao="function"===typeof Promise?Promise:void 0,io="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ao?function(e){return ao.resolve(null).then(e).catch(so)}:ro;function so(e){setTimeout((function(){throw e}))}function co(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);zt(t)}function lo(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),fo="__reactFiber$"+ho,po="__reactProps$"+ho,mo="__reactContainer$"+ho,go="__reactEvents$"+ho,yo="__reactListeners$"+ho,vo="__reactHandles$"+ho;function bo(e){var t=e[fo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[fo]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[fo])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function wo(e){return!(e=e[fo]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Co(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ko(e){return e[po]||null}var So=[],xo=-1;function To(e){return{current:e}}function Io(e){0>xo||(e.current=So[xo],So[xo]=null,xo--)}function Eo(e,t){xo++,So[xo]=e.current,e.current=t}var Ao={},No=To(Ao),_o=To(!1),Ro=Ao;function Po(e,t){var n=e.type.contextTypes;if(!n)return Ao;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in n)a[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oo(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mo(){Io(_o),Io(No)}function jo(e,t,n){if(No.current!==Ao)throw Error(a(168));Eo(No,t),Eo(_o,n)}function Lo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,B(e)||"Unknown",o));return D({},n,r)}function Do(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ao,Ro=No.current,Eo(No,e),Eo(_o,_o.current),!0}function qo(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Lo(e,t,Ro),r.__reactInternalMemoizedMergedChildContext=e,Io(_o),Io(No),Eo(No,e)):Io(_o),Eo(_o,n)}var Fo=null,Ho=!1,Uo=!1;function zo(e){null===Fo?Fo=[e]:Fo.push(e)}function Bo(){if(!Uo&&null!==Fo){Uo=!0;var e=0,t=bt;try{var n=Fo;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fo=null,Ho=!1}catch(o){throw null!==Fo&&(Fo=Fo.slice(e+1)),Ve(Ze,Bo),o}finally{bt=t,Uo=!1}}return null}var $o=[],Ko=0,Wo=null,Vo=0,Go=[],Qo=0,Yo=null,Jo=1,Xo="";function Zo(e,t){$o[Ko++]=Vo,$o[Ko++]=Wo,Wo=e,Vo=t}function ea(e,t,n){Go[Qo++]=Jo,Go[Qo++]=Xo,Go[Qo++]=Yo,Yo=e;var r=Jo;e=Xo;var o=32-it(r)-1;r&=~(1<<o),n+=1;var a=32-it(t)+o;if(30<a){var i=o-o%5;a=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Jo=1<<32-it(t)+o|n<<o|r,Xo=a+e}else Jo=1<<a|n<<o|r,Xo=e}function ta(e){null!==e.return&&(Zo(e,1),ea(e,1,0))}function na(e){for(;e===Wo;)Wo=$o[--Ko],$o[Ko]=null,Vo=$o[--Ko],$o[Ko]=null;for(;e===Yo;)Yo=Go[--Qo],Go[Qo]=null,Xo=Go[--Qo],Go[Qo]=null,Jo=Go[--Qo],Go[Qo]=null}var ra=null,oa=null,aa=!1,ia=null;function sa(e,t){var n=Rl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ca(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ra=e,oa=lo(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ra=e,oa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yo?{id:Jo,overflow:Xo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ra=e,oa=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ua(e){if(aa){var t=oa;if(t){var n=t;if(!ca(e,t)){if(la(e))throw Error(a(418));t=lo(n.nextSibling);var r=ra;t&&ca(e,t)?sa(r,n):(e.flags=-4097&e.flags|2,aa=!1,ra=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,aa=!1,ra=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ra=e}function ha(e){if(e!==ra)return!1;if(!aa)return da(e),aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oa)){if(la(e))throw fa(),Error(a(418));for(;t;)sa(e,t),t=lo(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oa=lo(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oa=null}}else oa=ra?lo(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=oa;e;)e=lo(e.nextSibling)}function pa(){oa=ra=null,aa=!1}function ma(e){null===ia?ia=[e]:ia.push(e)}var ga=w.ReactCurrentBatchConfig;function ya(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var o=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=o.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function va(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ba(e){return(0,e._init)(e._payload)}function wa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Ol(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Dl(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&ba(a)===t.type)?((r=o(t,n.props)).ref=ya(e,t,n),r.return=e,r):((r=Ml(n.type,n.key,n.props,null,e.mode,r)).ref=ya(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ql(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=jl(n,e.mode,r,a)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case C:return(n=Ml(t.type,t.key,t.props,null,e.mode,n)).ref=ya(e,null,t),n.return=e,n;case k:return(t=ql(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||j(t))return(t=jl(t,e.mode,n,null)).return=e,t;va(e,t)}return null}function f(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case C:return n.key===o?l(e,t,n,r):null;case k:return n.key===o?u(e,t,n,r):null;case P:return f(e,t,(o=n._init)(n._payload),r)}if(te(n)||j(n))return null!==o?null:d(e,t,n,r,null);va(e,n)}return null}function p(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case C:return l(t,e=e.get(null===r.key?n:r.key)||null,r,o);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case P:return p(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||j(r))return d(t,e=e.get(n)||null,r,o,null);va(t,r)}return null}function m(o,a,s,c){for(var l=null,u=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(o,d,s[m],c);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(o,d),a=i(y,a,m),null===u?l=y:u.sibling=y,u=y,d=g}if(m===s.length)return n(o,d),aa&&Zo(o,m),l;if(null===d){for(;m<s.length;m++)null!==(d=h(o,s[m],c))&&(a=i(d,a,m),null===u?l=d:u.sibling=d,u=d);return aa&&Zo(o,m),l}for(d=r(o,d);m<s.length;m++)null!==(g=p(d,o,m,s[m],c))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=i(g,a,m),null===u?l=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(o,e)})),aa&&Zo(o,m),l}function g(o,s,c,l){var u=j(c);if("function"!==typeof u)throw Error(a(150));if(null==(c=u.call(c)))throw Error(a(151));for(var d=u=null,m=s,g=s=0,y=null,v=c.next();null!==m&&!v.done;g++,v=c.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(o,m,v.value,l);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(o,m),s=i(b,s,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(o,m),aa&&Zo(o,g),u;if(null===m){for(;!v.done;g++,v=c.next())null!==(v=h(o,v.value,l))&&(s=i(v,s,g),null===d?u=v:d.sibling=v,d=v);return aa&&Zo(o,g),u}for(m=r(o,m);!v.done;g++,v=c.next())null!==(v=p(m,o,g,v.value,l))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=i(v,s,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(o,e)})),aa&&Zo(o,g),u}return function e(r,a,i,c){if("object"===typeof i&&null!==i&&i.type===S&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case C:e:{for(var l=i.key,u=a;null!==u;){if(u.key===l){if((l=i.type)===S){if(7===u.tag){n(r,u.sibling),(a=o(u,i.props.children)).return=r,r=a;break e}}else if(u.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===P&&ba(l)===u.type){n(r,u.sibling),(a=o(u,i.props)).ref=ya(r,u,i),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}i.type===S?((a=jl(i.props.children,r.mode,c,i.key)).return=r,r=a):((c=Ml(i.type,i.key,i.props,null,r.mode,c)).ref=ya(r,a,i),c.return=r,r=c)}return s(r);case k:e:{for(u=i.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){n(r,a.sibling),(a=o(a,i.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=ql(i,r.mode,c)).return=r,r=a}return s(r);case P:return e(r,a,(u=i._init)(i._payload),c)}if(te(i))return m(r,a,i,c);if(j(i))return g(r,a,i,c);va(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==a&&6===a.tag?(n(r,a.sibling),(a=o(a,i)).return=r,r=a):(n(r,a),(a=Dl(i,r.mode,c)).return=r,r=a),s(r)):n(r,a)}}var Ca=wa(!0),ka=wa(!1),Sa=To(null),xa=null,Ta=null,Ia=null;function Ea(){Ia=Ta=xa=null}function Aa(e){var t=Sa.current;Io(Sa),e._currentValue=t}function Na(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _a(e,t){xa=e,Ia=Ta=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ra(e){var t=e._currentValue;if(Ia!==e)if(e={context:e,memoizedValue:t,next:null},null===Ta){if(null===xa)throw Error(a(308));Ta=e,xa.dependencies={lanes:0,firstContext:e}}else Ta=Ta.next=e;return t}var Pa=null;function Oa(e){null===Pa?Pa=[e]:Pa.push(e)}function Ma(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Oa(t)):(n.next=o.next,o.next=n),t.interleaved=n,ja(e,r)}function ja(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var La=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ha(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ac)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,ja(e,n)}return null===(o=r.interleaved)?(t.next=t,Oa(r)):(t.next=o.next,o.next=t),r.interleaved=t,ja(e,n)}function Ua(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function za(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?o=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?o=a=t:a=a.next=t}else o=a=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ba(e,t,n,r){var o=e.updateQueue;La=!1;var a=o.firstBaseUpdate,i=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var c=s,l=c.next;c.next=null,null===i?a=l:i.next=l,i=c;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===s?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(null!==a){var d=o.baseState;for(i=0,u=l=c=null,s=a;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=D({},d,h);break e;case 2:La=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=o.effects)?o.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(l=u=f,c=d):u=u.next=f,i|=h;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(h=s).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}if(null===u&&(c=d),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{i|=o.lane,o=o.next}while(o!==t)}else null===a&&(o.shared.lanes=0);Lc|=i,e.lanes=i,e.memoizedState=d}}function $a(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(a(191,o));o.call(r)}}}var Ka={},Wa=To(Ka),Va=To(Ka),Ga=To(Ka);function Qa(e){if(e===Ka)throw Error(a(174));return e}function Ya(e,t){switch(Eo(Ga,t),Eo(Va,e),Eo(Wa,Ka),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Io(Wa),Eo(Wa,t)}function Ja(){Io(Wa),Io(Va),Io(Ga)}function Xa(e){Qa(Ga.current);var t=Qa(Wa.current),n=ce(t,e.type);t!==n&&(Eo(Va,e),Eo(Wa,n))}function Za(e){Va.current===e&&(Io(Wa),Io(Va))}var ei=To(0);function ti(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ni=[];function ri(){for(var e=0;e<ni.length;e++)ni[e]._workInProgressVersionPrimary=null;ni.length=0}var oi=w.ReactCurrentDispatcher,ai=w.ReactCurrentBatchConfig,ii=0,si=null,ci=null,li=null,ui=!1,di=!1,hi=0,fi=0;function pi(){throw Error(a(321))}function mi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function gi(e,t,n,r,o,i){if(ii=i,si=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oi.current=null===e||null===e.memoizedState?Zi:es,e=n(r,o),di){i=0;do{if(di=!1,hi=0,25<=i)throw Error(a(301));i+=1,li=ci=null,t.updateQueue=null,oi.current=ts,e=n(r,o)}while(di)}if(oi.current=Xi,t=null!==ci&&null!==ci.next,ii=0,li=ci=si=null,ui=!1,t)throw Error(a(300));return e}function yi(){var e=0!==hi;return hi=0,e}function vi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===li?si.memoizedState=li=e:li=li.next=e,li}function bi(){if(null===ci){var e=si.alternate;e=null!==e?e.memoizedState:null}else e=ci.next;var t=null===li?si.memoizedState:li.next;if(null!==t)li=t,ci=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ci=e).memoizedState,baseState:ci.baseState,baseQueue:ci.baseQueue,queue:ci.queue,next:null},null===li?si.memoizedState=li=e:li=li.next=e}return li}function wi(e,t){return"function"===typeof t?t(e):t}function Ci(e){var t=bi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ci,o=r.baseQueue,i=n.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(null!==o){i=o.next,r=r.baseState;var c=s=null,l=null,u=i;do{var d=u.lane;if((ii&d)===d)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(c=l=h,s=r):l=l.next=h,si.lanes|=d,Lc|=d}u=u.next}while(null!==u&&u!==i);null===l?s=r:l.next=c,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{i=o.lane,si.lanes|=i,Lc|=i,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ki(e){var t=bi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{i=e(i,s.action),s=s.next}while(s!==o);sr(i,t.memoizedState)||(bs=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Si(){}function xi(e,t){var n=si,r=bi(),o=t(),i=!sr(r.memoizedState,o);if(i&&(r.memoizedState=o,bs=!0),r=r.queue,Li(Ei.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==li&&1&li.memoizedState.tag){if(n.flags|=2048,Ri(9,Ii.bind(null,n,r,o,t),void 0,null),null===Nc)throw Error(a(349));0!==(30&ii)||Ti(n,t,o)}return o}function Ti(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=si.updateQueue)?(t={lastEffect:null,stores:null},si.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ii(e,t,n,r){t.value=n,t.getSnapshot=r,Ai(t)&&Ni(e)}function Ei(e,t,n){return n((function(){Ai(t)&&Ni(e)}))}function Ai(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ni(e){var t=ja(e,1);null!==t&&nl(t,e,1,-1)}function _i(e){var t=vi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:e},t.queue=e,e=e.dispatch=Gi.bind(null,si,e),[t.memoizedState,e]}function Ri(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=si.updateQueue)?(t={lastEffect:null,stores:null},si.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Pi(){return bi().memoizedState}function Oi(e,t,n,r){var o=vi();si.flags|=e,o.memoizedState=Ri(1|t,n,void 0,void 0===r?null:r)}function Mi(e,t,n,r){var o=bi();r=void 0===r?null:r;var a=void 0;if(null!==ci){var i=ci.memoizedState;if(a=i.destroy,null!==r&&mi(r,i.deps))return void(o.memoizedState=Ri(t,n,a,r))}si.flags|=e,o.memoizedState=Ri(1|t,n,a,r)}function ji(e,t){return Oi(8390656,8,e,t)}function Li(e,t){return Mi(2048,8,e,t)}function Di(e,t){return Mi(4,2,e,t)}function qi(e,t){return Mi(4,4,e,t)}function Fi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Hi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mi(4,4,Fi.bind(null,t,e),n)}function Ui(){}function zi(e,t){var n=bi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Bi(e,t){var n=bi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $i(e,t,n){return 0===(21&ii)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),si.lanes|=n,Lc|=n,e.baseState=!0),t)}function Ki(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ai.transition;ai.transition={};try{e(!1),t()}finally{bt=n,ai.transition=r}}function Wi(){return bi().memoizedState}function Vi(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qi(e))Yi(t,n);else if(null!==(n=Ma(e,t,n,r))){nl(n,e,r,el()),Ji(n,t,r)}}function Gi(e,t,n){var r=tl(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qi(e))Yi(t,o);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=a(i,n);if(o.hasEagerState=!0,o.eagerState=s,sr(s,i)){var c=t.interleaved;return null===c?(o.next=o,Oa(t)):(o.next=c.next,c.next=o),void(t.interleaved=o)}}catch(l){}null!==(n=Ma(e,t,o,r))&&(nl(n,e,r,o=el()),Ji(n,t,r))}}function Qi(e){var t=e.alternate;return e===si||null!==t&&t===si}function Yi(e,t){di=ui=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ji(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Xi={readContext:Ra,useCallback:pi,useContext:pi,useEffect:pi,useImperativeHandle:pi,useInsertionEffect:pi,useLayoutEffect:pi,useMemo:pi,useReducer:pi,useRef:pi,useState:pi,useDebugValue:pi,useDeferredValue:pi,useTransition:pi,useMutableSource:pi,useSyncExternalStore:pi,useId:pi,unstable_isNewReconciler:!1},Zi={readContext:Ra,useCallback:function(e,t){return vi().memoizedState=[e,void 0===t?null:t],e},useContext:Ra,useEffect:ji,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oi(4194308,4,Fi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oi(4,2,e,t)},useMemo:function(e,t){var n=vi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Vi.bind(null,si,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vi().memoizedState=e},useState:_i,useDebugValue:Ui,useDeferredValue:function(e){return vi().memoizedState=e},useTransition:function(){var e=_i(!1),t=e[0];return e=Ki.bind(null,e[1]),vi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=si,o=vi();if(aa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Nc)throw Error(a(349));0!==(30&ii)||Ti(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,ji(Ei.bind(null,r,i,e),[e]),r.flags|=2048,Ri(9,Ii.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=vi(),t=Nc.identifierPrefix;if(aa){var n=Xo;t=":"+t+"R"+(n=(Jo&~(1<<32-it(Jo)-1)).toString(32)+n),0<(n=hi++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Ra,useCallback:zi,useContext:Ra,useEffect:Li,useImperativeHandle:Hi,useInsertionEffect:Di,useLayoutEffect:qi,useMemo:Bi,useReducer:Ci,useRef:Pi,useState:function(){return Ci(wi)},useDebugValue:Ui,useDeferredValue:function(e){return $i(bi(),ci.memoizedState,e)},useTransition:function(){return[Ci(wi)[0],bi().memoizedState]},useMutableSource:Si,useSyncExternalStore:xi,useId:Wi,unstable_isNewReconciler:!1},ts={readContext:Ra,useCallback:zi,useContext:Ra,useEffect:Li,useImperativeHandle:Hi,useInsertionEffect:Di,useLayoutEffect:qi,useMemo:Bi,useReducer:ki,useRef:Pi,useState:function(){return ki(wi)},useDebugValue:Ui,useDeferredValue:function(e){var t=bi();return null===ci?t.memoizedState=e:$i(t,ci.memoizedState,e)},useTransition:function(){return[ki(wi)[0],bi().memoizedState]},useMutableSource:Si,useSyncExternalStore:xi,useId:Wi,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var os={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),o=tl(e),a=Fa(r,o);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ha(e,a,o))&&(nl(t,e,o,r),Ua(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),o=tl(e),a=Fa(r,o);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ha(e,a,o))&&(nl(t,e,o,r),Ua(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),o=Fa(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Ha(e,o,r))&&(nl(t,e,r,n),Ua(t,e,r))}};function as(e,t,n,r,o,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(o,a))}function is(e,t,n){var r=!1,o=Ao,a=t.contextType;return"object"===typeof a&&null!==a?a=Ra(a):(o=Oo(t)?Ro:No.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Po(e,o):Ao),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=os,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&os.enqueueReplaceState(t,t.state,null)}function cs(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Da(e);var a=t.contextType;"object"===typeof a&&null!==a?o.context=Ra(a):(a=Oo(t)?Ro:No.current,o.context=Po(e,a)),o.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(rs(e,t,a,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&os.enqueueReplaceState(o,o.state,null),Ba(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function ls(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var o=n}catch(a){o="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:o,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Fa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$c||($c=!0,Kc=r),ds(0,t)},n}function ps(e,t,n){(n=Fa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){ds(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Wc?Wc=new Set([this]):Wc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Tl.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fa(-1,1)).tag=2,Ha(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var vs=w.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?ka(t,null,n,r):Ca(t,e.child,n,r)}function Cs(e,t,n,r,o){n=n.render;var a=t.ref;return _a(t,o),r=gi(e,t,n,r,a,o),n=yi(),null===e||bs?(aa&&n&&ta(t),t.flags|=1,ws(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,$s(e,t,o))}function ks(e,t,n,r,o){if(null===e){var a=n.type;return"function"!==typeof a||Pl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ml(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,o))}if(a=e.child,0===(e.lanes&o)){var i=a.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(i,r)&&e.ref===t.ref)return $s(e,t,o)}return t.flags|=1,(e=Ol(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,o){if(null!==e){var a=e.memoizedProps;if(cr(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&o))return t.lanes=e.lanes,$s(e,t,o);0!==(131072&e.flags)&&(bs=!0)}}return Is(e,t,n,r,o)}function xs(e,t,n){var r=t.pendingProps,o=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Eo(Oc,Pc),Pc|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Eo(Oc,Pc),Pc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Eo(Oc,Pc),Pc|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Eo(Oc,Pc),Pc|=r;return ws(e,t,o,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,o){var a=Oo(n)?Ro:No.current;return a=Po(t,a),_a(t,o),n=gi(e,t,n,r,a,o),r=yi(),null===e||bs?(aa&&r&&ta(t),t.flags|=1,ws(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,$s(e,t,o))}function Es(e,t,n,r,o){if(Oo(n)){var a=!0;Do(t)}else a=!1;if(_a(t,o),null===t.stateNode)Bs(e,t),is(t,n,r),cs(t,n,r,o),r=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var c=i.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ra(l):l=Po(t,l=Oo(n)?Ro:No.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==r||c!==l)&&ss(t,i,r,l),La=!1;var h=t.memoizedState;i.state=h,Ba(t,r,i,o),c=t.memoizedState,s!==r||h!==c||_o.current||La?("function"===typeof u&&(rs(t,n,u,r),c=t.memoizedState),(s=La||as(t,n,s,r,h,c,l))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=l,r=s):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,qa(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ns(t.type,s),i.props=l,d=t.pendingProps,h=i.context,"object"===typeof(c=n.contextType)&&null!==c?c=Ra(c):c=Po(t,c=Oo(n)?Ro:No.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==d||h!==c)&&ss(t,i,r,c),La=!1,h=t.memoizedState,i.state=h,Ba(t,r,i,o);var p=t.memoizedState;s!==d||h!==p||_o.current||La?("function"===typeof f&&(rs(t,n,f,r),p=t.memoizedState),(l=La||as(t,n,l,r,h,p,c)||!1)?(u||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,c),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=c,r=l):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,a,o)}function As(e,t,n,r,o,a){Ts(e,t);var i=0!==(128&t.flags);if(!r&&!i)return o&&qo(t,n,!1),$s(e,t,a);r=t.stateNode,vs.current=t;var s=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=Ca(t,e.child,null,a),t.child=Ca(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,o&&qo(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?jo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&jo(0,t.context,!1),Ya(e,t.containerInfo)}function _s(e,t,n,r,o){return pa(),ma(o),t.flags|=256,ws(e,t,n,r),t.child}var Rs,Ps,Os,Ms,js={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ds(e,t,n){var r,o=t.pendingProps,i=ei.current,s=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Eo(ei,1&i),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=o.children,e=o.fallback,s?(o=t.mode,s=t.child,c={mode:"hidden",children:c},0===(1&o)&&null!==s?(s.childLanes=0,s.pendingProps=c):s=Ll(c,o,0,null),e=jl(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=js,e):qs(t,c));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,o,i,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,r=us(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Ll({mode:"visible",children:r.children},o,0,null),(i=jl(i,o,s,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&Ca(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=js,i);if(0===(1&t.mode))return Fs(e,t,s,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var c=r.dgst;return r=c,Fs(e,t,s,r=us(i=Error(a(419)),r,void 0))}if(c=0!==(s&e.childLanes),bs||c){if(null!==(r=Nc)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|s))?0:o)&&o!==i.retryLane&&(i.retryLane=o,ja(e,o),nl(r,e,o,-1))}return ml(),Fs(e,t,s,r=us(Error(a(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=El.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,oa=lo(o.nextSibling),ra=t,aa=!0,ia=null,null!==e&&(Go[Qo++]=Jo,Go[Qo++]=Xo,Go[Qo++]=Yo,Jo=e.id,Xo=e.overflow,Yo=t),t=qs(t,r.children),t.flags|=4096,t)}(e,t,c,o,r,i,n);if(s){s=o.fallback,c=t.mode,r=(i=e.child).sibling;var l={mode:"hidden",children:o.children};return 0===(1&c)&&t.child!==i?((o=t.child).childLanes=0,o.pendingProps=l,t.deletions=null):(o=Ol(i,l)).subtreeFlags=14680064&i.subtreeFlags,null!==r?s=Ol(r,s):(s=jl(s,c,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,c=null===(c=e.child.memoizedState)?Ls(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},s.memoizedState=c,s.childLanes=e.childLanes&~n,t.memoizedState=js,o}return e=(s=e.child).sibling,o=Ol(s,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function qs(e,t){return(t=Ll({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,r){return null!==r&&ma(r),Ca(t,e.child,null,n),(e=qs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Hs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Na(e.return,t,n)}function Us(e,t,n,r,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function zs(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ei.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Hs(e,n,t);else if(19===e.tag)Hs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Eo(ei,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ti(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Us(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ti(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Us(t,!0,n,null,a);break;case"together":Us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $s(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ol(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ol(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Vs(e,t,n){var r=t.pendingProps;switch(na(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Oo(t.type)&&Mo(),Ws(t),null;case 3:return r=t.stateNode,Ja(),Io(_o),Io(No),ri(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ha(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ia&&(il(ia),ia=null))),Ps(e,t),Ws(t),null;case 5:Za(t);var o=Qa(Ga.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ws(t),null}if(e=Qa(Wa.current),ha(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[fo]=t,r[po]=i,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(o=0;o<jr.length;o++)Fr(jr[o],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Y(r,i),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Fr("invalid",r);break;case"textarea":oe(r,i),Fr("invalid",r)}for(var c in ve(n,i),o=null,i)if(i.hasOwnProperty(c)){var l=i[c];"children"===c?"string"===typeof l?r.textContent!==l&&(!0!==i.suppressHydrationWarning&&Xr(r.textContent,l,e),o=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==i.suppressHydrationWarning&&Xr(r.textContent,l,e),o=["children",""+l]):s.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&Fr("scroll",r)}switch(n){case"input":W(r),Z(r,i,!0);break;case"textarea":W(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Zr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[fo]=t,e[po]=r,Rs(e,t,!1,!1),t.stateNode=e;e:{switch(c=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),o=r;break;case"iframe":case"object":case"embed":Fr("load",e),o=r;break;case"video":case"audio":for(o=0;o<jr.length;o++)Fr(jr[o],e);o=r;break;case"source":Fr("error",e),o=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),o=r;break;case"details":Fr("toggle",e),o=r;break;case"input":Y(e,r),o=Q(e,r),Fr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=D({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),Fr("invalid",e)}for(i in ve(n,o),l=o)if(l.hasOwnProperty(i)){var u=l[i];"style"===i?ge(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===i?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(s.hasOwnProperty(i)?null!=u&&"onScroll"===i&&Fr("scroll",e):null!=u&&b(e,i,u,c))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Ms(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Qa(Ga.current),Qa(Wa.current),ha(t)){if(r=t.stateNode,n=t.memoizedProps,r[fo]=t,(i=r.nodeValue!==n)&&null!==(e=ra))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fo]=t,t.stateNode=r}return Ws(t),null;case 13:if(Io(ei),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(aa&&null!==oa&&0!==(1&t.mode)&&0===(128&t.flags))fa(),pa(),t.flags|=98560,i=!1;else if(i=ha(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[fo]=t}else pa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),i=!1}else null!==ia&&(il(ia),ia=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ei.current)?0===Mc&&(Mc=3):ml())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return Ja(),Ps(e,t),null===e&&zr(t.stateNode.containerInfo),Ws(t),null;case 10:return Aa(t.type._context),Ws(t),null;case 19:if(Io(ei),null===(i=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(c=i.rendering))if(r)Ks(i,!1);else{if(0!==Mc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=ti(e))){for(t.flags|=128,Ks(i,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(c=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,e=c.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Eo(ei,1&ei.current|2),t.child}e=e.sibling}null!==i.tail&&Je()>zc&&(t.flags|=128,r=!0,Ks(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ti(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(i,!0),null===i.tail&&"hidden"===i.tailMode&&!c.alternate&&!aa)return Ws(t),null}else 2*Je()-i.renderingStartTime>zc&&1073741824!==n&&(t.flags|=128,r=!0,Ks(i,!1),t.lanes=4194304);i.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=i.last)?n.sibling=c:t.child=c,i.last=c)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Je(),t.sibling=null,n=ei.current,Eo(ei,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return dl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pc)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Gs(e,t){switch(na(t),t.tag){case 1:return Oo(t.type)&&Mo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ja(),Io(_o),Io(No),ri(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(Io(ei),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Io(ei),null;case 4:return Ja(),null;case 10:return Aa(t.type._context),null;case 22:case 23:return dl(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(){},Os=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Qa(Wa.current);var a,i=null;switch(n){case"input":o=Q(e,o),r=Q(e,r),i=[];break;case"select":o=D({},o,{value:void 0}),r=D({},r,{value:void 0}),i=[];break;case"textarea":o=re(e,o),r=re(e,r),i=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var c=o[u];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(c=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(i=i||[]).push(u,l)):"children"===u?"string"!==typeof l&&"number"!==typeof l||(i=i||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Fr("scroll",e),i||c===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},Ms=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,Ys=!1,Js="function"===typeof WeakSet?WeakSet:Set,Xs=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){xl(e,t,r)}else n.current=null}function ec(e,t,n){try{n()}catch(r){xl(e,t,r)}}var tc=!1;function nc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,void 0!==a&&ec(t,n,a)}o=o.next}while(o!==r)}}function rc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function oc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ac(e){var t=e.alternate;null!==t&&(e.alternate=null,ac(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fo],delete t[po],delete t[go],delete t[yo],delete t[vo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ic(e){return 5===e.tag||3===e.tag||4===e.tag}function sc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ic(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cc(e,t,n),e=e.sibling;null!==e;)cc(e,t,n),e=e.sibling}function lc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lc(e,t,n),e=e.sibling;null!==e;)lc(e,t,n),e=e.sibling}var uc=null,dc=!1;function hc(e,t,n){for(n=n.child;null!==n;)fc(e,t,n),n=n.sibling}function fc(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(ot,n)}catch(s){}switch(n.tag){case 5:Ys||Zs(n,t);case 6:var r=uc,o=dc;uc=null,hc(e,t,n),dc=o,null!==(uc=r)&&(dc?(e=uc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):uc.removeChild(n.stateNode));break;case 18:null!==uc&&(dc?(e=uc,n=n.stateNode,8===e.nodeType?co(e.parentNode,n):1===e.nodeType&&co(e,n),zt(e)):co(uc,n.stateNode));break;case 4:r=uc,o=dc,uc=n.stateNode.containerInfo,dc=!0,hc(e,t,n),uc=r,dc=o;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var a=o,i=a.destroy;a=a.tag,void 0!==i&&(0!==(2&a)||0!==(4&a))&&ec(n,t,i),o=o.next}while(o!==r)}hc(e,t,n);break;case 1:if(!Ys&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){xl(n,t,s)}hc(e,t,n);break;case 21:hc(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,hc(e,t,n),Ys=r):hc(e,t,n);break;default:hc(e,t,n)}}function pc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Al.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,c=s;e:for(;null!==c;){switch(c.tag){case 5:uc=c.stateNode,dc=!1;break e;case 3:case 4:uc=c.stateNode.containerInfo,dc=!0;break e}c=c.return}if(null===uc)throw Error(a(160));fc(i,s,o),uc=null,dc=!1;var l=o.alternate;null!==l&&(l.return=null),o.return=null}catch(u){xl(o,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gc(t,e),t=t.sibling}function gc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mc(t,e),yc(e),4&r){try{nc(3,e,e.return),rc(3,e)}catch(g){xl(e,e.return,g)}try{nc(5,e,e.return)}catch(g){xl(e,e.return,g)}}break;case 1:mc(t,e),yc(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(mc(t,e),yc(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var o=e.stateNode;try{he(o,"")}catch(g){xl(e,e.return,g)}}if(4&r&&null!=(o=e.stateNode)){var i=e.memoizedProps,s=null!==n?n.memoizedProps:i,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===i.type&&null!=i.name&&J(o,i),be(c,s);var u=be(c,i);for(s=0;s<l.length;s+=2){var d=l[s],h=l[s+1];"style"===d?ge(o,h):"dangerouslySetInnerHTML"===d?de(o,h):"children"===d?he(o,h):b(o,d,h,u)}switch(c){case"input":X(o,i);break;case"textarea":ae(o,i);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?ne(o,!!i.multiple,p,!1):f!==!!i.multiple&&(null!=i.defaultValue?ne(o,!!i.multiple,i.defaultValue,!0):ne(o,!!i.multiple,i.multiple?[]:"",!1))}o[po]=i}catch(g){xl(e,e.return,g)}}break;case 6:if(mc(t,e),yc(e),4&r){if(null===e.stateNode)throw Error(a(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(g){xl(e,e.return,g)}}break;case 3:if(mc(t,e),yc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){xl(e,e.return,g)}break;case 4:default:mc(t,e),yc(e);break;case 13:mc(t,e),yc(e),8192&(o=e.child).flags&&(i=null!==o.memoizedState,o.stateNode.isHidden=i,!i||null!==o.alternate&&null!==o.alternate.memoizedState||(Uc=Je())),4&r&&pc(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(u=Ys)||d,mc(t,e),Ys=u):mc(t,e),yc(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xs=e,d=e.child;null!==d;){for(h=Xs=d;null!==Xs;){switch(p=(f=Xs).child,f.tag){case 0:case 11:case 14:case 15:nc(4,f,f.return);break;case 1:Zs(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){xl(r,n,g)}}break;case 5:Zs(f,f.return);break;case 22:if(null!==f.memoizedState){Cc(h);continue}}null!==p?(p.return=f,Xs=p):Cc(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{o=h.stateNode,u?"function"===typeof(i=o.style).setProperty?i.setProperty("display","none","important"):i.display="none":(c=h.stateNode,s=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,c.style.display=me("display",s))}catch(g){xl(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){xl(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mc(t,e),yc(e),4&r&&pc(e);case 21:}}function yc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ic(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(he(o,""),r.flags&=-33),lc(e,sc(e),o);break;case 3:case 4:var i=r.stateNode.containerInfo;cc(e,sc(e),i);break;default:throw Error(a(161))}}catch(s){xl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vc(e,t,n){Xs=e,bc(e,t,n)}function bc(e,t,n){for(var r=0!==(1&e.mode);null!==Xs;){var o=Xs,a=o.child;if(22===o.tag&&r){var i=null!==o.memoizedState||Qs;if(!i){var s=o.alternate,c=null!==s&&null!==s.memoizedState||Ys;s=Qs;var l=Ys;if(Qs=i,(Ys=c)&&!l)for(Xs=o;null!==Xs;)c=(i=Xs).child,22===i.tag&&null!==i.memoizedState?kc(o):null!==c?(c.return=i,Xs=c):kc(o);for(;null!==a;)Xs=a,bc(a,t,n),a=a.sibling;Xs=o,Qs=s,Ys=l}wc(e)}else 0!==(8772&o.subtreeFlags)&&null!==a?(a.return=o,Xs=a):wc(e)}}function wc(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||rc(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&$a(t,i,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}$a(t,s,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Ys||512&t.flags&&oc(t)}catch(f){xl(t,t.return,f)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function Cc(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function kc(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rc(4,t)}catch(c){xl(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(c){xl(t,o,c)}}var a=t.return;try{oc(t)}catch(c){xl(t,a,c)}break;case 5:var i=t.return;try{oc(t)}catch(c){xl(t,i,c)}}}catch(c){xl(t,t.return,c)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var Sc,xc=Math.ceil,Tc=w.ReactCurrentDispatcher,Ic=w.ReactCurrentOwner,Ec=w.ReactCurrentBatchConfig,Ac=0,Nc=null,_c=null,Rc=0,Pc=0,Oc=To(0),Mc=0,jc=null,Lc=0,Dc=0,qc=0,Fc=null,Hc=null,Uc=0,zc=1/0,Bc=null,$c=!1,Kc=null,Wc=null,Vc=!1,Gc=null,Qc=0,Yc=0,Jc=null,Xc=-1,Zc=0;function el(){return 0!==(6&Ac)?Je():-1!==Xc?Xc:Xc=Je()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Ac)&&0!==Rc?Rc&-Rc:null!==ga.transition?(0===Zc&&(Zc=mt()),Zc):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nl(e,t,n,r){if(50<Yc)throw Yc=0,Jc=null,Error(a(185));yt(e,n,r),0!==(2&Ac)&&e===Nc||(e===Nc&&(0===(2&Ac)&&(Dc|=n),4===Mc&&sl(e,Rc)),rl(e,r),1===n&&0===Ac&&0===(1&t.mode)&&(zc=Je()+500,Ho&&Bo()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-it(a),s=1<<i,c=o[i];-1===c?0!==(s&n)&&0===(s&r)||(o[i]=ft(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Nc?Rc:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Ho=!0,zo(e)}(cl.bind(null,e)):zo(cl.bind(null,e)),io((function(){0===(6&Ac)&&Bo()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nl(n,ol.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ol(e,t){if(Xc=-1,Zc=0,0!==(6&Ac))throw Error(a(327));var n=e.callbackNode;if(kl()&&e.callbackNode!==n)return null;var r=ht(e,e===Nc?Rc:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gl(e,r);else{t=r;var o=Ac;Ac|=2;var i=pl();for(Nc===e&&Rc===t||(Bc=null,zc=Je()+500,hl(e,t));;)try{vl();break}catch(c){fl(e,c)}Ea(),Tc.current=i,Ac=o,null!==_c?t=0:(Nc=null,Rc=0,t=Mc)}if(0!==t){if(2===t&&(0!==(o=pt(e))&&(r=o,t=al(e,o))),1===t)throw n=jc,hl(e,0),sl(e,r),rl(e,Je()),n;if(6===t)sl(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!sr(a(),o))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=gl(e,r))&&(0!==(i=pt(e))&&(r=i,t=al(e,i))),1===t))throw n=jc,hl(e,0),sl(e,r),rl(e,Je()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Cl(e,Hc,Bc);break;case 3:if(sl(e,r),(130023424&r)===r&&10<(t=Uc+500-Je())){if(0!==ht(e,0))break;if(((o=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(Cl.bind(null,e,Hc,Bc),t);break}Cl(e,Hc,Bc);break;case 4:if(sl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-it(r);i=1<<s,(s=t[s])>o&&(o=s),r&=~i}if(r=o,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xc(r/1960))-r)){e.timeoutHandle=ro(Cl.bind(null,e,Hc,Bc),r);break}Cl(e,Hc,Bc);break;default:throw Error(a(329))}}}return rl(e,Je()),e.callbackNode===n?ol.bind(null,e):null}function al(e,t){var n=Fc;return e.current.memoizedState.isDehydrated&&(hl(e,t).flags|=256),2!==(e=gl(e,t))&&(t=Hc,Hc=n,null!==t&&il(t)),e}function il(e){null===Hc?Hc=e:Hc.push.apply(Hc,e)}function sl(e,t){for(t&=~qc,t&=~Dc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function cl(e){if(0!==(6&Ac))throw Error(a(327));kl();var t=ht(e,0);if(0===(1&t))return rl(e,Je()),null;var n=gl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=al(e,r))}if(1===n)throw n=jc,hl(e,0),sl(e,t),rl(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cl(e,Hc,Bc),rl(e,Je()),null}function ll(e,t){var n=Ac;Ac|=1;try{return e(t)}finally{0===(Ac=n)&&(zc=Je()+500,Ho&&Bo())}}function ul(e){null!==Gc&&0===Gc.tag&&0===(6&Ac)&&kl();var t=Ac;Ac|=1;var n=Ec.transition,r=bt;try{if(Ec.transition=null,bt=1,e)return e()}finally{bt=r,Ec.transition=n,0===(6&(Ac=t))&&Bo()}}function dl(){Pc=Oc.current,Io(Oc)}function hl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==_c)for(n=_c.return;null!==n;){var r=n;switch(na(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Mo();break;case 3:Ja(),Io(_o),Io(No),ri();break;case 5:Za(r);break;case 4:Ja();break;case 13:case 19:Io(ei);break;case 10:Aa(r.type._context);break;case 22:case 23:dl()}n=n.return}if(Nc=e,_c=e=Ol(e.current,null),Rc=Pc=t,Mc=0,jc=null,qc=Dc=Lc=0,Hc=Fc=null,null!==Pa){for(t=0;t<Pa.length;t++)if(null!==(r=(n=Pa[t]).interleaved)){n.interleaved=null;var o=r.next,a=n.pending;if(null!==a){var i=a.next;a.next=o,r.next=i}n.pending=r}Pa=null}return e}function fl(e,t){for(;;){var n=_c;try{if(Ea(),oi.current=Xi,ui){for(var r=si.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ui=!1}if(ii=0,li=ci=si=null,di=!1,hi=0,Ic.current=null,null===n||null===n.return){Mc=1,jc=t,_c=null;break}e:{var i=e,s=n.return,c=n,l=t;if(t=Rc,c.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l,d=c,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,c,0,t),1&p.mode&&ms(i,u,t),l=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0===(1&t)){ms(i,u,t),ml();break e}l=Error(a(426))}else if(aa&&1&c.mode){var y=gs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ys(y,s,c,0,t),ma(ls(l,c));break e}}i=l=ls(l,c),4!==Mc&&(Mc=2),null===Fc?Fc=[i]:Fc.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,za(i,fs(0,l,t));break e;case 1:c=l;var v=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wc||!Wc.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,za(i,ps(i,c,t));break e}}i=i.return}while(null!==i)}wl(n)}catch(w){t=w,_c===n&&null!==n&&(_c=n=n.return);continue}break}}function pl(){var e=Tc.current;return Tc.current=Xi,null===e?Xi:e}function ml(){0!==Mc&&3!==Mc&&2!==Mc||(Mc=4),null===Nc||0===(268435455&Lc)&&0===(268435455&Dc)||sl(Nc,Rc)}function gl(e,t){var n=Ac;Ac|=2;var r=pl();for(Nc===e&&Rc===t||(Bc=null,hl(e,t));;)try{yl();break}catch(o){fl(e,o)}if(Ea(),Ac=n,Tc.current=r,null!==_c)throw Error(a(261));return Nc=null,Rc=0,Mc}function yl(){for(;null!==_c;)bl(_c)}function vl(){for(;null!==_c&&!Qe();)bl(_c)}function bl(e){var t=Sc(e.alternate,e,Pc);e.memoizedProps=e.pendingProps,null===t?wl(e):_c=t,Ic.current=null}function wl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Vs(n,t,Pc)))return void(_c=n)}else{if(null!==(n=Gs(n,t)))return n.flags&=32767,void(_c=n);if(null===e)return Mc=6,void(_c=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(_c=t);_c=t=e}while(null!==t);0===Mc&&(Mc=5)}function Cl(e,t,n){var r=bt,o=Ec.transition;try{Ec.transition=null,bt=1,function(e,t,n,r){do{kl()}while(null!==Gc);if(0!==(6&Ac))throw Error(a(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-it(n),a=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~a}}(e,i),e===Nc&&(_c=Nc=null,Rc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Vc||(Vc=!0,Nl(tt,(function(){return kl(),null}))),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Ec.transition,Ec.transition=null;var s=bt;bt=1;var c=Ac;Ac|=4,Ic.current=null,function(e,t){if(eo=$t,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(C){n=null;break e}var s=0,c=-1,l=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==o&&3!==h.nodeType||(c=s+o),h!==i||0!==r&&3!==h.nodeType||(l=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===o&&(c=s),f===i&&++d===r&&(l=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},$t=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(a(163))}}catch(C){xl(t,t.return,C)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}m=tc,tc=!1}(e,n),gc(n,e),pr(to),$t=!!eo,to=eo=null,e.current=n,vc(n,e,o),Ye(),Ac=c,bt=s,Ec.transition=i}else e.current=n;if(Vc&&(Vc=!1,Gc=e,Qc=o),i=e.pendingLanes,0===i&&(Wc=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if($c)throw $c=!1,e=Kc,Kc=null,e;0!==(1&Qc)&&0!==e.tag&&kl(),i=e.pendingLanes,0!==(1&i)?e===Jc?Yc++:(Yc=0,Jc=e):Yc=0,Bo()}(e,t,n,r)}finally{Ec.transition=o,bt=r}return null}function kl(){if(null!==Gc){var e=wt(Qc),t=Ec.transition,n=bt;try{if(Ec.transition=null,bt=16>e?16:e,null===Gc)var r=!1;else{if(e=Gc,Gc=null,Qc=0,0!==(6&Ac))throw Error(a(331));var o=Ac;for(Ac|=4,Xs=e.current;null!==Xs;){var i=Xs,s=i.child;if(0!==(16&Xs.flags)){var c=i.deletions;if(null!==c){for(var l=0;l<c.length;l++){var u=c[l];for(Xs=u;null!==Xs;){var d=Xs;switch(d.tag){case 0:case 11:case 15:nc(8,d,i)}var h=d.child;if(null!==h)h.return=d,Xs=h;else for(;null!==Xs;){var f=(d=Xs).sibling,p=d.return;if(ac(d),d===u){Xs=null;break}if(null!==f){f.return=p,Xs=f;break}Xs=p}}}var m=i.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Xs=i}}if(0!==(2064&i.subtreeFlags)&&null!==s)s.return=i,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(i=Xs).flags))switch(i.tag){case 0:case 11:case 15:nc(9,i,i.return)}var v=i.sibling;if(null!==v){v.return=i.return,Xs=v;break e}Xs=i.return}}var b=e.current;for(Xs=b;null!==Xs;){var w=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Xs=w;else e:for(s=b;null!==Xs;){if(0!==(2048&(c=Xs).flags))try{switch(c.tag){case 0:case 11:case 15:rc(9,c)}}catch(k){xl(c,c.return,k)}if(c===s){Xs=null;break e}var C=c.sibling;if(null!==C){C.return=c.return,Xs=C;break e}Xs=c.return}}if(Ac=o,Bo(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(ot,e)}catch(k){}r=!0}return r}finally{bt=n,Ec.transition=t}}return!1}function Sl(e,t,n){e=Ha(e,t=fs(0,t=ls(n,t),1),1),t=el(),null!==e&&(yt(e,1,t),rl(e,t))}function xl(e,t,n){if(3===e.tag)Sl(e,e,n);else for(;null!==t;){if(3===t.tag){Sl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wc||!Wc.has(r))){t=Ha(t,e=ps(t,e=ls(n,e),1),1),e=el(),null!==t&&(yt(t,1,e),rl(t,e));break}}t=t.return}}function Tl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Nc===e&&(Rc&n)===n&&(4===Mc||3===Mc&&(130023424&Rc)===Rc&&500>Je()-Uc?hl(e,0):qc|=n),rl(e,t)}function Il(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=el();null!==(e=ja(e,t))&&(yt(e,t,n),rl(e,n))}function El(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Il(e,n)}function Al(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Il(e,n)}function Nl(e,t){return Ve(e,t)}function _l(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rl(e,t,n,r){return new _l(e,t,n,r)}function Pl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ol(e,t){var n=e.alternate;return null===n?((n=Rl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ml(e,t,n,r,o,i){var s=2;if(r=e,"function"===typeof e)Pl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return jl(n.children,o,i,t);case x:s=8,o|=8;break;case T:return(e=Rl(12,n,t,2|o)).elementType=T,e.lanes=i,e;case N:return(e=Rl(13,n,t,o)).elementType=N,e.lanes=i,e;case _:return(e=Rl(19,n,t,o)).elementType=_,e.lanes=i,e;case O:return Ll(n,o,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case E:s=9;break e;case A:s=11;break e;case R:s=14;break e;case P:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rl(s,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function jl(e,t,n,r){return(e=Rl(7,e,r,t)).lanes=n,e}function Ll(e,t,n,r){return(e=Rl(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Dl(e,t,n){return(e=Rl(6,e,null,t)).lanes=n,e}function ql(e,t,n){return(t=Rl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fl(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Hl(e,t,n,r,o,a,i,s,c){return e=new Fl(e,t,n,s,c),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function Ul(e){if(!e)return Ao;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oo(n))return Lo(e,n,t)}return t}function zl(e,t,n,r,o,a,i,s,c){return(e=Hl(n,r,!0,e,0,a,0,s,c)).context=Ul(null),n=e.current,(a=Fa(r=el(),o=tl(n))).callback=void 0!==t&&null!==t?t:null,Ha(n,a,o),e.current.lanes=o,yt(e,o,r),rl(e,r),e}function Bl(e,t,n,r){var o=t.current,a=el(),i=tl(o);return n=Ul(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fa(a,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ha(o,t,i))&&(nl(e,o,i,a),Ua(e,o,i)),i}function $l(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wl(e,t){Kl(e,t),(e=e.alternate)&&Kl(e,t)}Sc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||_o.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),pa();break;case 5:Xa(t);break;case 1:Oo(t.type)&&Do(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Eo(Sa,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Eo(ei,1&ei.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ds(e,t,n):(Eo(ei,1&ei.current),null!==(e=$s(e,t,n))?e.sibling:null);Eo(ei,1&ei.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Eo(ei,ei.current),r)break;return null;case 22:case 23:return t.lanes=0,xs(e,t,n)}return $s(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,aa&&0!==(1048576&t.flags)&&ea(t,Vo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bs(e,t),e=t.pendingProps;var o=Po(t,No.current);_a(t,n),o=gi(null,t,r,e,o,n);var i=yi();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oo(r)?(i=!0,Do(t)):i=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Da(t),o.updater=os,t.stateNode=o,o._reactInternals=t,cs(t,r,e,n),t=As(null,t,r,!0,i,n)):(t.tag=0,aa&&i&&ta(t),ws(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bs(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return Pl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===R)return 14}return 2}(r),e=ns(r,e),o){case 0:t=Is(null,t,r,e,n);break e;case 1:t=Es(null,t,r,e,n);break e;case 11:t=Cs(null,t,r,e,n);break e;case 14:t=ks(null,t,r,ns(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Is(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 1:return r=t.type,o=t.pendingProps,Es(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 3:e:{if(Ns(t),null===e)throw Error(a(387));r=t.pendingProps,o=(i=t.memoizedState).element,qa(e,t),Ba(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=_s(e,t,r,n,o=ls(Error(a(423)),t));break e}if(r!==o){t=_s(e,t,r,n,o=ls(Error(a(424)),t));break e}for(oa=lo(t.stateNode.containerInfo.firstChild),ra=t,aa=!0,ia=null,n=ka(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),r===o){t=$s(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return Xa(t),null===e&&ua(t),r=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,s=o.children,no(r,o)?s=null:null!==i&&no(r,i)&&(t.flags|=32),Ts(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ua(t),null;case 13:return Ds(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ca(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Cs(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,Eo(Sa,r._currentValue),r._currentValue=s,null!==i)if(sr(i.value,s)){if(i.children===o.children&&!_o.current){t=$s(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var c=i.dependencies;if(null!==c){s=i.child;for(var l=c.firstContext;null!==l;){if(l.context===r){if(1===i.tag){(l=Fa(-1,n&-n)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),Na(i.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===i.tag)s=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(s=i.return))throw Error(a(341));s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Na(s,n,t),s=i.sibling}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===t){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}ws(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,_a(t,n),r=r(o=Ra(o)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return o=ns(r=t.type,t.pendingProps),ks(e,t,r,o=ns(r.type,o),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ns(r,o),Bs(e,t),t.tag=1,Oo(r)?(e=!0,Do(t)):e=!1,_a(t,n),is(t,r,o),cs(t,r,o,n),As(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return xs(e,t,n)}throw Error(a(156,t.tag))};var Vl="function"===typeof reportError?reportError:function(e){console.error(e)};function Gl(e){this._internalRoot=e}function Ql(e){this._internalRoot=e}function Yl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xl(){}function Zl(e,t,n,r,o){var a=n._reactRootContainer;if(a){var i=a;if("function"===typeof o){var s=o;o=function(){var e=$l(i);s.call(e)}}Bl(t,i,e,o)}else i=function(e,t,n,r,o){if(o){if("function"===typeof r){var a=r;r=function(){var e=$l(i);a.call(e)}}var i=zl(t,r,e,0,null,!1,0,"",Xl);return e._reactRootContainer=i,e[mo]=i.current,zr(8===e.nodeType?e.parentNode:e),ul(),i}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var s=r;r=function(){var e=$l(c);s.call(e)}}var c=Hl(e,0,!1,null,0,!1,0,"",Xl);return e._reactRootContainer=c,e[mo]=c.current,zr(8===e.nodeType?e.parentNode:e),ul((function(){Bl(t,c,n,r)})),c}(n,t,e,o,r);return $l(i)}Ql.prototype.render=Gl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Bl(e,t,null,null)},Ql.prototype.unmount=Gl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ul((function(){Bl(null,e,null,null)})),t[mo]=null}},Ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Dt(e)}},Ct=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rl(t,Je()),0===(6&Ac)&&(zc=Je()+500,Bo()))}break;case 13:ul((function(){var t=ja(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),Wl(e,1)}},kt=function(e){if(13===e.tag){var t=ja(e,134217728);if(null!==t)nl(t,e,134217728,el());Wl(e,134217728)}},St=function(e){if(13===e.tag){var t=tl(e),n=ja(e,t);if(null!==n)nl(n,e,t,el());Wl(e,t)}},xt=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=ko(r);if(!o)throw Error(a(90));V(r),X(r,o)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=ll,Ne=ul;var eu={usingClientEntryPoint:!1,Events:[wo,Co,ko,Ie,Ee,ll]},tu={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{ot=ru.inject(nu),at=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yl(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yl(e))throw Error(a(299));var n=!1,r="",o=Vl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Hl(e,1,!1,null,0,n,0,r,o),e[mo]=t.current,zr(8===e.nodeType?e.parentNode:e),new Gl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return ul(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(a(200));return Zl(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,o=!1,i="",s=Vl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zl(t,null,e,1,null!=n?n:null,o,0,i,s),e[mo]=t.current,zr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Ql(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(a(200));return Zl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(a(40));return!!e._reactRootContainer&&(ul((function(){Zl(null,null,e,!1,(function(){e._reactRootContainer=null,e[mo]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zl(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{"use strict";var r=n(43),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,r)&&!c.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:o,type:e,key:l,ref:u,props:a,_owner:s.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var C=Array.isArray,k=Object.prototype.hasOwnProperty,S={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var o,a={},i=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)k.call(t,o)&&!x.hasOwnProperty(o)&&(a[o]=t[o]);var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}if(e&&e.defaultProps)for(o in c=e.defaultProps)void 0===a[o]&&(a[o]=c[o]);return{$$typeof:n,type:e,key:i,ref:s,props:a,_owner:S.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,o,a,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return i=i(c=e),e=""===a?"."+A(c,0):a,C(i)?(o="",null!=e&&(o=e.replace(E,"$&/")+"/"),N(i,t,o,"",(function(e){return e}))):null!=i&&(I(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,o+(!i.key||c&&c.key===i.key?"":(""+i.key).replace(E,"$&/")+"/")+e)),t.push(i)),1;if(c=0,a=""===a?".":a+":",C(e))for(var l=0;l<e.length;l++){var u=a+A(s=e[l],l);c+=N(s,t,o,u,i)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(s=e.next()).done;)c+=N(s=s.value,t,o,u=a+A(s,l++),i);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function _(e,t,n){if(null==e)return e;var r=[],o=0;return N(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},M={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};function j(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:_,forEach:function(e,t,n){_(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return _(e,(function(){t++})),t},toArray:function(e){return _(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=i,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.act=j,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),a=e.key,i=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,s=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)k.call(t,l)&&!x.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}return{$$typeof:n,type:e.type,key:a,ref:i,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=j,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<a(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,i=o>>>1;r<i;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>a(c,n))l<o&&0>a(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else{if(!(l<o&&0>a(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var l=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function C(e){if(g=!1,w(e),!m)if(null!==r(l))m=!0,O(k);else{var t=r(u);null!==t&&M(C,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,v(I),I=-1),p=!0;var a=f;try{for(w(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!N());){var i=h.callback;if("function"===typeof i){h.callback=null,f=h.priorityLevel;var s=i(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(l)&&o(l),w(n)}else o(l);h=r(l)}if(null!==h)var c=!0;else{var d=r(u);null!==d&&M(C,d.startTime-n),c=!1}return c}finally{h=null,f=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,x=!1,T=null,I=-1,E=5,A=-1;function N(){return!(t.unstable_now()-A<E)}function _(){if(null!==T){var e=t.unstable_now();A=e;var n=!0;try{n=T(!0,e)}finally{n?S():(x=!1,T=null)}}else x=!1}if("function"===typeof b)S=function(){b(_)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=_,S=function(){P.postMessage(null)}}else S=function(){y(_,0)};function O(e){T=e,x||(x=!0,S())}function M(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,o,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>i?(e.sortIndex=a,n(u,e),null===r(l)&&e===r(u)&&(g?(v(I),I=-1):g=!0,M(C,a-i))):(e.sortIndex=s,n(l,e),m||p||(m=!0,O(k))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},440:e=>{"use strict";var t=function(){};e.exports=t},139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=i(e,a(n)))}return e}function a(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=i(t,n));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>i[e]=()=>r[e]));return i.default=()=>r,n.d(a,i),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e,t=n(43),r=n.t(t,2),o=n(950),a=n.t(o,2);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const s="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t,n,r){return void 0===n&&(n=null),i({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?h(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function f(t,n,r,o){void 0===o&&(o={});let{window:a=document.defaultView,v5Compat:h=!1}=o,f=a.history,p=e.Pop,m=null,g=y();function y(){return(f.state||{idx:null}).idx}function v(){p=e.Pop;let t=y(),n=null==t?null:t-g;g=t,m&&m({action:p,location:w.location,delta:n})}function b(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:d(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,f.replaceState(i({},f.state,{idx:g}),""));let w={get action(){return p},get location(){return t(a,f)},listen(e){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(s,v),m=e,()=>{a.removeEventListener(s,v),m=null}},createHref:e=>n(a,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){p=e.Push;let o=u(w.location,t,n);r&&r(o,t),g=y()+1;let i=l(o,g),s=w.createHref(o);try{f.pushState(i,"",s)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;a.location.assign(s)}h&&m&&m({action:p,location:w.location,delta:1})},replace:function(t,n){p=e.Replace;let o=u(w.location,t,n);r&&r(o,t),g=y();let a=l(o,g),i=w.createHref(o);f.replaceState(a,"",i),h&&m&&m({action:p,location:w.location,delta:0})},go:e=>f.go(e)};return w}var p;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(p||(p={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function m(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function g(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function y(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function v(e,t){let n=y(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function b(e,t,n,r){let o;void 0===r&&(r=!1),"string"===typeof e?o=h(e):(o=i({},e),c(!o.pathname||!o.pathname.includes("?"),g("?","pathname","search",o)),c(!o.pathname||!o.pathname.includes("#"),g("#","pathname","hash",o)),c(!o.search||!o.search.includes("#"),g("#","search","hash",o)));let a,s=""===e||""===o.pathname,l=s?"/":o.pathname;if(null==l)a=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}a=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:o=""}="string"===typeof e?h(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:C(r),hash:k(o)}}(o,a),d=l&&"/"!==l&&l.endsWith("/"),f=(s||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!f||(u.pathname+="/"),u}const w=e=>e.join("/").replace(/\/\/+/g,"/"),C=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",k=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;const S=["post","put","patch","delete"],x=(new Set(S),["get",...S]);new Set(x),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}const I=t.createContext(null);const E=t.createContext(null);const A=t.createContext(null);const N=t.createContext({outlet:null,matches:[],isDataRoute:!1});function _(){return null!=t.useContext(A)}function R(){return _()||c(!1),t.useContext(A).location}function P(e){t.useContext(E).static||t.useLayoutEffect(e)}function O(){let{isDataRoute:e}=t.useContext(N);return e?function(){let{router:e}=L(M.UseNavigateStable),n=D(j.UseNavigateStable),r=t.useRef(!1);P((()=>{r.current=!0}));let o=t.useCallback((function(t,o){void 0===o&&(o={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,T({fromRouteId:n},o)))}),[e,n]);return o}():function(){_()||c(!1);let e=t.useContext(I),{basename:n,future:r,navigator:o}=t.useContext(E),{matches:a}=t.useContext(N),{pathname:i}=R(),s=JSON.stringify(v(a,r.v7_relativeSplatPath)),l=t.useRef(!1);P((()=>{l.current=!0}));let u=t.useCallback((function(t,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof t)return void o.go(t);let a=b(t,JSON.parse(s),i,"path"===r.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:w([n,a.pathname])),(r.replace?o.replace:o.push)(a,r.state,r)}),[n,o,s,i,e]);return u}()}t.Component;var M=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(M||{}),j=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(j||{});function L(e){let n=t.useContext(I);return n||c(!1),n}function D(e){let n=function(){let e=t.useContext(N);return e||c(!1),e}(),r=n.matches[n.matches.length-1];return r.route.id||c(!1),r.route.id}r.startTransition;function q(n){let{basename:r="/",children:o=null,location:a,navigationType:i=e.Pop,navigator:s,static:l=!1,future:u}=n;_()&&c(!1);let d=r.replace(/^\/*/,"/"),f=t.useMemo((()=>({basename:d,navigator:s,static:l,future:T({v7_relativeSplatPath:!1},u)})),[d,u,s,l]);"string"===typeof a&&(a=h(a));let{pathname:p="/",search:g="",hash:y="",state:v=null,key:b="default"}=a,w=t.useMemo((()=>{let e=m(p,d);return null==e?null:{location:{pathname:e,search:g,hash:y,state:v,key:b},navigationType:i}}),[d,p,g,y,v,b,i]);return null==w?null:t.createElement(E.Provider,{value:f},t.createElement(A.Provider,{children:o,value:w}))}new Promise((()=>{}));t.Component;var F=n(139),H=n.n(F),U=n(579);const z=["xxl","xl","lg","md","sm","xs"],B="xs",$=t.createContext({prefixes:{},breakpoints:z,minBreakpoint:B}),{Consumer:K,Provider:W}=$;function V(e,n){const{prefixes:r}=(0,t.useContext)($);return e||r[n]||n}function G(){const{breakpoints:e}=(0,t.useContext)($);return e}function Q(){const{minBreakpoint:e}=(0,t.useContext)($);return e}function Y(){const{dir:e}=(0,t.useContext)($);return"rtl"===e}const J=t.forwardRef(((e,t)=>{let{bsPrefix:n,fluid:r=!1,as:o="div",className:a,...i}=e;const s=V(n,"container"),c="string"===typeof r?`-${r}`:"-fluid";return(0,U.jsx)(o,{ref:t,...i,className:H()(a,r?`${s}${c}`:s)})}));J.displayName="Container";const X=J,Z=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:o="div",...a}=e;const i=V(n,"row"),s=G(),c=Q(),l=`${i}-cols`,u=[];return s.forEach((e=>{const t=a[e];let n;delete a[e],null!=t&&"object"===typeof t?({cols:n}=t):n=t;const r=e!==c?`-${e}`:"";null!=n&&u.push(`${l}${r}-${n}`)})),(0,U.jsx)(o,{ref:t,...a,className:H()(r,i,...u)})}));Z.displayName="Row";const ee=Z;const te=t.forwardRef(((e,t)=>{const[{className:n,...r},{as:o="div",bsPrefix:a,spans:i}]=function(e){let{as:t,bsPrefix:n,className:r,...o}=e;n=V(n,"col");const a=G(),i=Q(),s=[],c=[];return a.forEach((e=>{const t=o[e];let r,a,l;delete o[e],"object"===typeof t&&null!=t?({span:r,offset:a,order:l}=t):r=t;const u=e!==i?`-${e}`:"";r&&s.push(!0===r?`${n}${u}`:`${n}${u}-${r}`),null!=l&&c.push(`order${u}-${l}`),null!=a&&c.push(`offset${u}-${a}`)})),[{...o,className:H()(r,...s,...c)},{as:t,bsPrefix:n,spans:s}]}(e);return(0,U.jsx)(o,{...r,ref:t,className:H()(n,!i.length&&a)})}));te.displayName="Col";const ne=te,re=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o="div",...a}=e;return r=V(r,"card-body"),(0,U.jsx)(o,{ref:t,className:H()(n,r),...a})}));re.displayName="CardBody";const oe=re,ae=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o="div",...a}=e;return r=V(r,"card-footer"),(0,U.jsx)(o,{ref:t,className:H()(n,r),...a})}));ae.displayName="CardFooter";const ie=ae,se=t.createContext(null);se.displayName="CardHeaderContext";const ce=se,le=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:o,as:a="div",...i}=e;const s=V(r,"card-header"),c=(0,t.useMemo)((()=>({cardHeaderBsPrefix:s})),[s]);return(0,U.jsx)(ce.Provider,{value:c,children:(0,U.jsx)(a,{ref:n,...i,className:H()(o,s)})})}));le.displayName="CardHeader";const ue=le,de=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,variant:o,as:a="img",...i}=e;const s=V(n,"card-img");return(0,U.jsx)(a,{ref:t,className:H()(o?`${s}-${o}`:s,r),...i})}));de.displayName="CardImg";const he=de,fe=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o="div",...a}=e;return r=V(r,"card-img-overlay"),(0,U.jsx)(o,{ref:t,className:H()(n,r),...a})}));fe.displayName="CardImgOverlay";const pe=fe,me=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o="a",...a}=e;return r=V(r,"card-link"),(0,U.jsx)(o,{ref:t,className:H()(n,r),...a})}));me.displayName="CardLink";const ge=me,ye=e=>t.forwardRef(((t,n)=>(0,U.jsx)("div",{...t,ref:n,className:H()(t.className,e)}))),ve=ye("h6"),be=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o=ve,...a}=e;return r=V(r,"card-subtitle"),(0,U.jsx)(o,{ref:t,className:H()(n,r),...a})}));be.displayName="CardSubtitle";const we=be,Ce=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o="p",...a}=e;return r=V(r,"card-text"),(0,U.jsx)(o,{ref:t,className:H()(n,r),...a})}));Ce.displayName="CardText";const ke=Ce,Se=ye("h5"),xe=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o=Se,...a}=e;return r=V(r,"card-title"),(0,U.jsx)(o,{ref:t,className:H()(n,r),...a})}));xe.displayName="CardTitle";const Te=xe,Ie=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,bg:o,text:a,border:i,body:s=!1,children:c,as:l="div",...u}=e;const d=V(n,"card");return(0,U.jsx)(l,{ref:t,...u,className:H()(r,d,o&&`bg-${o}`,a&&`text-${a}`,i&&`border-${i}`),children:s?(0,U.jsx)(oe,{children:c}):c})}));Ie.displayName="Card";const Ee=Object.assign(Ie,{Img:he,Title:Te,Subtitle:we,Body:oe,Link:ge,Text:ke,Header:ue,Footer:ie,ImgOverlay:pe}),Ae=["as","disabled"];function Ne(e){let{tagName:t,disabled:n,href:r,target:o,rel:a,role:i,onClick:s,tabIndex:c=0,type:l}=e;t||(t=null!=r||null!=o||null!=a?"a":"button");const u={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},u];const d=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==s||s(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=i?i:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?o:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:d,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),d(e))}},u]}const _e=t.forwardRef(((e,t)=>{let{as:n,disabled:r}=e,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Ae);const[a,{tagName:i}]=Ne(Object.assign({tagName:n,disabled:r},o));return(0,U.jsx)(i,Object.assign({},o,a,{ref:t}))}));_e.displayName="Button";const Re=_e,Pe=t.forwardRef(((e,t)=>{let{as:n,bsPrefix:r,variant:o="primary",size:a,active:i=!1,disabled:s=!1,className:c,...l}=e;const u=V(r,"btn"),[d,{tagName:h}]=Ne({tagName:n,disabled:s,...l}),f=h;return(0,U.jsx)(f,{...d,...l,ref:t,disabled:s,className:H()(c,u,i&&"active",o&&`${u}-${o}`,a&&`${u}-${a}`,l.href&&s&&"disabled")})}));Pe.displayName="Button";const Oe=Pe,Me=t.createContext({}),je=t.forwardRef(((e,n)=>{let{id:r,bsPrefix:o,className:a,type:i="checkbox",isValid:s=!1,isInvalid:c=!1,as:l="input",...u}=e;const{controlId:d}=(0,t.useContext)(Me);return o=V(o,"form-check-input"),(0,U.jsx)(l,{...u,ref:n,type:i,id:r||d,className:H()(a,o,s&&"is-valid",c&&"is-invalid")})}));je.displayName="FormCheckInput";const Le=je,De=t.createContext(null);De.displayName="InputGroupContext";const qe=De,Fe=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o="span",...a}=e;return r=V(r,"input-group-text"),(0,U.jsx)(o,{ref:t,className:H()(n,r),...a})}));Fe.displayName="InputGroupText";const He=Fe,Ue=t.forwardRef(((e,n)=>{let{bsPrefix:r,size:o,hasValidation:a,className:i,as:s="div",...c}=e;r=V(r,"input-group");const l=(0,t.useMemo)((()=>({})),[]);return(0,U.jsx)(qe.Provider,{value:l,children:(0,U.jsx)(s,{ref:n,...c,className:H()(i,r,o&&`${r}-${o}`,a&&"has-validation")})})}));Ue.displayName="InputGroup";const ze=Object.assign(Ue,{Text:He,Radio:e=>(0,U.jsx)(He,{children:(0,U.jsx)(Le,{type:"radio",...e})}),Checkbox:e=>(0,U.jsx)(He,{children:(0,U.jsx)(Le,{type:"checkbox",...e})})});var Be=n(440),$e=n.n(Be),Ke=n(173),We=n.n(Ke);const Ve={type:We().string,tooltip:We().bool,as:We().elementType},Ge=t.forwardRef(((e,t)=>{let{as:n="div",className:r,type:o="valid",tooltip:a=!1,...i}=e;return(0,U.jsx)(n,{...i,ref:t,className:H()(r,`${o}-${a?"tooltip":"feedback"}`)})}));Ge.displayName="Feedback",Ge.propTypes=Ve;const Qe=Ge,Ye=t.forwardRef(((e,n)=>{let{bsPrefix:r,type:o,size:a,htmlSize:i,id:s,className:c,isValid:l=!1,isInvalid:u=!1,plaintext:d,readOnly:h,as:f="input",...p}=e;const{controlId:m}=(0,t.useContext)(Me);return r=V(r,"form-control"),(0,U.jsx)(f,{...p,type:o,size:i,ref:n,readOnly:h,id:s||m,className:H()(c,d?`${r}-plaintext`:r,a&&`${r}-${a}`,"color"===o&&`${r}-color`,l&&"is-valid",u&&"is-invalid")})}));Ye.displayName="FormControl";const Je=Object.assign(Ye,{Feedback:Qe}),Xe=t.forwardRef(((e,t)=>{let{bsPrefix:n,variant:r,animation:o="border",size:a,as:i="div",className:s,...c}=e;n=V(n,"spinner");const l=`${n}-${o}`;return(0,U.jsx)(i,{ref:t,...c,className:H()(s,l,a&&`${l}-${a}`,r&&`text-${r}`)})}));Xe.displayName="Spinner";const Ze=Xe,et=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,striped:o,bordered:a,borderless:i,hover:s,size:c,variant:l,responsive:u,...d}=e;const h=V(n,"table"),f=H()(r,h,l&&`${h}-${l}`,c&&`${h}-${c}`,o&&`${h}-${"string"===typeof o?`striped-${o}`:"striped"}`,a&&`${h}-bordered`,i&&`${h}-borderless`,s&&`${h}-hover`),p=(0,U.jsx)("table",{...d,className:f,ref:t});if(u){let e=`${h}-responsive`;return"string"===typeof u&&(e=`${e}-${u}`),(0,U.jsx)("div",{className:e,children:p})}return p})),tt=et;function nt(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function rt(){const e=(0,t.useRef)(!0),n=(0,t.useRef)((()=>e.current));return(0,t.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),n.current}function ot(e){const n=function(e){const n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((()=>()=>n.current()),[])}const at=2**31-1;function it(e,t,n){const r=n-Date.now();e.current=r<=at?setTimeout(t,r):setTimeout((()=>it(e,t,n)),at)}function st(){const e=rt(),n=(0,t.useRef)();return ot((()=>clearTimeout(n.current))),(0,t.useMemo)((()=>{const t=()=>clearTimeout(n.current);return{set:function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e()&&(t(),o<=at?n.current=setTimeout(r,o):it(n,r,Date.now()+o))},clear:t,handleRef:n}}),[])}function ct(){return ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ct.apply(null,arguments)}function lt(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}n(740);function ut(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function dt(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function ht(e,n,r){var o=(0,t.useRef)(void 0!==e),a=(0,t.useState)(n),i=a[0],s=a[1],c=void 0!==e,l=o.current;return o.current=c,!c&&l&&i!==n&&s(n),[c?e:i,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];r&&r.apply(void 0,[e].concat(n)),s(e)}),[r])]}function ft(e,t){return Object.keys(t).reduce((function(n,r){var o,a=n,i=a[ut(r)],s=a[r],c=lt(a,[ut(r),r].map(dt)),l=t[r],u=ht(s,i,e[l]),d=u[0],h=u[1];return ct({},c,((o={})[r]=d,o[l]=h,o))}),e)}function pt(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function mt(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function gt(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}pt.__suppressDeprecationWarning=!0,mt.__suppressDeprecationWarning=!0,gt.__suppressDeprecationWarning=!0;const yt=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const vt=function(e,n){return(0,t.useMemo)((()=>function(e,t){const n=yt(e),r=yt(t);return e=>{n&&n(e),r&&r(e)}}(e,n)),[e,n])};function bt(){return(0,t.useState)(null)}var wt=Object.prototype.hasOwnProperty;function Ct(e,t,n){for(n of e.keys())if(kt(n,t))return n}function kt(e,t){var n,r,o;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&kt(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;for(r of e){if((o=r)&&"object"===typeof o&&!(o=Ct(t,o)))return!1;if(!t.has(o))return!1}return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e){if((o=r[0])&&"object"===typeof o&&!(o=Ct(t,o)))return!1;if(!kt(r[1],t.get(o)))return!1}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(wt.call(e,n)&&++r&&!wt.call(t,n))return!1;if(!(n in t)||!kt(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}const St=function(e){const n=rt();return[e[0],(0,t.useCallback)((t=>{if(n())return e[1](t)}),[n,e[1]])]};function xt(e){return e.split("-")[0]}function Tt(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function It(e){return e instanceof Tt(e).Element||e instanceof Element}function Et(e){return e instanceof Tt(e).HTMLElement||e instanceof HTMLElement}function At(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Tt(e).ShadowRoot||e instanceof ShadowRoot)}var Nt=Math.max,_t=Math.min,Rt=Math.round;function Pt(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function Ot(){return!/^((?!chrome|android).)*safari/i.test(Pt())}function Mt(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),o=1,a=1;t&&Et(e)&&(o=e.offsetWidth>0&&Rt(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&Rt(r.height)/e.offsetHeight||1);var i=(It(e)?Tt(e):window).visualViewport,s=!Ot()&&n,c=(r.left+(s&&i?i.offsetLeft:0))/o,l=(r.top+(s&&i?i.offsetTop:0))/a,u=r.width/o,d=r.height/a;return{width:u,height:d,top:l,right:c+u,bottom:l+d,left:c,x:c,y:l}}function jt(e){var t=Mt(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Lt(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&At(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Dt(e){return e?(e.nodeName||"").toLowerCase():null}function qt(e){return Tt(e).getComputedStyle(e)}function Ft(e){return["table","td","th"].indexOf(Dt(e))>=0}function Ht(e){return((It(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ut(e){return"html"===Dt(e)?e:e.assignedSlot||e.parentNode||(At(e)?e.host:null)||Ht(e)}function zt(e){return Et(e)&&"fixed"!==qt(e).position?e.offsetParent:null}function Bt(e){for(var t=Tt(e),n=zt(e);n&&Ft(n)&&"static"===qt(n).position;)n=zt(n);return n&&("html"===Dt(n)||"body"===Dt(n)&&"static"===qt(n).position)?t:n||function(e){var t=/firefox/i.test(Pt());if(/Trident/i.test(Pt())&&Et(e)&&"fixed"===qt(e).position)return null;var n=Ut(e);for(At(n)&&(n=n.host);Et(n)&&["html","body"].indexOf(Dt(n))<0;){var r=qt(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function $t(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Kt(e,t,n){return Nt(e,_t(t,n))}function Wt(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Vt(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var Gt="top",Qt="bottom",Yt="right",Jt="left",Xt="auto",Zt=[Gt,Qt,Yt,Jt],en="start",tn="end",nn="viewport",rn="popper",on=Zt.reduce((function(e,t){return e.concat([t+"-"+en,t+"-"+tn])}),[]),an=[].concat(Zt,[Xt]).reduce((function(e,t){return e.concat([t,t+"-"+en,t+"-"+tn])}),[]),sn=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];const cn={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,a=n.elements.arrow,i=n.modifiersData.popperOffsets,s=xt(n.placement),c=$t(s),l=[Jt,Yt].indexOf(s)>=0?"height":"width";if(a&&i){var u=function(e,t){return Wt("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Vt(e,Zt))}(o.padding,n),d=jt(a),h="y"===c?Gt:Jt,f="y"===c?Qt:Yt,p=n.rects.reference[l]+n.rects.reference[c]-i[c]-n.rects.popper[l],m=i[c]-n.rects.reference[c],g=Bt(a),y=g?"y"===c?g.clientHeight||0:g.clientWidth||0:0,v=p/2-m/2,b=u[h],w=y-d[l]-u[f],C=y/2-d[l]/2+v,k=Kt(b,C,w),S=c;n.modifiersData[r]=((t={})[S]=k,t.centerOffset=k-C,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Lt(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ln(e){return e.split("-")[1]}var un={top:"auto",right:"auto",bottom:"auto",left:"auto"};function dn(e){var t,n=e.popper,r=e.popperRect,o=e.placement,a=e.variation,i=e.offsets,s=e.position,c=e.gpuAcceleration,l=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=i.x,f=void 0===h?0:h,p=i.y,m=void 0===p?0:p,g="function"===typeof u?u({x:f,y:m}):{x:f,y:m};f=g.x,m=g.y;var y=i.hasOwnProperty("x"),v=i.hasOwnProperty("y"),b=Jt,w=Gt,C=window;if(l){var k=Bt(n),S="clientHeight",x="clientWidth";if(k===Tt(n)&&"static"!==qt(k=Ht(n)).position&&"absolute"===s&&(S="scrollHeight",x="scrollWidth"),o===Gt||(o===Jt||o===Yt)&&a===tn)w=Qt,m-=(d&&k===C&&C.visualViewport?C.visualViewport.height:k[S])-r.height,m*=c?1:-1;if(o===Jt||(o===Gt||o===Qt)&&a===tn)b=Yt,f-=(d&&k===C&&C.visualViewport?C.visualViewport.width:k[x])-r.width,f*=c?1:-1}var T,I=Object.assign({position:s},l&&un),E=!0===u?function(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:Rt(n*o)/o||0,y:Rt(r*o)/o||0}}({x:f,y:m},Tt(n)):{x:f,y:m};return f=E.x,m=E.y,c?Object.assign({},I,((T={})[w]=v?"0":"",T[b]=y?"0":"",T.transform=(C.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",T)):Object.assign({},I,((t={})[w]=v?m+"px":"",t[b]=y?f+"px":"",t.transform="",t))}const hn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,a=n.adaptive,i=void 0===a||a,s=n.roundOffsets,c=void 0===s||s,l={placement:xt(t.placement),variation:ln(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,dn(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,dn(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var fn={passive:!0};const pn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,a=void 0===o||o,i=r.resize,s=void 0===i||i,c=Tt(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&l.forEach((function(e){e.addEventListener("scroll",n.update,fn)})),s&&c.addEventListener("resize",n.update,fn),function(){a&&l.forEach((function(e){e.removeEventListener("scroll",n.update,fn)})),s&&c.removeEventListener("resize",n.update,fn)}},data:{}};var mn={left:"right",right:"left",bottom:"top",top:"bottom"};function gn(e){return e.replace(/left|right|bottom|top/g,(function(e){return mn[e]}))}var yn={start:"end",end:"start"};function vn(e){return e.replace(/start|end/g,(function(e){return yn[e]}))}function bn(e){var t=Tt(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function wn(e){return Mt(Ht(e)).left+bn(e).scrollLeft}function Cn(e){var t=qt(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function kn(e){return["html","body","#document"].indexOf(Dt(e))>=0?e.ownerDocument.body:Et(e)&&Cn(e)?e:kn(Ut(e))}function Sn(e,t){var n;void 0===t&&(t=[]);var r=kn(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),a=Tt(r),i=o?[a].concat(a.visualViewport||[],Cn(r)?r:[]):r,s=t.concat(i);return o?s:s.concat(Sn(Ut(i)))}function xn(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Tn(e,t,n){return t===nn?xn(function(e,t){var n=Tt(e),r=Ht(e),o=n.visualViewport,a=r.clientWidth,i=r.clientHeight,s=0,c=0;if(o){a=o.width,i=o.height;var l=Ot();(l||!l&&"fixed"===t)&&(s=o.offsetLeft,c=o.offsetTop)}return{width:a,height:i,x:s+wn(e),y:c}}(e,n)):It(t)?function(e,t){var n=Mt(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):xn(function(e){var t,n=Ht(e),r=bn(e),o=null==(t=e.ownerDocument)?void 0:t.body,a=Nt(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),i=Nt(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-r.scrollLeft+wn(e),c=-r.scrollTop;return"rtl"===qt(o||n).direction&&(s+=Nt(n.clientWidth,o?o.clientWidth:0)-a),{width:a,height:i,x:s,y:c}}(Ht(e)))}function In(e,t,n,r){var o="clippingParents"===t?function(e){var t=Sn(Ut(e)),n=["absolute","fixed"].indexOf(qt(e).position)>=0&&Et(e)?Bt(e):e;return It(n)?t.filter((function(e){return It(e)&&Lt(e,n)&&"body"!==Dt(e)})):[]}(e):[].concat(t),a=[].concat(o,[n]),i=a[0],s=a.reduce((function(t,n){var o=Tn(e,n,r);return t.top=Nt(o.top,t.top),t.right=_t(o.right,t.right),t.bottom=_t(o.bottom,t.bottom),t.left=Nt(o.left,t.left),t}),Tn(e,i,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function En(e){var t,n=e.reference,r=e.element,o=e.placement,a=o?xt(o):null,i=o?ln(o):null,s=n.x+n.width/2-r.width/2,c=n.y+n.height/2-r.height/2;switch(a){case Gt:t={x:s,y:n.y-r.height};break;case Qt:t={x:s,y:n.y+n.height};break;case Yt:t={x:n.x+n.width,y:c};break;case Jt:t={x:n.x-r.width,y:c};break;default:t={x:n.x,y:n.y}}var l=a?$t(a):null;if(null!=l){var u="y"===l?"height":"width";switch(i){case en:t[l]=t[l]-(n[u]/2-r[u]/2);break;case tn:t[l]=t[l]+(n[u]/2-r[u]/2)}}return t}function An(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,a=n.strategy,i=void 0===a?e.strategy:a,s=n.boundary,c=void 0===s?"clippingParents":s,l=n.rootBoundary,u=void 0===l?nn:l,d=n.elementContext,h=void 0===d?rn:d,f=n.altBoundary,p=void 0!==f&&f,m=n.padding,g=void 0===m?0:m,y=Wt("number"!==typeof g?g:Vt(g,Zt)),v=h===rn?"reference":rn,b=e.rects.popper,w=e.elements[p?v:h],C=In(It(w)?w:w.contextElement||Ht(e.elements.popper),c,u,i),k=Mt(e.elements.reference),S=En({reference:k,element:b,strategy:"absolute",placement:o}),x=xn(Object.assign({},b,S)),T=h===rn?x:k,I={top:C.top-T.top+y.top,bottom:T.bottom-C.bottom+y.bottom,left:C.left-T.left+y.left,right:T.right-C.right+y.right},E=e.modifiersData.offset;if(h===rn&&E){var A=E[o];Object.keys(I).forEach((function(e){var t=[Yt,Qt].indexOf(e)>=0?1:-1,n=[Gt,Qt].indexOf(e)>=0?"y":"x";I[e]+=A[n]*t}))}return I}const Nn={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,a=void 0===o||o,i=n.altAxis,s=void 0===i||i,c=n.fallbackPlacements,l=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=void 0===f||f,m=n.allowedAutoPlacements,g=t.options.placement,y=xt(g),v=c||(y===g||!p?[gn(g)]:function(e){if(xt(e)===Xt)return[];var t=gn(e);return[vn(e),t,vn(t)]}(g)),b=[g].concat(v).reduce((function(e,n){return e.concat(xt(n)===Xt?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,a=n.rootBoundary,i=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,l=void 0===c?an:c,u=ln(r),d=u?s?on:on.filter((function(e){return ln(e)===u})):Zt,h=d.filter((function(e){return l.indexOf(e)>=0}));0===h.length&&(h=d);var f=h.reduce((function(t,n){return t[n]=An(e,{placement:n,boundary:o,rootBoundary:a,padding:i})[xt(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:l,flipVariations:p,allowedAutoPlacements:m}):n)}),[]),w=t.rects.reference,C=t.rects.popper,k=new Map,S=!0,x=b[0],T=0;T<b.length;T++){var I=b[T],E=xt(I),A=ln(I)===en,N=[Gt,Qt].indexOf(E)>=0,_=N?"width":"height",R=An(t,{placement:I,boundary:u,rootBoundary:d,altBoundary:h,padding:l}),P=N?A?Yt:Jt:A?Qt:Gt;w[_]>C[_]&&(P=gn(P));var O=gn(P),M=[];if(a&&M.push(R[E]<=0),s&&M.push(R[P]<=0,R[O]<=0),M.every((function(e){return e}))){x=I,S=!1;break}k.set(I,M)}if(S)for(var j=function(e){var t=b.find((function(t){var n=k.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return x=t,"break"},L=p?3:1;L>0;L--){if("break"===j(L))break}t.placement!==x&&(t.modifiersData[r]._skip=!0,t.placement=x,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function _n(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Rn(e){return[Gt,Yt,Qt,Jt].some((function(t){return e[t]>=0}))}const Pn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,a=void 0===o?[0,0]:o,i=an.reduce((function(e,n){return e[n]=function(e,t,n){var r=xt(e),o=[Jt,Gt].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,i=a[0],s=a[1];return i=i||0,s=(s||0)*o,[Jt,Yt].indexOf(r)>=0?{x:s,y:i}:{x:i,y:s}}(n,t.rects,a),e}),{}),s=i[t.placement],c=s.x,l=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[r]=i}};const On={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,a=void 0===o||o,i=n.altAxis,s=void 0!==i&&i,c=n.boundary,l=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=void 0===h||h,p=n.tetherOffset,m=void 0===p?0:p,g=An(t,{boundary:c,rootBoundary:l,padding:d,altBoundary:u}),y=xt(t.placement),v=ln(t.placement),b=!v,w=$t(y),C="x"===w?"y":"x",k=t.modifiersData.popperOffsets,S=t.rects.reference,x=t.rects.popper,T="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,I="number"===typeof T?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),E=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,A={x:0,y:0};if(k){if(a){var N,_="y"===w?Gt:Jt,R="y"===w?Qt:Yt,P="y"===w?"height":"width",O=k[w],M=O+g[_],j=O-g[R],L=f?-x[P]/2:0,D=v===en?S[P]:x[P],q=v===en?-x[P]:-S[P],F=t.elements.arrow,H=f&&F?jt(F):{width:0,height:0},U=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},z=U[_],B=U[R],$=Kt(0,S[P],H[P]),K=b?S[P]/2-L-$-z-I.mainAxis:D-$-z-I.mainAxis,W=b?-S[P]/2+L+$+B+I.mainAxis:q+$+B+I.mainAxis,V=t.elements.arrow&&Bt(t.elements.arrow),G=V?"y"===w?V.clientTop||0:V.clientLeft||0:0,Q=null!=(N=null==E?void 0:E[w])?N:0,Y=O+W-Q,J=Kt(f?_t(M,O+K-Q-G):M,O,f?Nt(j,Y):j);k[w]=J,A[w]=J-O}if(s){var X,Z="x"===w?Gt:Jt,ee="x"===w?Qt:Yt,te=k[C],ne="y"===C?"height":"width",re=te+g[Z],oe=te-g[ee],ae=-1!==[Gt,Jt].indexOf(y),ie=null!=(X=null==E?void 0:E[C])?X:0,se=ae?re:te-S[ne]-x[ne]-ie+I.altAxis,ce=ae?te+S[ne]+x[ne]-ie-I.altAxis:oe,le=f&&ae?function(e,t,n){var r=Kt(e,t,n);return r>n?n:r}(se,te,ce):Kt(f?se:re,te,f?ce:oe);k[C]=le,A[C]=le-te}t.modifiersData[r]=A}},requiresIfExists:["offset"]};function Mn(e,t,n){void 0===n&&(n=!1);var r=Et(t),o=Et(t)&&function(e){var t=e.getBoundingClientRect(),n=Rt(t.width)/e.offsetWidth||1,r=Rt(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=Ht(t),i=Mt(e,o,n),s={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&(("body"!==Dt(t)||Cn(a))&&(s=function(e){return e!==Tt(e)&&Et(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:bn(e);var t}(t)),Et(t)?((c=Mt(t,!0)).x+=t.clientLeft,c.y+=t.clientTop):a&&(c.x=wn(a))),{x:i.left+s.scrollLeft-c.x,y:i.top+s.scrollTop-c.y,width:i.width,height:i.height}}function jn(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}function Ln(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var Dn={placement:"bottom",modifiers:[],strategy:"absolute"};function qn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function Fn(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,a=void 0===o?Dn:o;return function(e,t,n){void 0===n&&(n=a);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},Dn,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},i=[],s=!1,c={state:o,setOptions:function(n){var s="function"===typeof n?n(o.options):n;l(),o.options=Object.assign({},a,o.options,s),o.scrollParents={reference:It(e)?Sn(e):e.contextElement?Sn(e.contextElement):[],popper:Sn(t)};var u=function(e){var t=jn(e);return sn.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,o.options.modifiers)));return o.orderedModifiers=u.filter((function(e){return e.enabled})),o.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var s=a({state:o,name:t,instance:c,options:r}),l=function(){};i.push(s||l)}})),c.update()},forceUpdate:function(){if(!s){var e=o.elements,t=e.reference,n=e.popper;if(qn(t,n)){o.rects={reference:Mn(t,Bt(n),"fixed"===o.options.strategy),popper:jt(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<o.orderedModifiers.length;r++)if(!0!==o.reset){var a=o.orderedModifiers[r],i=a.fn,l=a.options,u=void 0===l?{}:l,d=a.name;"function"===typeof i&&(o=i({state:o,options:u,name:d,instance:c})||o)}else o.reset=!1,r=-1}}},update:Ln((function(){return new Promise((function(e){c.forceUpdate(),e(o)}))})),destroy:function(){l(),s=!0}};if(!qn(e,t))return c;function l(){i.forEach((function(e){return e()})),i=[]}return c.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),c}}const Hn=Fn({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,a=t.modifiersData.preventOverflow,i=An(t,{elementContext:"reference"}),s=An(t,{altBoundary:!0}),c=_n(i,r),l=_n(s,o,a),u=Rn(c),d=Rn(l);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=En({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},hn,pn,Pn,Nn,On,cn]}),Un=["enabled","placement","strategy","modifiers"];const zn={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},Bn={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:e=>{let{state:t}=e;return()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const t=(e.getAttribute("aria-describedby")||"").split(",").filter((e=>e.trim()!==n.id));t.length?e.setAttribute("aria-describedby",t.join(",")):e.removeAttribute("aria-describedby")}}},fn:e=>{let{state:t}=e;var n;const{popper:r,reference:o}=t.elements,a=null==(n=r.getAttribute("role"))?void 0:n.toLowerCase();if(r.id&&"tooltip"===a&&"setAttribute"in o){const e=o.getAttribute("aria-describedby");if(e&&-1!==e.split(",").indexOf(r.id))return;o.setAttribute("aria-describedby",e?`${e},${r.id}`:r.id)}}},$n=[];const Kn=function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{enabled:o=!0,placement:a="bottom",strategy:i="absolute",modifiers:s=$n}=r,c=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(r,Un);const l=(0,t.useRef)(s),u=(0,t.useRef)(),d=(0,t.useCallback)((()=>{var e;null==(e=u.current)||e.update()}),[]),h=(0,t.useCallback)((()=>{var e;null==(e=u.current)||e.forceUpdate()}),[]),[f,p]=St((0,t.useState)({placement:a,update:d,forceUpdate:h,attributes:{},styles:{popper:{},arrow:{}}})),m=(0,t.useMemo)((()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:e=>{let{state:t}=e;const n={},r={};Object.keys(t.elements).forEach((e=>{n[e]=t.styles[e],r[e]=t.attributes[e]})),p({state:t,styles:n,attributes:r,update:d,forceUpdate:h,placement:t.placement})}})),[d,h,p]),g=(0,t.useMemo)((()=>(kt(l.current,s)||(l.current=s),l.current)),[s]);return(0,t.useEffect)((()=>{u.current&&o&&u.current.setOptions({placement:a,strategy:i,modifiers:[...g,m,zn]})}),[i,a,m,o,g]),(0,t.useEffect)((()=>{if(o&&null!=e&&null!=n)return u.current=Hn(e,n,Object.assign({},c,{placement:a,strategy:i,modifiers:[...g,Bn,m]})),()=>{null!=u.current&&(u.current.destroy(),u.current=void 0,p((e=>Object.assign({},e,{attributes:{},styles:{popper:{}}}))))}}),[o,e,n]),f},Wn=!("undefined"===typeof window||!window.document||!window.document.createElement);var Vn=!1,Gn=!1;try{var Qn={get passive(){return Vn=!0},get once(){return Gn=Vn=!0}};Wn&&(window.addEventListener("test",Qn,Qn),window.removeEventListener("test",Qn,!0))}catch(YC){}const Yn=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Gn){var o=r.once,a=r.capture,i=n;!Gn&&o&&(i=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=i),e.addEventListener(t,i,Vn?r:a)}e.addEventListener(t,n,r)};const Jn=function(e,t,n,r){var o=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,o),n.__once&&e.removeEventListener(t,n.__once,o)};const Xn=function(e,t,n,r){return Yn(e,t,n,r),function(){Jn(e,t,n,r)}};function Zn(e){return e&&e.ownerDocument||document}const er=function(e){const n=(0,t.useRef)(e);return(0,t.useEffect)((()=>{n.current=e}),[e]),n};function tr(e){const n=er(e);return(0,t.useCallback)((function(){return n.current&&n.current(...arguments)}),[n])}const nr=()=>{};const rr=e=>e&&("current"in e?e.current:e),or={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};const ar=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nr,{disabled:r,clickTrigger:o="click"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=(0,t.useRef)(!1),i=(0,t.useRef)(!1),s=(0,t.useCallback)((t=>{const n=rr(e);var r;$e()(!!n,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),a.current=!n||!!((r=t).metaKey||r.altKey||r.ctrlKey||r.shiftKey)||!function(e){return 0===e.button}(t)||!!nt(n,t.target)||i.current,i.current=!1}),[e]),c=tr((t=>{const n=rr(e);n&&nt(n,t.target)&&(i.current=!0)})),l=tr((e=>{a.current||n(e)}));(0,t.useEffect)((()=>{var t,n;if(r||null==e)return;const a=Zn(rr(e)),i=a.defaultView||window;let u=null!=(t=i.event)?t:null==(n=i.parent)?void 0:n.event,d=null;or[o]&&(d=Xn(a,or[o],c,!0));const h=Xn(a,o,s,!0),f=Xn(a,o,(e=>{e!==u?l(e):u=void 0}));let p=[];return"ontouchstart"in a.documentElement&&(p=[].slice.call(a.body.children).map((e=>Xn(e,"mousemove",nr)))),()=>{null==d||d(),h(),f(),p.forEach((e=>e()))}}),[e,r,o,s,c,l])};function ir(e){return"Escape"===e.code||27===e.keyCode}function sr(){const e=t.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}const cr=()=>{};const lr=function(e,n){let{disabled:r,clickTrigger:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=n||cr;ar(e,a,{disabled:r,clickTrigger:o});const i=tr((e=>{ir(e)&&a(e)}));(0,t.useEffect)((()=>{if(r||null==e)return;const t=Zn(rr(e));let n=(t.defaultView||window).event;const o=Xn(t,"keyup",(e=>{e!==n?i(e):n=void 0}));return()=>{o()}}),[e,r,i])},ur=(0,t.createContext)(Wn?window:void 0);ur.Provider;function dr(){return(0,t.useContext)(ur)}const hr=(e,t)=>Wn?null==e?(t||Zn()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function fr(e,n){const r=dr(),[o,a]=(0,t.useState)((()=>hr(e,null==r?void 0:r.document)));if(!o){const t=hr(e);t&&a(t)}return(0,t.useEffect)((()=>{n&&o&&n(o)}),[n,o]),(0,t.useEffect)((()=>{const t=hr(e);t!==o&&a(t)}),[e,o]),o}function pr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map((t=>(e[t].name=t,e[t])))}function mr(e){let{enabled:t,enableEvents:n,placement:r,flip:o,offset:a,fixed:i,containerPadding:s,arrowElement:c,popperConfig:l={}}=e;var u,d,h,f,p;const m=function(e){const t={};return Array.isArray(e)?(null==e||e.forEach((e=>{t[e.name]=e})),t):e||t}(l.modifiers);return Object.assign({},l,{placement:r,enabled:t,strategy:i?"fixed":l.strategy,modifiers:pr(Object.assign({},m,{eventListeners:{enabled:n,options:null==(u=m.eventListeners)?void 0:u.options},preventOverflow:Object.assign({},m.preventOverflow,{options:s?Object.assign({padding:s},null==(d=m.preventOverflow)?void 0:d.options):null==(h=m.preventOverflow)?void 0:h.options}),offset:{options:Object.assign({offset:a},null==(f=m.offset)?void 0:f.options)},arrow:Object.assign({},m.arrow,{enabled:!!c,options:Object.assign({},null==(p=m.arrow)?void 0:p.options,{element:c})}),flip:Object.assign({enabled:!!o},m.flip)}))})}const gr="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,yr="undefined"!==typeof document||gr?t.useLayoutEffect:t.useEffect;const vr=function(e){let{children:n,in:r,onExited:o,mountOnEnter:a,unmountOnExit:i}=e;const s=(0,t.useRef)(null),c=(0,t.useRef)(r),l=tr(o);(0,t.useEffect)((()=>{r?c.current=!0:l(s.current)}),[r,l]);const u=vt(s,n.ref),d=(0,t.cloneElement)(n,{ref:u});return r?d:i||!c.current&&a?null:d},br=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];const wr=["component"];const Cr=t.forwardRef(((e,n)=>{let{component:r}=e,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,wr);const a=function(e){let{onEnter:n,onEntering:r,onEntered:o,onExit:a,onExiting:i,onExited:s,addEndListener:c,children:l}=e,u=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,br);const{major:d}=sr(),h=d>=19?l.props.ref:l.ref,f=(0,t.useRef)(null),p=vt(f,"function"===typeof l?null:h),m=e=>t=>{e&&f.current&&e(f.current,t)},g=(0,t.useCallback)(m(n),[n]),y=(0,t.useCallback)(m(r),[r]),v=(0,t.useCallback)(m(o),[o]),b=(0,t.useCallback)(m(a),[a]),w=(0,t.useCallback)(m(i),[i]),C=(0,t.useCallback)(m(s),[s]),k=(0,t.useCallback)(m(c),[c]);return Object.assign({},u,{nodeRef:f},n&&{onEnter:g},r&&{onEntering:y},o&&{onEntered:v},a&&{onExit:b},i&&{onExiting:w},s&&{onExited:C},c&&{addEndListener:k},{children:"function"===typeof l?(e,t)=>l(e,Object.assign({},t,{ref:p})):(0,t.cloneElement)(l,{ref:p})})}(o);return(0,U.jsx)(r,Object.assign({ref:n},a))})),kr=Cr;function Sr(e){let{children:n,in:r,onExited:o,onEntered:a,transition:i}=e;const[s,c]=(0,t.useState)(!r);r&&s&&c(!1);const l=function(e){let{in:n,onTransition:r}=e;const o=(0,t.useRef)(null),a=(0,t.useRef)(!0),i=tr(r);return yr((()=>{if(!o.current)return;let e=!1;return i({in:n,element:o.current,initial:a.current,isStale:()=>e}),()=>{e=!0}}),[n,i]),yr((()=>(a.current=!1,()=>{a.current=!0})),[]),o}({in:!!r,onTransition:e=>{Promise.resolve(i(e)).then((()=>{e.isStale()||(e.in?null==a||a(e.element,e.initial):(c(!0),null==o||o(e.element)))}),(t=>{throw e.in||c(!0),t}))}}),u=vt(l,n.ref);return s&&!r?null:(0,t.cloneElement)(n,{ref:u})}function xr(e,t,n){return e?(0,U.jsx)(kr,Object.assign({},n,{component:e})):t?(0,U.jsx)(Sr,Object.assign({},n,{transition:t})):(0,U.jsx)(vr,Object.assign({},n))}const Tr=t.forwardRef(((e,n)=>{const{flip:r,offset:a,placement:i,containerPadding:s,popperConfig:c={},transition:l,runTransition:u}=e,[d,h]=bt(),[f,p]=bt(),m=vt(h,n),g=fr(e.container),y=fr(e.target),[v,b]=(0,t.useState)(!e.show),w=Kn(y,d,mr({placement:i,enableEvents:!!e.show,containerPadding:s||5,flip:r,offset:a,arrowElement:f,popperConfig:c}));e.show&&v&&b(!1);const C=e.show||!v;if(lr(d,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!C)return null;const{onExit:k,onExiting:S,onEnter:x,onEntering:T,onEntered:I}=e;let E=e.children(Object.assign({},w.attributes.popper,{style:w.styles.popper,ref:m}),{popper:w,placement:i,show:!!e.show,arrowProps:Object.assign({},w.attributes.arrow,{style:w.styles.arrow,ref:p})});return E=xr(l,u,{in:!!e.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:E,onExit:k,onExiting:S,onExited:function(){b(!0),e.onExited&&e.onExited(...arguments)},onEnter:x,onEntering:T,onEntered:I}),g?o.createPortal(E,g):null}));Tr.displayName="Overlay";const Ir=Tr;function Er(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}const Ar=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o="div",...a}=e;return r=V(r,"popover-header"),(0,U.jsx)(o,{ref:t,className:H()(n,r),...a})}));Ar.displayName="PopoverHeader";const Nr=Ar,_r=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o="div",...a}=e;return r=V(r,"popover-body"),(0,U.jsx)(o,{ref:t,className:H()(n,r),...a})}));_r.displayName="PopoverBody";const Rr=_r;t.Component;function Pr(e,t){let n=e;return"left"===e?n=t?"end":"start":"right"===e&&(n=t?"start":"end"),n}function Or(){return{position:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"absolute",top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const Mr=t.forwardRef(((e,t)=>{let{bsPrefix:n,placement:r="right",className:o,style:a,children:i,body:s,arrowProps:c,hasDoneInitialMeasure:l,popper:u,show:d,...h}=e;const f=V(n,"popover"),p=Y(),[m]=(null==r?void 0:r.split("-"))||[],g=Pr(m,p);let y=a;return d&&!l&&(y={...a,...Or(null==u?void 0:u.strategy)}),(0,U.jsxs)("div",{ref:t,role:"tooltip",style:y,"x-placement":m,className:H()(o,f,m&&`bs-popover-${g}`),...h,children:[(0,U.jsx)("div",{className:"popover-arrow",...c}),s?(0,U.jsx)(Rr,{children:i}):i]})})),jr=Object.assign(Mr,{Header:Nr,Body:Rr,POPPER_OFFSET:[0,8]}),Lr=t.forwardRef(((e,t)=>{let{bsPrefix:n,placement:r="right",className:o,style:a,children:i,arrowProps:s,hasDoneInitialMeasure:c,popper:l,show:u,...d}=e;n=V(n,"tooltip");const h=Y(),[f]=(null==r?void 0:r.split("-"))||[],p=Pr(f,h);let m=a;return u&&!c&&(m={...a,...Or(null==l?void 0:l.strategy)}),(0,U.jsxs)("div",{ref:t,style:m,role:"tooltip","x-placement":f,className:H()(o,n,`bs-tooltip-${p}`),...d,children:[(0,U.jsx)("div",{className:"tooltip-arrow",...s}),(0,U.jsx)("div",{className:`${n}-inner`,children:i})]})}));Lr.displayName="Tooltip";const Dr=Object.assign(Lr,{TOOLTIP_OFFSET:[0,6]});function qr(e,t){return qr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qr(e,t)}const Fr=!1,Hr=t.createContext(null);var Ur="unmounted",zr="exited",Br="entering",$r="entered",Kr="exiting",Wr=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var o,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(o=zr,r.appearStatus=Br):o=$r:o=t.unmountOnExit||t.mountOnEnter?Ur:zr,r.state={status:o},r.nextCallback=null,r}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,qr(e,t)}(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Ur?{status:zr}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Br&&n!==$r&&(t=Br):n!==Br&&n!==$r||(t=Kr)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Br){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:o.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===zr&&this.setState({status:Ur})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,a=this.props.nodeRef?[r]:[o.findDOMNode(this),r],i=a[0],s=a[1],c=this.getTimeouts(),l=r?c.appear:c.enter;!e&&!n||Fr?this.safeSetState({status:$r},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,s),this.safeSetState({status:Br},(function(){t.props.onEntering(i,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:$r},(function(){t.props.onEntered(i,s)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:o.findDOMNode(this);t&&!Fr?(this.props.onExit(r),this.safeSetState({status:Kr},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:zr},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:zr},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:o.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=a[0],s=a[1];this.props.addEndListener(i,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===Ur)return null;var n=this.props,r=n.children,o=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,lt(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(Hr.Provider,{value:null},"function"===typeof r?r(e,o):t.cloneElement(t.Children.only(r),o))},n}(t.Component);function Vr(){}Wr.contextType=Hr,Wr.propTypes={},Wr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Vr,onEntering:Vr,onEntered:Vr,onExit:Vr,onExiting:Vr,onExited:Vr},Wr.UNMOUNTED=Ur,Wr.EXITED=zr,Wr.ENTERING=Br,Wr.ENTERED=$r,Wr.EXITING=Kr;const Gr=Wr;function Qr(e,t){return function(e){var t=Zn(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Yr=/([A-Z])/g;var Jr=/^ms-/;function Xr(e){return function(e){return e.replace(Yr,"-$1").toLowerCase()}(e).replace(Jr,"-ms-")}var Zr=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const eo=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(Xr(t))||Qr(e).getPropertyValue(Xr(t));Object.keys(t).forEach((function(o){var a=t[o];a||0===a?!function(e){return!(!e||!Zr.test(e))}(o)?n+=Xr(o)+": "+a+";":r+=o+"("+a+") ":e.style.removeProperty(Xr(o))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};function to(e,t,n){void 0===n&&(n=5);var r=!1,o=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var o=document.createEvent("HTMLEvents");o.initEvent(t,n,r),e.dispatchEvent(o)}}(e,"transitionend",!0)}),t+n),a=Xn(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(o),a()}}function no(e,t,n,r){null==n&&(n=function(e){var t=eo(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var o=to(e,n,r),a=Xn(e,"transitionend",t);return function(){o(),a()}}function ro(e,t){const n=eo(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function oo(e,t){const n=ro(e,"transitionDuration"),r=ro(e,"transitionDelay"),o=no(e,(n=>{n.target===e&&(o(),t(n))}),n+r)}function ao(e){e.offsetHeight}function io(e){return e&&"setState"in e?o.findDOMNode(e):null!=e?e:null}const so=t.forwardRef(((e,n)=>{let{onEnter:r,onEntering:o,onEntered:a,onExit:i,onExiting:s,onExited:c,addEndListener:l,children:u,childRef:d,...h}=e;const f=(0,t.useRef)(null),p=vt(f,d),m=e=>{p(io(e))},g=e=>t=>{e&&f.current&&e(f.current,t)},y=(0,t.useCallback)(g(r),[r]),v=(0,t.useCallback)(g(o),[o]),b=(0,t.useCallback)(g(a),[a]),w=(0,t.useCallback)(g(i),[i]),C=(0,t.useCallback)(g(s),[s]),k=(0,t.useCallback)(g(c),[c]),S=(0,t.useCallback)(g(l),[l]);return(0,U.jsx)(Gr,{ref:n,...h,onEnter:y,onEntered:b,onEntering:v,onExit:w,onExited:k,onExiting:C,addEndListener:S,nodeRef:f,children:"function"===typeof u?(e,t)=>u(e,{...t,ref:m}):t.cloneElement(u,{ref:m})})})),co=so,lo={[Br]:"show",[$r]:"show"},uo=t.forwardRef(((e,n)=>{let{className:r,children:o,transitionClasses:a={},onEnter:i,...s}=e;const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},l=(0,t.useCallback)(((e,t)=>{ao(e),null==i||i(e,t)}),[i]),{major:u}=sr(),d=u>=19?o.props.ref:o.ref;return(0,U.jsx)(co,{ref:n,addEndListener:oo,...c,onEnter:l,childRef:d,children:(e,n)=>t.cloneElement(o,{...n,className:H()("fade",r,o.props.className,lo[e],a[e])})})}));uo.displayName="Fade";const ho=uo;const fo=t.forwardRef(((e,n)=>{let{children:r,transition:o=ho,popperConfig:a={},rootClose:i=!1,placement:s="top",show:c=!1,...l}=e;const u=(0,t.useRef)({}),[d,h]=(0,t.useState)(null),[f,p]=function(e){const n=(0,t.useRef)(null),r=V(void 0,"popover"),o=V(void 0,"tooltip"),a=(0,t.useMemo)((()=>({name:"offset",options:{offset:()=>{if(e)return e;if(n.current){if(Er(n.current,r))return jr.POPPER_OFFSET;if(Er(n.current,o))return Dr.TOOLTIP_OFFSET}return[0,0]}}})),[e,r,o]);return[n,[a]]}(l.offset),m=vt(n,f),g=!0===o?ho:o||void 0,y=tr((e=>{h(e),null==a||null==a.onFirstUpdate||a.onFirstUpdate(e)}));return yr((()=>{d&&l.target&&(null==u.current.scheduleUpdate||u.current.scheduleUpdate())}),[d,l.target]),(0,t.useEffect)((()=>{c||h(null)}),[c]),(0,U.jsx)(Ir,{...l,ref:m,popperConfig:{...a,modifiers:p.concat(a.modifiers||[]),onFirstUpdate:y},transition:g,rootClose:i,placement:s,show:c,children:(e,n)=>{let{arrowProps:i,popper:s,show:c}=n;var l;!function(e,t){const{ref:n}=e,{ref:r}=t;e.ref=n.__wrapped||(n.__wrapped=e=>n(io(e))),t.ref=r.__wrapped||(r.__wrapped=e=>r(io(e)))}(e,i);const h=null==s?void 0:s.placement,f=Object.assign(u.current,{state:null==s?void 0:s.state,scheduleUpdate:null==s?void 0:s.update,placement:h,outOfBoundaries:(null==s||null==(l=s.state)||null==(l=l.modifiersData.hide)?void 0:l.isReferenceHidden)||!1,strategy:a.strategy}),p=!!d;return"function"===typeof r?r({...e,placement:h,show:c,...!o&&c&&{className:"show"},popper:f,arrowProps:i,hasDoneInitialMeasure:p}):t.cloneElement(r,{...e,placement:h,arrowProps:i,popper:f,hasDoneInitialMeasure:p,className:H()(r.props.className,!o&&c&&"show"),style:{...r.props.style,...e.style}})}})}));fo.displayName="Overlay";const po=fo;function mo(e,t,n){const[r]=t,o=r.currentTarget,a=r.relatedTarget||r.nativeEvent[n];a&&a===o||nt(o,a)||e(...t)}We().oneOf(["click","hover","focus"]);const go=e=>{let{trigger:n=["hover","focus"],overlay:r,children:o,popperConfig:a={},show:i,defaultShow:s=!1,onToggle:c,delay:l,placement:u,flip:d=u&&-1!==u.indexOf("auto"),...h}=e;const f=(0,t.useRef)(null),p=vt(f,o.ref),m=st(),g=(0,t.useRef)(""),[y,v]=ht(i,s,c),b=function(e){return e&&"object"===typeof e?e:{show:e,hide:e}}(l),{onFocus:w,onBlur:C,onClick:k}="function"!==typeof o?t.Children.only(o).props:{},S=(0,t.useCallback)((()=>{m.clear(),g.current="show",b.show?m.set((()=>{"show"===g.current&&v(!0)}),b.show):v(!0)}),[b.show,v,m]),x=(0,t.useCallback)((()=>{m.clear(),g.current="hide",b.hide?m.set((()=>{"hide"===g.current&&v(!1)}),b.hide):v(!1)}),[b.hide,v,m]),T=(0,t.useCallback)((function(){S(),null==w||w(...arguments)}),[S,w]),I=(0,t.useCallback)((function(){x(),null==C||C(...arguments)}),[x,C]),E=(0,t.useCallback)((function(){v(!y),null==k||k(...arguments)}),[k,v,y]),A=(0,t.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];mo(S,t,"fromElement")}),[S]),N=(0,t.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];mo(x,t,"toElement")}),[x]),_=null==n?[]:[].concat(n),R={ref:e=>{p(io(e))}};return-1!==_.indexOf("click")&&(R.onClick=E),-1!==_.indexOf("focus")&&(R.onFocus=T,R.onBlur=I),-1!==_.indexOf("hover")&&(R.onMouseOver=A,R.onMouseOut=N),(0,U.jsxs)(U.Fragment,{children:["function"===typeof o?o(R):(0,t.cloneElement)(o,R),(0,U.jsx)(po,{...h,show:y,onHide:x,flip:d,placement:u,popperConfig:a,target:f.current,children:r})]})},yo=()=>{};let vo={},bo={},wo=null,Co={mark:yo,measure:yo};try{"undefined"!==typeof window&&(vo=window),"undefined"!==typeof document&&(bo=document),"undefined"!==typeof MutationObserver&&(wo=MutationObserver),"undefined"!==typeof performance&&(Co=performance)}catch(YC){}const{userAgent:ko=""}=vo.navigator||{},So=vo,xo=bo,To=wo,Io=Co,Eo=(So.document,!!xo.documentElement&&!!xo.head&&"function"===typeof xo.addEventListener&&"function"===typeof xo.createElement),Ao=~ko.indexOf("MSIE")||~ko.indexOf("Trident/");var No="classic",_o="duotone",Ro="sharp",Po="sharp-duotone",Oo=[No,_o,Ro,Po],Mo={fak:"kit","fa-kit":"kit"},jo={fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"},Lo={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid"}},Do=[1,2,3,4,5,6,7,8,9,10],qo=Do.concat([11,12,13,14,15,16,17,18,19,20]),Fo={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Ho=[...Object.keys({classic:["fas","far","fal","fat"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds"]}),"solid","regular","light","thin","duotone","brands","2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Fo.GROUP,Fo.SWAP_OPACITY,Fo.PRIMARY,Fo.SECONDARY].concat(Do.map((e=>"".concat(e,"x")))).concat(qo.map((e=>"w-".concat(e)))),Uo={kit:"fak"},zo={"kit-duotone":"fakd"};const Bo="___FONT_AWESOME___",$o=16,Ko="svg-inline--fa",Wo="data-fa-i2svg",Vo="data-fa-pseudo-element",Go="data-prefix",Qo="data-icon",Yo="fontawesome-i2svg",Jo=["HTML","HEAD","STYLE","SCRIPT"],Xo=(()=>{try{return!0}catch(e){return!1}})(),Zo=[No,Ro,Po];function ea(e){return new Proxy(e,{get:(e,t)=>t in e?e[t]:e[No]})}const ta={...Lo};ta[No]={...Lo[No],...Mo,...jo};const na=ea(ta),ra={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds"}};ra[No]={...ra[No],...Uo,...zo};const oa=ea(ra),aa={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid"}};aa[No]={...aa[No],fak:"fa-kit"};const ia=ea(aa),sa={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds"}};sa[No]={...sa[No],"fa-kit":"fak"};const ca=ea(sa),la=/fa(s|r|l|t|d|b|k|kd|ss|sr|sl|st|sds)?[\-\ ]/,ua="fa-layers-text",da=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,ha=(ea({classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds"}}),["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"]),fa=Fo,pa=new Set;Object.keys(oa[No]).map(pa.add.bind(pa)),Object.keys(oa[Ro]).map(pa.add.bind(pa)),Object.keys(oa[Po]).map(pa.add.bind(pa));const ma=["kit",...Ho],ga=So.FontAwesomeConfig||{};if(xo&&"function"===typeof xo.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((e=>{let[t,n]=e;const r=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=xo.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(t));void 0!==r&&null!==r&&(ga[n]=r)}))}const ya={styleDefault:"solid",familyDefault:"classic",cssPrefix:"fa",replacementClass:Ko,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};ga.familyPrefix&&(ga.cssPrefix=ga.familyPrefix);const va={...ya,...ga};va.autoReplaceSvg||(va.observeMutations=!1);const ba={};Object.keys(ya).forEach((e=>{Object.defineProperty(ba,e,{enumerable:!0,set:function(t){va[e]=t,wa.forEach((e=>e(ba)))},get:function(){return va[e]}})})),Object.defineProperty(ba,"familyPrefix",{enumerable:!0,set:function(e){va.cssPrefix=e,wa.forEach((e=>e(ba)))},get:function(){return va.cssPrefix}}),So.FontAwesomeConfig=ba;const wa=[];const Ca=$o,ka={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Sa(){let e=12,t="";for(;e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function xa(e){const t=[];for(let n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function Ta(e){return e.classList?xa(e.classList):(e.getAttribute("class")||"").split(" ").filter((e=>e))}function Ia(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ea(e){return Object.keys(e||{}).reduce(((t,n)=>t+"".concat(n,": ").concat(e[n].trim(),";")),"")}function Aa(e){return e.size!==ka.size||e.x!==ka.x||e.y!==ka.y||e.rotate!==ka.rotate||e.flipX||e.flipY}function Na(){const e="fa",t=Ko,n=ba.cssPrefix,r=ba.replacementClass;let o=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-counter-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(-1 * var(--fa-li-width, 2em));\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  animation-name: fa-beat;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  animation-name: fa-bounce;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  animation-name: fa-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  animation-name: fa-beat-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  animation-name: fa-flip;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  animation-name: fa-shake;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  animation-name: fa-spin;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 2s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  animation-name: fa-spin;\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    animation-delay: -1ms;\n    animation-duration: 1ms;\n    animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    transform: scale(1);\n  }\n  45% {\n    transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-shake {\n  0% {\n    transform: rotate(-15deg);\n  }\n  4% {\n    transform: rotate(15deg);\n  }\n  8%, 24% {\n    transform: rotate(-18deg);\n  }\n  12%, 28% {\n    transform: rotate(18deg);\n  }\n  16% {\n    transform: rotate(-22deg);\n  }\n  20% {\n    transform: rotate(22deg);\n  }\n  32% {\n    transform: rotate(-12deg);\n  }\n  36% {\n    transform: rotate(12deg);\n  }\n  40%, 100% {\n    transform: rotate(0deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(n!==e||r!==t){const a=new RegExp("\\.".concat(e,"\\-"),"g"),i=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");o=o.replace(a,".".concat(n,"-")).replace(i,"--".concat(n,"-")).replace(s,".".concat(r))}return o}let _a=!1;function Ra(){ba.autoAddCss&&!_a&&(!function(e){if(!e||!Eo)return;const t=xo.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;const n=xo.head.childNodes;let r=null;for(let o=n.length-1;o>-1;o--){const e=n[o],t=(e.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(t)>-1&&(r=e)}xo.head.insertBefore(t,r)}(Na()),_a=!0)}var Pa={mixout:()=>({dom:{css:Na,insertCss:Ra}}),hooks:()=>({beforeDOMElementCreation(){Ra()},beforeI2svg(){Ra()}})};const Oa=So||{};Oa[Bo]||(Oa[Bo]={}),Oa[Bo].styles||(Oa[Bo].styles={}),Oa[Bo].hooks||(Oa[Bo].hooks={}),Oa[Bo].shims||(Oa[Bo].shims=[]);var Ma=Oa[Bo];const ja=[],La=function(){xo.removeEventListener("DOMContentLoaded",La),Da=1,ja.map((e=>e()))};let Da=!1;function qa(e){const{tag:t,attributes:n={},children:r=[]}=e;return"string"===typeof e?Ia(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce(((t,n)=>t+"".concat(n,'="').concat(Ia(e[n]),'" ')),"").trim()}(n),">").concat(r.map(qa).join(""),"</").concat(t,">")}function Fa(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}Eo&&(Da=(xo.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(xo.readyState),Da||xo.addEventListener("DOMContentLoaded",La));var Ha=function(e,t,n,r){var o,a,i,s=Object.keys(e),c=s.length,l=void 0!==r?function(e,t){return function(n,r,o,a){return e.call(t,n,r,o,a)}}(t,r):t;for(void 0===n?(o=1,i=e[s[0]]):(o=0,i=n);o<c;o++)i=l(i,e[a=s[o]],a,e);return i};function Ua(e){const t=function(e){const t=[];let n=0;const r=e.length;for(;n<r;){const o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){const r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&o)<<10)+(1023&r)+65536):(t.push(o),n--)}else t.push(o)}return t}(e);return 1===t.length?t[0].toString(16):null}function za(e){return Object.keys(e).reduce(((t,n)=>{const r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function Ba(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{skipHooks:r=!1}=n,o=za(t);"function"!==typeof Ma.hooks.addPack||r?Ma.styles[e]={...Ma.styles[e]||{},...o}:Ma.hooks.addPack(e,za(t)),"fas"===e&&Ba("fa",t)}const{styles:$a,shims:Ka}=Ma,Wa={[No]:Object.values(ia[No]),[Ro]:Object.values(ia[Ro]),[Po]:Object.values(ia[Po])};let Va=null,Ga={},Qa={},Ya={},Ja={},Xa={};const Za={[No]:Object.keys(na[No]),[Ro]:Object.keys(na[Ro]),[Po]:Object.keys(na[Po])};function ei(e,t){const n=t.split("-"),r=n[0],o=n.slice(1).join("-");return r!==e||""===o||(a=o,~ma.indexOf(a))?null:o;var a}const ti=()=>{const e=e=>Ha($a,((t,n,r)=>(t[r]=Ha(n,e,{}),t)),{});Ga=e(((e,t,n)=>{if(t[3]&&(e[t[3]]=n),t[2]){t[2].filter((e=>"number"===typeof e)).forEach((t=>{e[t.toString(16)]=n}))}return e})),Qa=e(((e,t,n)=>{if(e[n]=n,t[2]){t[2].filter((e=>"string"===typeof e)).forEach((t=>{e[t]=n}))}return e})),Xa=e(((e,t,n)=>{const r=t[2];return e[n]=n,r.forEach((t=>{e[t]=n})),e}));const t="far"in $a||ba.autoFetchSvg,n=Ha(Ka,((e,n)=>{const r=n[0];let o=n[1];const a=n[2];return"far"!==o||t||(o="fas"),"string"===typeof r&&(e.names[r]={prefix:o,iconName:a}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:o,iconName:a}),e}),{names:{},unicodes:{}});Ya=n.names,Ja=n.unicodes,Va=si(ba.styleDefault,{family:ba.familyDefault})};var ni;function ri(e,t){return(Ga[e]||{})[t]}function oi(e,t){return(Xa[e]||{})[t]}function ai(e){return Ya[e]||{prefix:null,iconName:null}}function ii(){return Va}ni=e=>{Va=si(e.styleDefault,{family:ba.familyDefault})},wa.push(ni),ti();function si(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{family:n=No}=t,r=na[n][e],o=oa[n][e]||oa[n][r],a=e in Ma.styles?e:null;return o||a||null}const ci={[No]:Object.keys(ia[No]),[Ro]:Object.keys(ia[Ro]),[Po]:Object.keys(ia[Po])};function li(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{skipLookups:n=!1}=t,r={[No]:"".concat(ba.cssPrefix,"-").concat(No),[Ro]:"".concat(ba.cssPrefix,"-").concat(Ro),[Po]:"".concat(ba.cssPrefix,"-").concat(Po)};let o=null,a=No;const i=Oo.filter((e=>e!==_o));i.forEach((t=>{(e.includes(r[t])||e.some((e=>ci[t].includes(e))))&&(a=t)}));const s=e.reduce(((e,t)=>{const s=ei(ba.cssPrefix,t);if($a[t]?(t=Wa[a].includes(t)?ca[a][t]:t,o=t,e.prefix=t):Za[a].indexOf(t)>-1?(o=t,e.prefix=si(t,{family:a})):s?e.iconName=s:t===ba.replacementClass||i.some((e=>t===r[e]))||e.rest.push(t),!n&&e.prefix&&e.iconName){const t="fa"===o?ai(e.iconName):{},n=oi(e.prefix,e.iconName);t.prefix&&(o=null),e.iconName=t.iconName||n||e.iconName,e.prefix=t.prefix||e.prefix,"far"!==e.prefix||$a.far||!$a.fas||ba.autoFetchSvg||(e.prefix="fas")}return e}),{prefix:null,iconName:null,rest:[]});return(e.includes("fa-brands")||e.includes("fab"))&&(s.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(s.prefix="fad"),s.prefix||a!==Ro||!$a.fass&&!ba.autoFetchSvg||(s.prefix="fass",s.iconName=oi(s.prefix,s.iconName)||s.iconName),s.prefix||a!==Po||!$a.fasds&&!ba.autoFetchSvg||(s.prefix="fasds",s.iconName=oi(s.prefix,s.iconName)||s.iconName),"fa"!==s.prefix&&"fa"!==o||(s.prefix=ii()||"fas"),s}let ui=[],di={};const hi={},fi=Object.keys(hi);function pi(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return(di[e]||[]).forEach((e=>{t=e.apply(null,[t,...r])})),t}function mi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(di[e]||[]).forEach((e=>{e.apply(null,n)}))}function gi(){const e=arguments[0],t=Array.prototype.slice.call(arguments,1);return hi[e]?hi[e].apply(null,t):void 0}function yi(e){"fa"===e.prefix&&(e.prefix="fas");let{iconName:t}=e;const n=e.prefix||ii();if(t)return t=oi(n,t)||t,Fa(vi.definitions,n,t)||Fa(Ma.styles,n,t)}const vi=new class{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(this._pullDefinitions,{});Object.keys(r).forEach((e=>{this.definitions[e]={...this.definitions[e]||{},...r[e]},Ba(e,r[e]);const t=ia[No][e];t&&Ba(t,r[e]),ti()}))}reset(){this.definitions={}}_pullDefinitions(e,t){const n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((t=>{const{prefix:r,iconName:o,icon:a}=n[t],i=a[2];e[r]||(e[r]={}),i.length>0&&i.forEach((t=>{"string"===typeof t&&(e[r][t]=a)})),e[r][o]=a})),e}},bi={i2svg:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Eo?(mi("beforeI2svg",e),gi("pseudoElements2svg",e),gi("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:t}=e;var n;!1===ba.autoReplaceSvg&&(ba.autoReplaceSvg=!0),ba.observeMutations=!0,n=()=>{ki({autoReplaceSvgRoot:t}),mi("watch",e)},Eo&&(Da?setTimeout(n,0):ja.push(n))}},wi={icon:e=>{if(null===e)return null;if("object"===typeof e&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:oi(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){const t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=si(e[0]);return{prefix:n,iconName:oi(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(ba.cssPrefix,"-"))>-1||e.match(la))){const t=li(e.split(" "),{skipLookups:!0});return{prefix:t.prefix||ii(),iconName:oi(t.prefix,t.iconName)||t.iconName}}if("string"===typeof e){const t=ii();return{prefix:t,iconName:oi(t,e)||e}}}},Ci={noAuto:()=>{ba.autoReplaceSvg=!1,ba.observeMutations=!1,mi("noAuto")},config:ba,dom:bi,parse:wi,library:vi,findIconDefinition:yi,toHtml:qa},ki=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:t=xo}=e;(Object.keys(Ma.styles).length>0||ba.autoFetchSvg)&&Eo&&ba.autoReplaceSvg&&Ci.dom.i2svg({node:t})};function Si(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((e=>qa(e)))}}),Object.defineProperty(e,"node",{get:function(){if(!Eo)return;const t=xo.createElement("div");return t.innerHTML=e.html,t.children}}),e}function xi(e){const{icons:{main:t,mask:n},prefix:r,iconName:o,transform:a,symbol:i,title:s,maskId:c,titleId:l,extra:u,watchable:d=!1}=e,{width:h,height:f}=n.found?n:t,p="fak"===r,m=[ba.replacementClass,o?"".concat(ba.cssPrefix,"-").concat(o):""].filter((e=>-1===u.classes.indexOf(e))).filter((e=>""!==e||!!e)).concat(u.classes).join(" ");let g={children:[],attributes:{...u.attributes,"data-prefix":r,"data-icon":o,class:m,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(h," ").concat(f)}};const y=p&&!~u.classes.indexOf("fa-fw")?{width:"".concat(h/f*16*.0625,"em")}:{};d&&(g.attributes[Wo]=""),s&&(g.children.push({tag:"title",attributes:{id:g.attributes["aria-labelledby"]||"title-".concat(l||Sa())},children:[s]}),delete g.attributes.title);const v={...g,prefix:r,iconName:o,main:t,mask:n,maskId:c,transform:a,symbol:i,styles:{...y,...u.styles}},{children:b,attributes:w}=n.found&&t.found?gi("generateAbstractMask",v)||{children:[],attributes:{}}:gi("generateAbstractIcon",v)||{children:[],attributes:{}};return v.children=b,v.attributes=w,i?function(e){let{prefix:t,iconName:n,children:r,attributes:o,symbol:a}=e;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:{...o,id:!0===a?"".concat(t,"-").concat(ba.cssPrefix,"-").concat(n):a},children:r}]}]}(v):function(e){let{children:t,main:n,mask:r,attributes:o,styles:a,transform:i}=e;if(Aa(i)&&n.found&&!r.found){const{width:e,height:t}=n,r={x:e/t/2,y:.5};o.style=Ea({...a,"transform-origin":"".concat(r.x+i.x/16,"em ").concat(r.y+i.y/16,"em")})}return[{tag:"svg",attributes:o,children:t}]}(v)}function Ti(e){const{content:t,width:n,height:r,transform:o,title:a,extra:i,watchable:s=!1}=e,c={...i.attributes,...a?{title:a}:{},class:i.classes.join(" ")};s&&(c[Wo]="");const l={...i.styles};Aa(o)&&(l.transform=function(e){let{transform:t,width:n=$o,height:r=$o,startCentered:o=!1}=e,a="";return a+=o&&Ao?"translate(".concat(t.x/Ca-n/2,"em, ").concat(t.y/Ca-r/2,"em) "):o?"translate(calc(-50% + ".concat(t.x/Ca,"em), calc(-50% + ").concat(t.y/Ca,"em)) "):"translate(".concat(t.x/Ca,"em, ").concat(t.y/Ca,"em) "),a+="scale(".concat(t.size/Ca*(t.flipX?-1:1),", ").concat(t.size/Ca*(t.flipY?-1:1),") "),a+="rotate(".concat(t.rotate,"deg) "),a}({transform:o,startCentered:!0,width:n,height:r}),l["-webkit-transform"]=l.transform);const u=Ea(l);u.length>0&&(c.style=u);const d=[];return d.push({tag:"span",attributes:c,children:[t]}),a&&d.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),d}const{styles:Ii}=Ma;function Ei(e){const t=e[0],n=e[1],[r]=e.slice(4);let o=null;return o=Array.isArray(r)?{tag:"g",attributes:{class:"".concat(ba.cssPrefix,"-").concat(fa.GROUP)},children:[{tag:"path",attributes:{class:"".concat(ba.cssPrefix,"-").concat(fa.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(ba.cssPrefix,"-").concat(fa.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:t,height:n,icon:o}}const Ai={found:!1,width:512,height:512};function Ni(e,t){let n=t;return"fa"===t&&null!==ba.styleDefault&&(t=ii()),new Promise(((r,o)=>{if("fa"===n){const n=ai(e)||{};e=n.iconName||e,t=n.prefix||t}if(e&&t&&Ii[t]&&Ii[t][e]){return r(Ei(Ii[t][e]))}!function(e,t){Xo||ba.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r({...Ai,icon:ba.showMissingIcons&&e&&gi("missingIconAbstract")||{}})}))}const _i=()=>{},Ri=ba.measurePerformance&&Io&&Io.mark&&Io.measure?Io:{mark:_i,measure:_i},Pi='FA "6.6.0"',Oi=e=>{Ri.mark("".concat(Pi," ").concat(e," ends")),Ri.measure("".concat(Pi," ").concat(e),"".concat(Pi," ").concat(e," begins"),"".concat(Pi," ").concat(e," ends"))};var Mi=e=>(Ri.mark("".concat(Pi," ").concat(e," begins")),()=>Oi(e));const ji=()=>{};function Li(e){return"string"===typeof(e.getAttribute?e.getAttribute(Wo):null)}function Di(e){return xo.createElementNS("http://www.w3.org/2000/svg",e)}function qi(e){return xo.createElement(e)}function Fi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{ceFn:n=("svg"===e.tag?Di:qi)}=t;if("string"===typeof e)return xo.createTextNode(e);const r=n(e.tag);Object.keys(e.attributes||[]).forEach((function(t){r.setAttribute(t,e.attributes[t])}));return(e.children||[]).forEach((function(e){r.appendChild(Fi(e,{ceFn:n}))})),r}const Hi={replace:function(e){const t=e[0];if(t.parentNode)if(e[1].forEach((e=>{t.parentNode.insertBefore(Fi(e),t)})),null===t.getAttribute(Wo)&&ba.keepOriginalSource){let e=xo.createComment(function(e){let t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}(t));t.parentNode.replaceChild(e,t)}else t.remove()},nest:function(e){const t=e[0],n=e[1];if(~Ta(t).indexOf(ba.replacementClass))return Hi.replace(e);const r=new RegExp("".concat(ba.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const e=n[0].attributes.class.split(" ").reduce(((e,t)=>(t===ba.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e)),{toNode:[],toSvg:[]});n[0].attributes.class=e.toSvg.join(" "),0===e.toNode.length?t.removeAttribute("class"):t.setAttribute("class",e.toNode.join(" "))}const o=n.map((e=>qa(e))).join("\n");t.setAttribute(Wo,""),t.innerHTML=o}};function Ui(e){e()}function zi(e,t){const n="function"===typeof t?t:ji;if(0===e.length)n();else{let t=Ui;"async"===ba.mutateApproach&&(t=So.requestAnimationFrame||Ui),t((()=>{const t=!0===ba.autoReplaceSvg?Hi.replace:Hi[ba.autoReplaceSvg]||Hi.replace,r=Mi("mutate");e.map(t),r(),n()}))}}let Bi=!1;function $i(){Bi=!0}function Ki(){Bi=!1}let Wi=null;function Vi(e){if(!To)return;if(!ba.observeMutations)return;const{treeCallback:t=ji,nodeCallback:n=ji,pseudoElementsCallback:r=ji,observeMutationsRoot:o=xo}=e;Wi=new To((e=>{if(Bi)return;const o=ii();xa(e).forEach((e=>{if("childList"===e.type&&e.addedNodes.length>0&&!Li(e.addedNodes[0])&&(ba.searchPseudoElements&&r(e.target),t(e.target)),"attributes"===e.type&&e.target.parentNode&&ba.searchPseudoElements&&r(e.target.parentNode),"attributes"===e.type&&Li(e.target)&&~ha.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){const t=e.getAttribute?e.getAttribute(Go):null,n=e.getAttribute?e.getAttribute(Qo):null;return t&&n}(e.target)){const{prefix:t,iconName:n}=li(Ta(e.target));e.target.setAttribute(Go,t||o),n&&e.target.setAttribute(Qo,n)}else(a=e.target)&&a.classList&&a.classList.contains&&a.classList.contains(ba.replacementClass)&&n(e.target);var a}))})),Eo&&Wi.observe(o,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function Gi(e){const t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"";let o=li(Ta(e));return o.prefix||(o.prefix=ii()),t&&n&&(o.prefix=t,o.iconName=n),o.iconName&&o.prefix||(o.prefix&&r.length>0&&(o.iconName=function(e,t){return(Qa[e]||{})[t]}(o.prefix,e.innerText)||ri(o.prefix,Ua(e.innerText))),!o.iconName&&ba.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(o.iconName=e.firstChild.data)),o}function Qi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:o}=Gi(e),a=function(e){const t=xa(e.attributes).reduce(((e,t)=>("class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e)),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return ba.autoA11y&&(n?t["aria-labelledby"]="".concat(ba.replacementClass,"-title-").concat(r||Sa()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),i=pi("parseNodeAttributes",{},e);let s=t.styleParser?function(e){const t=e.getAttribute("style");let n=[];return t&&(n=t.split(";").reduce(((e,t)=>{const n=t.split(":"),r=n[0],o=n.slice(1);return r&&o.length>0&&(e[r]=o.join(":").trim()),e}),{})),n}(e):[];return{iconName:n,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:r,transform:ka,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:s,attributes:a},...i}}const{styles:Yi}=Ma;function Ji(e){const t="nest"===ba.autoReplaceSvg?Qi(e,{styleParser:!1}):Qi(e);return~t.extra.classes.indexOf(ua)?gi("generateLayersText",e,t):gi("generateSvgReplacementMutation",e,t)}let Xi=new Set;function Zi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Eo)return Promise.resolve();const n=xo.documentElement.classList,r=e=>n.add("".concat(Yo,"-").concat(e)),o=e=>n.remove("".concat(Yo,"-").concat(e)),a=ba.autoFetchSvg?Xi:Zo.map((e=>"fa-".concat(e))).concat(Object.keys(Yi));a.includes("fa")||a.push("fa");const i=[".".concat(ua,":not([").concat(Wo,"])")].concat(a.map((e=>".".concat(e,":not([").concat(Wo,"])")))).join(", ");if(0===i.length)return Promise.resolve();let s=[];try{s=xa(e.querySelectorAll(i))}catch(u){}if(!(s.length>0))return Promise.resolve();r("pending"),o("complete");const c=Mi("onTree"),l=s.reduce(((e,t)=>{try{const n=Ji(t);n&&e.push(n)}catch(u){Xo||"MissingIcon"===u.name&&console.error(u)}return e}),[]);return new Promise(((e,n)=>{Promise.all(l).then((n=>{zi(n,(()=>{r("active"),r("complete"),o("pending"),"function"===typeof t&&t(),c(),e()}))})).catch((e=>{c(),n(e)}))}))}function es(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Ji(e).then((e=>{e&&zi([e],t)}))}Zo.map((e=>{Xi.add("fa-".concat(e))})),Object.keys(na[No]).map(Xi.add.bind(Xi)),Object.keys(na[Ro]).map(Xi.add.bind(Xi)),Object.keys(na[Po]).map(Xi.add.bind(Xi)),Xi=[...Xi];const ts=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:n=ka,symbol:r=!1,mask:o=null,maskId:a=null,title:i=null,titleId:s=null,classes:c=[],attributes:l={},styles:u={}}=t;if(!e)return;const{prefix:d,iconName:h,icon:f}=e;return Si({type:"icon",...e},(()=>(mi("beforeDOMElementCreation",{iconDefinition:e,params:t}),ba.autoA11y&&(i?l["aria-labelledby"]="".concat(ba.replacementClass,"-title-").concat(s||Sa()):(l["aria-hidden"]="true",l.focusable="false")),xi({icons:{main:Ei(f),mask:o?Ei(o.icon):{found:!1,width:null,height:null,icon:{}}},prefix:d,iconName:h,transform:{...ka,...n},symbol:r,title:i,maskId:a,titleId:s,extra:{attributes:l,styles:u,classes:c}}))))};var ns={mixout(){return{icon:(e=ts,function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=(t||{}).icon?t:yi(t||{});let{mask:o}=n;return o&&(o=(o||{}).icon?o:yi(o||{})),e(r,{...n,mask:o})})};var e},hooks:()=>({mutationObserverCallbacks:e=>(e.treeCallback=Zi,e.nodeCallback=es,e)}),provides(e){e.i2svg=function(e){const{node:t=xo,callback:n=()=>{}}=e;return Zi(t,n)},e.generateSvgReplacementMutation=function(e,t){const{iconName:n,title:r,titleId:o,prefix:a,transform:i,symbol:s,mask:c,maskId:l,extra:u}=t;return new Promise(((t,d)=>{Promise.all([Ni(n,a),c.iconName?Ni(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((c=>{let[d,h]=c;t([e,xi({icons:{main:d,mask:h},prefix:a,iconName:n,transform:i,symbol:s,maskId:l,title:r,titleId:o,extra:u,watchable:!0})])})).catch(d)}))},e.generateAbstractIcon=function(e){let{children:t,attributes:n,main:r,transform:o,styles:a}=e;const i=Ea(a);let s;return i.length>0&&(n.style=i),Aa(o)&&(s=gi("generateAbstractTransformGrouping",{main:r,transform:o,containerWidth:r.width,iconWidth:r.width})),t.push(s||r.icon),{children:t,attributes:n}}}},rs={mixout:()=>({layer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{classes:n=[]}=t;return Si({type:"layer"},(()=>{mi("beforeDOMElementCreation",{assembler:e,params:t});let r=[];return e((e=>{Array.isArray(e)?e.map((e=>{r=r.concat(e.abstract)})):r=r.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(ba.cssPrefix,"-layers"),...n].join(" ")},children:r}]}))}})},os={mixout:()=>({counter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{title:n=null,classes:r=[],attributes:o={},styles:a={}}=t;return Si({type:"counter",content:e},(()=>(mi("beforeDOMElementCreation",{content:e,params:t}),function(e){const{content:t,title:n,extra:r}=e,o={...r.attributes,...n?{title:n}:{},class:r.classes.join(" ")},a=Ea(r.styles);a.length>0&&(o.style=a);const i=[];return i.push({tag:"span",attributes:o,children:[t]}),n&&i.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),i}({content:e.toString(),title:n,extra:{attributes:o,styles:a,classes:["".concat(ba.cssPrefix,"-layers-counter"),...r]}}))))}})},as={mixout:()=>({text(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:n=ka,title:r=null,classes:o=[],attributes:a={},styles:i={}}=t;return Si({type:"text",content:e},(()=>(mi("beforeDOMElementCreation",{content:e,params:t}),Ti({content:e,transform:{...ka,...n},title:r,extra:{attributes:a,styles:i,classes:["".concat(ba.cssPrefix,"-layers-text"),...o]}}))))}}),provides(e){e.generateLayersText=function(e,t){const{title:n,transform:r,extra:o}=t;let a=null,i=null;if(Ao){const t=parseInt(getComputedStyle(e).fontSize,10),n=e.getBoundingClientRect();a=n.width/t,i=n.height/t}return ba.autoA11y&&!n&&(o.attributes["aria-hidden"]="true"),Promise.resolve([e,Ti({content:e.innerHTML,width:a,height:i,transform:r,title:n,extra:o,watchable:!0})])}}};const is=new RegExp('"',"ug"),ss=[1105920,1112319],cs={FontAwesome:{normal:"fas",400:"fas"},"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds"},"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"},"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},ls=Object.keys(cs).reduce(((e,t)=>(e[t.toLowerCase()]=cs[t],e)),{}),us=Object.keys(ls).reduce(((e,t)=>{const n=ls[t];return e[t]=n[900]||[...Object.entries(n)][0][1],e}),{});function ds(e,t){const n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise(((r,o)=>{if(null!==e.getAttribute(n))return r();const a=xa(e.children).filter((e=>e.getAttribute(Vo)===t))[0],i=So.getComputedStyle(e,t),s=i.getPropertyValue("font-family"),c=s.match(da),l=i.getPropertyValue("font-weight"),u=i.getPropertyValue("content");if(a&&!c)return e.removeChild(a),r();if(c&&"none"!==u&&""!==u){const u=i.getPropertyValue("content");let d=function(e,t){const n=e.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(t),o=isNaN(r)?"normal":r;return(ls[n]||{})[o]||us[n]}(s,l);const{value:h,isSecondary:f}=function(e){const t=e.replace(is,""),n=function(e,t){const n=e.length;let r,o=e.charCodeAt(t);return o>=55296&&o<=56319&&n>t+1&&(r=e.charCodeAt(t+1),r>=56320&&r<=57343)?1024*(o-55296)+r-56320+65536:o}(t,0),r=n>=ss[0]&&n<=ss[1],o=2===t.length&&t[0]===t[1];return{value:Ua(o?t[0]:t),isSecondary:r||o}}(u),p=c[0].startsWith("FontAwesome");let m=ri(d,h),g=m;if(p){const e=function(e){const t=Ja[e],n=ri("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(h);e.iconName&&e.prefix&&(m=e.iconName,d=e.prefix)}if(!m||f||a&&a.getAttribute(Go)===d&&a.getAttribute(Qo)===g)r();else{e.setAttribute(n,g),a&&e.removeChild(a);const i={iconName:null,title:null,titleId:null,prefix:null,transform:ka,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},{extra:s}=i;s.attributes[Vo]=t,Ni(m,d).then((o=>{const a=xi({...i,icons:{main:o,mask:{prefix:null,iconName:null,rest:[]}},prefix:d,iconName:g,extra:s,watchable:!0}),c=xo.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===t?e.insertBefore(c,e.firstChild):e.appendChild(c),c.outerHTML=a.map((e=>qa(e))).join("\n"),e.removeAttribute(n),r()})).catch(o)}}else r()}))}function hs(e){return Promise.all([ds(e,"::before"),ds(e,"::after")])}function fs(e){return e.parentNode!==document.head&&!~Jo.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(Vo)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function ps(e){if(Eo)return new Promise(((t,n)=>{const r=xa(e.querySelectorAll("*")).filter(fs).map(hs),o=Mi("searchPseudoElements");$i(),Promise.all(r).then((()=>{o(),Ki(),t()})).catch((()=>{o(),Ki(),n()}))}))}var ms={hooks:()=>({mutationObserverCallbacks:e=>(e.pseudoElementsCallback=ps,e)}),provides(e){e.pseudoElements2svg=function(e){const{node:t=xo}=e;ba.searchPseudoElements&&ps(t)}}};let gs=!1;var ys={mixout:()=>({dom:{unwatch(){$i(),gs=!0}}}),hooks:()=>({bootstrap(){Vi(pi("mutationObserverCallbacks",{}))},noAuto(){Wi&&Wi.disconnect()},watch(e){const{observeMutationsRoot:t}=e;gs?Ki():Vi(pi("mutationObserverCallbacks",{observeMutationsRoot:t}))}})};const vs=e=>e.toLowerCase().split(" ").reduce(((e,t)=>{const n=t.toLowerCase().split("-"),r=n[0];let o=n.slice(1).join("-");if(r&&"h"===o)return e.flipX=!0,e;if(r&&"v"===o)return e.flipY=!0,e;if(o=parseFloat(o),isNaN(o))return e;switch(r){case"grow":e.size=e.size+o;break;case"shrink":e.size=e.size-o;break;case"left":e.x=e.x-o;break;case"right":e.x=e.x+o;break;case"up":e.y=e.y-o;break;case"down":e.y=e.y+o;break;case"rotate":e.rotate=e.rotate+o}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0});var bs={mixout:()=>({parse:{transform:e=>vs(e)}}),hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-transform");return n&&(e.transform=vs(n)),e}}),provides(e){e.generateAbstractTransformGrouping=function(e){let{main:t,transform:n,containerWidth:r,iconWidth:o}=e;const a={transform:"translate(".concat(r/2," 256)")},i="translate(".concat(32*n.x,", ").concat(32*n.y,") "),s="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),c="rotate(".concat(n.rotate," 0 0)"),l={transform:"".concat(i," ").concat(s," ").concat(c)},u={transform:"translate(".concat(o/2*-1," -256)")};return{tag:"g",attributes:{...a},children:[{tag:"g",attributes:{...l},children:[{tag:t.icon.tag,children:t.icon.children,attributes:{...t.icon.attributes,...u}}]}]}}}};const ws={x:0,y:0,width:"100%",height:"100%"};function Cs(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var ks={hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-mask"),r=n?li(n.split(" ").map((e=>e.trim()))):{prefix:null,iconName:null,rest:[]};return r.prefix||(r.prefix=ii()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}),provides(e){e.generateAbstractMask=function(e){let{children:t,attributes:n,main:r,mask:o,maskId:a,transform:i}=e;const{width:s,icon:c}=r,{width:l,icon:u}=o,d=function(e){let{transform:t,containerWidth:n,iconWidth:r}=e;const o={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),i="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)");return{outer:o,inner:{transform:"".concat(a," ").concat(i," ").concat(s)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:i,containerWidth:l,iconWidth:s}),h={tag:"rect",attributes:{...ws,fill:"white"}},f=c.children?{children:c.children.map(Cs)}:{},p={tag:"g",attributes:{...d.inner},children:[Cs({tag:c.tag,attributes:{...c.attributes,...d.path},...f})]},m={tag:"g",attributes:{...d.outer},children:[p]},g="mask-".concat(a||Sa()),y="clip-".concat(a||Sa()),v={tag:"mask",attributes:{...ws,id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"},children:[h,m]},b={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(w=u,"g"===w.tag?w.children:[w])},v]};var w;return t.push(b,{tag:"rect",attributes:{fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(g,")"),...ws}}),{children:t,attributes:n}}}},Ss={provides(e){let t=!1;So.matchMedia&&(t=So.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){const e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:{...n,d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}});const o={...r,attributeName:"opacity"},a={tag:"circle",attributes:{...n,cx:"256",cy:"364",r:"28"},children:[]};return t||a.children.push({tag:"animate",attributes:{...r,attributeName:"r",values:"28;14;28;28;14;28;"}},{tag:"animate",attributes:{...o,values:"1;0;1;1;0;1;"}}),e.push(a),e.push({tag:"path",attributes:{...n,opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"},children:t?[]:[{tag:"animate",attributes:{...o,values:"1;0;0;0;0;1;"}}]}),t||e.push({tag:"path",attributes:{...n,opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"},children:[{tag:"animate",attributes:{...o,values:"0;0;1;1;0;0;"}}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){let{mixoutsTo:n}=t;ui=e,di={},Object.keys(hi).forEach((e=>{-1===fi.indexOf(e)&&delete hi[e]})),ui.forEach((e=>{const t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((e=>{"function"===typeof t[e]&&(n[e]=t[e]),"object"===typeof t[e]&&Object.keys(t[e]).forEach((r=>{n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){const t=e.hooks();Object.keys(t).forEach((e=>{di[e]||(di[e]=[]),di[e].push(t[e])}))}e.provides&&e.provides(hi)}))}([Pa,ns,rs,os,as,ms,ys,bs,ks,Ss,{hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}})}],{mixoutsTo:Ci});const xs=Ci.parse,Ts=Ci.icon;function Is(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Es(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Is(Object(n),!0).forEach((function(t){Ns(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Is(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function As(e){return As="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},As(e)}function Ns(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Rs(e){return function(e){if(Array.isArray(e))return Ps(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Ps(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ps(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ps(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Os(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var Ms=["style"];var js=!1;try{js=!0}catch(YC){}function Ls(e){return e&&"object"===As(e)&&e.prefix&&e.iconName&&e.icon?e:xs.icon?xs.icon(e):null===e?null:e&&"object"===As(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function Ds(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Ns({},e,t):{}}var qs={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},Fs=t.forwardRef((function(e,t){var n=Es(Es({},qs),e),r=n.icon,o=n.mask,a=n.symbol,i=n.className,s=n.title,c=n.titleId,l=n.maskId,u=Ls(r),d=Ds("classes",[].concat(Rs(function(e){var t,n=e.beat,r=e.fade,o=e.beatFade,a=e.bounce,i=e.shake,s=e.flash,c=e.spin,l=e.spinPulse,u=e.spinReverse,d=e.pulse,h=e.fixedWidth,f=e.inverse,p=e.border,m=e.listItem,g=e.flip,y=e.size,v=e.rotation,b=e.pull,w=(Ns(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":o,"fa-bounce":a,"fa-shake":i,"fa-flash":s,"fa-spin":c,"fa-spin-reverse":u,"fa-spin-pulse":l,"fa-pulse":d,"fa-fw":h,"fa-inverse":f,"fa-border":p,"fa-li":m,"fa-flip":!0===g,"fa-flip-horizontal":"horizontal"===g||"both"===g,"fa-flip-vertical":"vertical"===g||"both"===g},"fa-".concat(y),"undefined"!==typeof y&&null!==y),Ns(t,"fa-rotate-".concat(v),"undefined"!==typeof v&&null!==v&&0!==v),Ns(t,"fa-pull-".concat(b),"undefined"!==typeof b&&null!==b),Ns(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(w).map((function(e){return w[e]?e:null})).filter((function(e){return e}))}(n)),Rs((i||"").split(" ")))),h=Ds("transform","string"===typeof n.transform?xs.transform(n.transform):n.transform),f=Ds("mask",Ls(o)),p=Ts(u,Es(Es(Es(Es({},d),h),f),{},{symbol:a,title:s,titleId:c,maskId:l}));if(!p)return function(){var e;!js&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",u),null;var m=p.abstract,g={ref:t};return Object.keys(n).forEach((function(e){qs.hasOwnProperty(e)||(g[e]=n[e])})),Hs(m[0],g)}));Fs.displayName="FontAwesomeIcon",Fs.propTypes={beat:We().bool,border:We().bool,beatFade:We().bool,bounce:We().bool,className:We().string,fade:We().bool,flash:We().bool,mask:We().oneOfType([We().object,We().array,We().string]),maskId:We().string,fixedWidth:We().bool,inverse:We().bool,flip:We().oneOf([!0,!1,"horizontal","vertical","both"]),icon:We().oneOfType([We().object,We().array,We().string]),listItem:We().bool,pull:We().oneOf(["right","left"]),pulse:We().bool,rotation:We().oneOf([0,90,180,270]),shake:We().bool,size:We().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:We().bool,spinPulse:We().bool,spinReverse:We().bool,symbol:We().oneOfType([We().bool,We().string]),title:We().string,titleId:We().string,transform:We().oneOfType([We().string,We().object]),swapOpacity:We().bool};var Hs=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var o=(n.children||[]).map((function(n){return e(t,n)})),a=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=function(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),o=Os(t.slice(0,r)),a=t.slice(r+1).trim();return o.startsWith("webkit")?e[(n=o,n.charAt(0).toUpperCase()+n.slice(1))]=a:e[o]=a,e}),{})}(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[Os(t)]=r}return e}),{attrs:{}}),i=r.style,s=void 0===i?{}:i,c=_s(r,Ms);return a.attrs.style=Es(Es({},a.attrs.style),s),t.apply(void 0,[n.tag,Es(Es({},a.attrs),c)].concat(Rs(o)))}.bind(null,t.createElement);const Us={prefix:"fas",iconName:"file-lines",icon:[384,512,[128441,128462,61686,"file-alt","file-text"],"f15c","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-288-128 0c-17.7 0-32-14.3-32-32L224 0 64 0zM256 0l0 128 128 0L256 0zM112 256l160 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-160 0c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64l160 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-160 0c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64l160 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-160 0c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},zs=Us,Bs={prefix:"fas",iconName:"folder",icon:[512,512,[128193,128447,61716,"folder-blank"],"f07b","M64 480H448c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H288c-10.1 0-19.6-4.7-25.6-12.8L243.2 57.6C231.1 41.5 212.1 32 192 32H64C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64z"]},$s={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"]},Ks={prefix:"fas",iconName:"right-to-bracket",icon:[512,512,["sign-in-alt"],"f2f6","M217.9 105.9L340.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L217.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1L32 320c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM352 416l64 0c17.7 0 32-14.3 32-32l0-256c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0c53 0 96 43 96 96l0 256c0 53-43 96-96 96l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},Ws=Ks,Vs={prefix:"fas",iconName:"folder-open",icon:[576,512,[128194,128449,61717],"f07c","M88.7 223.8L0 375.8 0 96C0 60.7 28.7 32 64 32l117.5 0c17 0 33.3 6.7 45.3 18.7l26.5 26.5c12 12 28.3 18.7 45.3 18.7L416 96c35.3 0 64 28.7 64 64l0 32-336 0c-22.8 0-43.8 12.1-55.3 31.8zm27.6 16.1C122.1 230 132.6 224 144 224l400 0c11.5 0 22 6.1 27.7 16.1s5.7 22.2-.1 32.1l-112 192C453.9 474 443.4 480 432 480L32 480c-11.5 0-22-6.1-27.7-16.1s-5.7-22.2 .1-32.1l112-192z"]},Gs={prefix:"fas",iconName:"pause",icon:[320,512,[9208],"f04c","M48 64C21.5 64 0 85.5 0 112L0 400c0 26.5 21.5 48 48 48l32 0c26.5 0 48-21.5 48-48l0-288c0-26.5-21.5-48-48-48L48 64zm192 0c-26.5 0-48 21.5-48 48l0 288c0 26.5 21.5 48 48 48l32 0c26.5 0 48-21.5 48-48l0-288c0-26.5-21.5-48-48-48l-32 0z"]},Qs={prefix:"fas",iconName:"file-word",icon:[384,512,[],"f1c2","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-288-128 0c-17.7 0-32-14.3-32-32L224 0 64 0zM256 0l0 128 128 0L256 0zM111 257.1l26.8 89.2 31.6-90.3c3.4-9.6 12.5-16.1 22.7-16.1s19.3 6.4 22.7 16.1l31.6 90.3L273 257.1c3.8-12.7 17.2-19.9 29.9-16.1s19.9 17.2 16.1 29.9l-48 160c-3 10-12 16.9-22.4 17.1s-19.8-6.2-23.2-16.1L192 336.6l-33.3 95.3c-3.4 9.8-12.8 16.3-23.2 16.1s-19.5-7.1-22.4-17.1l-48-160c-3.8-12.7 3.4-26.1 16.1-29.9s26.1 3.4 29.9 16.1z"]},Ys={prefix:"fas",iconName:"file-excel",icon:[384,512,[],"f1c3","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-288-128 0c-17.7 0-32-14.3-32-32L224 0 64 0zM256 0l0 128 128 0L256 0zM155.7 250.2L192 302.1l36.3-51.9c7.6-10.9 22.6-13.5 33.4-5.9s13.5 22.6 5.9 33.4L221.3 344l46.4 66.2c7.6 10.9 5 25.8-5.9 33.4s-25.8 5-33.4-5.9L192 385.8l-36.3 51.9c-7.6 10.9-22.6 13.5-33.4 5.9s-13.5-22.6-5.9-33.4L162.7 344l-46.4-66.2c-7.6-10.9-5-25.8 5.9-33.4s25.8-5 33.4 5.9z"]},Js={prefix:"fas",iconName:"file-image",icon:[384,512,[128443],"f1c5","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-288-128 0c-17.7 0-32-14.3-32-32L224 0 64 0zM256 0l0 128 128 0L256 0zM64 256a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm152 32c5.3 0 10.2 2.6 13.2 6.9l88 128c3.4 4.9 3.7 11.3 1 16.5s-8.2 8.6-14.2 8.6l-88 0-40 0-48 0-48 0c-5.8 0-11.1-3.1-13.9-8.1s-2.8-11.2 .2-16.1l48-80c2.9-4.8 8.1-7.8 13.7-7.8s10.8 2.9 13.7 7.8l12.8 21.4 48.3-70.2c3-4.3 7.9-6.9 13.2-6.9z"]},Xs={prefix:"fas",iconName:"pen",icon:[512,512,[128394],"f304","M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"]},Zs={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"]},ec={prefix:"fas",iconName:"file-pdf",icon:[512,512,[],"f1c1","M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 144-208 0c-35.3 0-64 28.7-64 64l0 144-48 0c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128zM176 352l32 0c30.9 0 56 25.1 56 56s-25.1 56-56 56l-16 0 0 32c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-48 0-80c0-8.8 7.2-16 16-16zm32 80c13.3 0 24-10.7 24-24s-10.7-24-24-24l-16 0 0 48 16 0zm96-80l32 0c26.5 0 48 21.5 48 48l0 64c0 26.5-21.5 48-48 48l-32 0c-8.8 0-16-7.2-16-16l0-128c0-8.8 7.2-16 16-16zm32 128c8.8 0 16-7.2 16-16l0-64c0-8.8-7.2-16-16-16l-16 0 0 96 16 0zm80-112c0-8.8 7.2-16 16-16l48 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-32 0 0 32 32 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-32 0 0 48c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-64 0-64z"]},tc={prefix:"fas",iconName:"ellipsis",icon:[448,512,["ellipsis-h"],"f141","M8 256a56 56 0 1 1 112 0A56 56 0 1 1 8 256zm160 0a56 56 0 1 1 112 0 56 56 0 1 1 -112 0zm216-56a56 56 0 1 1 0 112 56 56 0 1 1 0-112z"]},nc=tc,rc={prefix:"fas",iconName:"file",icon:[384,512,[128196,128459,61462],"f15b","M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 288c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128z"]},oc={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"]},ac={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},ic={prefix:"fas",iconName:"file-circle-plus",icon:[576,512,[58606],"e494","M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 38.6C310.1 219.5 256 287.4 256 368c0 59.1 29.1 111.3 73.7 143.3c-3.2 .5-6.4 .7-9.7 .7L64 512c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128zm48 96a144 144 0 1 1 0 288 144 144 0 1 1 0-288zm16 80c0-8.8-7.2-16-16-16s-16 7.2-16 16l0 48-48 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l48 0 0 48c0 8.8 7.2 16 16 16s16-7.2 16-16l0-48 48 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-48 0 0-48z"]},sc={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]};var cc=Function.prototype.bind.call(Function.prototype.call,[].slice);function lc(e,t){return cc(e.querySelectorAll(t))}function uc(e,n,r){const o=(0,t.useRef)(void 0!==e),[a,i]=(0,t.useState)(n),s=void 0!==e,c=o.current;return o.current=s,!s&&c&&a!==n&&i(n),[s?e:a,(0,t.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[o,...a]=t;let s=null==r?void 0:r(o,...a);return i(o),s}),[r])]}function dc(e){const n=(0,t.useRef)(null);return(0,t.useEffect)((()=>{n.current=e})),n.current}function hc(){const[,e]=(0,t.useReducer)((e=>!e),!1);return e}const fc=t.createContext(null),pc=["children","usePopper"];const mc=()=>{};function gc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=(0,t.useContext)(fc),[r,o]=bt(),a=(0,t.useRef)(!1),{flip:i,offset:s,rootCloseEvent:c,fixed:l=!1,placement:u,popperConfig:d={},enableEventListeners:h=!0,usePopper:f=!!n}=e,p=null==(null==n?void 0:n.show)?!!e.show:n.show;p&&!a.current&&(a.current=!0);const{placement:m,setMenu:g,menuElement:y,toggleElement:v}=n||{},b=Kn(v,y,mr({placement:u||m||"bottom-start",enabled:f,enableEvents:null==h?p:h,offset:s,flip:i,fixed:l,arrowElement:r,popperConfig:d})),w=Object.assign({ref:g||mc,"aria-labelledby":null==v?void 0:v.id},b.attributes.popper,{style:b.styles.popper}),C={show:p,placement:m,hasShown:a.current,toggle:null==n?void 0:n.toggle,popper:f?b:null,arrowProps:f?Object.assign({ref:o},b.attributes.arrow,{style:b.styles.arrow}):{}};return ar(y,(e=>{null==n||n.toggle(!1,e)}),{clickTrigger:c,disabled:!p}),[w,C]}function yc(e){let{children:t,usePopper:n=!0}=e,r=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,pc);const[o,a]=gc(Object.assign({},r,{usePopper:n}));return(0,U.jsx)(U.Fragment,{children:t(o,a)})}yc.displayName="DropdownMenu";const vc=yc,bc={prefix:String(Math.round(1e10*Math.random())),current:0},wc=t.createContext(bc),Cc=t.createContext(!1);let kc=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement),Sc=new WeakMap;function xc(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=(0,t.useContext)(wc),r=(0,t.useRef)(null);if(null===r.current&&!e){var o,a;let e=null===(a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)||void 0===a||null===(o=a.ReactCurrentOwner)||void 0===o?void 0:o.current;if(e){let t=Sc.get(e);null==t?Sc.set(e,{id:n.current,state:e.memoizedState}):e.memoizedState!==t.state&&(n.current=t.id,Sc.delete(e))}r.current=++n.current}return r.current}const Tc="function"===typeof t.useId?function(e){let n=t.useId(),[r]=(0,t.useState)("function"===typeof t.useSyncExternalStore?t.useSyncExternalStore(Ac,Ic,Ec):(0,t.useContext)(Cc));return e||`${r?"react-aria":`react-aria${bc.prefix}`}-${n}`}:function(e){let n=(0,t.useContext)(wc);n!==bc||kc||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let r=xc(!!e),o=`react-aria${n.prefix}`;return e||`${o}-${r}`};function Ic(){return!1}function Ec(){return!0}function Ac(e){return()=>{}}const Nc=e=>{var t;return"menu"===(null==(t=e.getAttribute("role"))?void 0:t.toLowerCase())},_c=()=>{};function Rc(){const e=Tc(),{show:n=!1,toggle:r=_c,setToggle:o,menuElement:a}=(0,t.useContext)(fc)||{},i=(0,t.useCallback)((e=>{r(!n,e)}),[n,r]),s={id:e,ref:o||_c,onClick:i,"aria-expanded":!!n};return a&&Nc(a)&&(s["aria-haspopup"]=!0),[s,{show:n,toggle:r}]}function Pc(e){let{children:t}=e;const[n,r]=Rc();return(0,U.jsx)(U.Fragment,{children:t(n,r)})}Pc.displayName="DropdownToggle";const Oc=Pc,Mc=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},jc=t.createContext(null),Lc=t.createContext(null);Lc.displayName="NavContext";const Dc=Lc;function qc(e){return`data-rr-ui-${e}`}const Fc=["eventKey","disabled","onClick","active","as"];function Hc(e){let{key:n,href:r,active:o,disabled:a,onClick:i}=e;const s=(0,t.useContext)(jc),c=(0,t.useContext)(Dc),{activeKey:l}=c||{},u=Mc(n,r),d=null==o&&null!=n?Mc(l)===u:o;return[{onClick:tr((e=>{a||(null==i||i(e),s&&!e.isPropagationStopped()&&s(u,e))})),"aria-disabled":a||void 0,"aria-selected":d,[qc("dropdown-item")]:""},{isActive:d}]}const Uc=t.forwardRef(((e,t)=>{let{eventKey:n,disabled:r,onClick:o,active:a,as:i=Re}=e,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Fc);const[c]=Hc({key:n,href:s.href,disabled:r,onClick:o,active:a});return(0,U.jsx)(i,Object.assign({},s,{ref:t},c))}));Uc.displayName="DropdownItem";const zc=Uc;function Bc(){const e=hc(),n=(0,t.useRef)(null),r=(0,t.useCallback)((t=>{n.current=t,e()}),[e]);return[n,r]}function $c(e){let{defaultShow:n,show:r,onSelect:o,onToggle:a,itemSelector:i=`* [${qc("dropdown-item")}]`,focusFirstItemOnShow:s,placement:c="bottom-start",children:l}=e;const u=dr(),[d,h]=uc(r,n,a),[f,p]=Bc(),m=f.current,[g,y]=Bc(),v=g.current,b=dc(d),w=(0,t.useRef)(null),C=(0,t.useRef)(!1),k=(0,t.useContext)(jc),S=(0,t.useCallback)((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?void 0:t.type;h(e,{originalEvent:t,source:n})}),[h]),x=tr(((e,t)=>{null==o||o(e,t),S(!1,t,"select"),t.isPropagationStopped()||null==k||k(e,t)})),T=(0,t.useMemo)((()=>({toggle:S,placement:c,show:d,menuElement:m,toggleElement:v,setMenu:p,setToggle:y})),[S,c,d,m,v,p,y]);m&&b&&!d&&(C.current=m.contains(m.ownerDocument.activeElement));const I=tr((()=>{v&&v.focus&&v.focus()})),E=tr((()=>{const e=w.current;let t=s;if(null==t&&(t=!(!f.current||!Nc(f.current))&&"keyboard"),!1===t||"keyboard"===t&&!/^key.+$/.test(e))return;const n=lc(f.current,i)[0];n&&n.focus&&n.focus()}));(0,t.useEffect)((()=>{d?E():C.current&&(C.current=!1,I())}),[d,C,I,E]),(0,t.useEffect)((()=>{w.current=null}));const A=(e,t)=>{if(!f.current)return null;const n=lc(f.current,i);let r=n.indexOf(e)+t;return r=Math.max(0,Math.min(r,n.length)),n[r]};return function(e,n,r){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=tr(r);(0,t.useEffect)((()=>{const t="function"===typeof e?e():e;return t.addEventListener(n,a,o),()=>t.removeEventListener(n,a,o)}),[e])}((0,t.useCallback)((()=>u.document),[u]),"keydown",(e=>{var t,n;const{key:r}=e,o=e.target,a=null==(t=f.current)?void 0:t.contains(o),i=null==(n=g.current)?void 0:n.contains(o);if(/input|textarea/i.test(o.tagName)&&(" "===r||"Escape"!==r&&a||"Escape"===r&&"search"===o.type))return;if(!a&&!i)return;if("Tab"===r&&(!f.current||!d))return;w.current=e.type;const s={originalEvent:e,source:e.type};switch(r){case"ArrowUp":{const t=A(o,-1);return t&&t.focus&&t.focus(),void e.preventDefault()}case"ArrowDown":if(e.preventDefault(),d){const e=A(o,1);e&&e.focus&&e.focus()}else h(!0,s);return;case"Tab":Yn(o.ownerDocument,"keyup",(e=>{var t;("Tab"!==e.key||e.target)&&null!=(t=f.current)&&t.contains(e.target)||h(!1,s)}),{once:!0});break;case"Escape":"Escape"===r&&(e.preventDefault(),e.stopPropagation()),h(!1,s)}})),(0,U.jsx)(jc.Provider,{value:x,children:(0,U.jsx)(fc.Provider,{value:T,children:l})})}$c.displayName="Dropdown",$c.Menu=vc,$c.Toggle=Oc,$c.Item=zc;const Kc=$c,Wc=t.createContext({});Wc.displayName="DropdownContext";const Vc=Wc,Gc=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o="hr",role:a="separator",...i}=e;return r=V(r,"dropdown-divider"),(0,U.jsx)(o,{ref:t,className:H()(n,r),role:a,...i})}));Gc.displayName="DropdownDivider";const Qc=Gc,Yc=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o="div",role:a="heading",...i}=e;return r=V(r,"dropdown-header"),(0,U.jsx)(o,{ref:t,className:H()(n,r),role:a,...i})}));Yc.displayName="DropdownHeader";const Jc=Yc;new WeakMap;const Xc=["onKeyDown"];const Zc=t.forwardRef(((e,t)=>{let{onKeyDown:n}=e,r=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Xc);const[o]=Ne(Object.assign({tagName:"a"},r)),a=tr((e=>{o.onKeyDown(e),null==n||n(e)}));return(i=r.href)&&"#"!==i.trim()&&"button"!==r.role?(0,U.jsx)("a",Object.assign({ref:t},r,{onKeyDown:n})):(0,U.jsx)("a",Object.assign({ref:t},r,o,{onKeyDown:a}));var i}));Zc.displayName="Anchor";const el=Zc,tl=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,eventKey:o,disabled:a=!1,onClick:i,active:s,as:c=el,...l}=e;const u=V(n,"dropdown-item"),[d,h]=Hc({key:o,href:l.href,disabled:a,onClick:i,active:s});return(0,U.jsx)(c,{...l,...d,ref:t,className:H()(r,u,h.isActive&&"active",a&&"disabled")})}));tl.displayName="DropdownItem";const nl=tl,rl=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o="span",...a}=e;return r=V(r,"dropdown-item-text"),(0,U.jsx)(o,{ref:t,className:H()(n,r),...a})}));rl.displayName="DropdownItemText";const ol=rl,al=t.createContext(null);al.displayName="NavbarContext";const il=al;function sl(e,t){return e}function cl(e,t,n){let r=e?n?"bottom-start":"bottom-end":n?"bottom-end":"bottom-start";return"up"===t?r=e?n?"top-start":"top-end":n?"top-end":"top-start":"end"===t?r=e?n?"left-end":"right-end":n?"left-start":"right-start":"start"===t?r=e?n?"right-end":"left-end":n?"right-start":"left-start":"down-centered"===t?r="bottom":"up-centered"===t&&(r="top"),r}const ll=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:o,align:a,rootCloseEvent:i,flip:s=!0,show:c,renderOnMount:l,as:u="div",popperConfig:d,variant:h,...f}=e,p=!1;const m=(0,t.useContext)(il),g=V(r,"dropdown-menu"),{align:y,drop:v,isRTL:b}=(0,t.useContext)(Vc);a=a||y;const w=(0,t.useContext)(qe),C=[];if(a)if("object"===typeof a){const e=Object.keys(a);if(e.length){const t=e[0],n=a[t];p="start"===n,C.push(`${g}-${t}-${n}`)}}else"end"===a&&(p=!0);const k=cl(p,v,b),[S,{hasShown:x,popper:T,show:I,toggle:E}]=gc({flip:s,rootCloseEvent:i,show:c,usePopper:!m&&0===C.length,offset:[0,2],popperConfig:d,placement:k});if(S.ref=vt(sl(n),S.ref),yr((()=>{I&&(null==T||T.update())}),[I]),!x&&!l&&!w)return null;"string"!==typeof u&&(S.show=I,S.close=()=>null==E?void 0:E(!1),S.align=a);let A=f.style;return null!=T&&T.placement&&(A={...f.style,...S.style},f["x-placement"]=T.placement),(0,U.jsx)(u,{...f,...S,style:A,...(C.length||m)&&{"data-bs-popper":"static"},className:H()(o,g,I&&"show",p&&`${g}-end`,h&&`${g}-${h}`,...C)})}));ll.displayName="DropdownMenu";const ul=ll,dl=t.forwardRef(((e,n)=>{let{bsPrefix:r,split:o,className:a,childBsPrefix:i,as:s=Oe,...c}=e;const l=V(r,"dropdown-toggle"),u=(0,t.useContext)(fc);void 0!==i&&(c.bsPrefix=i);const[d]=Rc();return d.ref=vt(d.ref,sl(n)),(0,U.jsx)(s,{className:H()(a,l,o&&`${l}-split`,(null==u?void 0:u.show)&&"show"),...d,...c})}));dl.displayName="DropdownToggle";const hl=dl,fl=t.forwardRef(((e,n)=>{const{bsPrefix:r,drop:o="down",show:a,className:i,align:s="start",onSelect:c,onToggle:l,focusFirstItemOnShow:u,as:d="div",navbar:h,autoClose:f=!0,...p}=ft(e,{show:"onToggle"}),m=(0,t.useContext)(qe),g=V(r,"dropdown"),y=Y(),v=tr(((e,t)=>{var n;var r;(null==(n=t.originalEvent)||null==(n=n.target)?void 0:n.classList.contains("dropdown-toggle"))&&"mousedown"===t.source||(t.originalEvent.currentTarget!==document||"keydown"===t.source&&"Escape"!==t.originalEvent.key||(t.source="rootClose"),r=t.source,(!1===f?"click"===r:"inside"===f?"rootClose"!==r:"outside"!==f||"select"!==r)&&(null==l||l(e,t)))})),b=cl("end"===s,o,y),w=(0,t.useMemo)((()=>({align:s,drop:o,isRTL:y})),[s,o,y]),C={down:g,"down-centered":`${g}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return(0,U.jsx)(Vc.Provider,{value:w,children:(0,U.jsx)(Kc,{placement:b,show:a,onSelect:c,onToggle:v,focusFirstItemOnShow:u,itemSelector:`.${g}-item:not(.disabled):not(:disabled)`,children:m?p.children:(0,U.jsx)(d,{...p,ref:n,className:H()(i,a&&"show",C[o])})})})}));fl.displayName="Dropdown";const pl=Object.assign(fl,{Toggle:hl,Menu:ul,Item:nl,ItemText:ol,Divider:Qc,Header:Jc}),ml=t.createContext(null),gl=["as","active","eventKey"];function yl(e){let{key:n,onClick:r,active:o,id:a,role:i,disabled:s}=e;const c=(0,t.useContext)(jc),l=(0,t.useContext)(Dc),u=(0,t.useContext)(ml);let d=o;const h={role:i};if(l){i||"tablist"!==l.role||(h.role="tab");const e=l.getControllerId(null!=n?n:null),t=l.getControlledId(null!=n?n:null);h[qc("event-key")]=n,h.id=e||a,d=null==o&&null!=n?l.activeKey===n:o,!d&&(null!=u&&u.unmountOnExit||null!=u&&u.mountOnEnter)||(h["aria-controls"]=t)}return"tab"===h.role&&(h["aria-selected"]=d,d||(h.tabIndex=-1),s&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=tr((e=>{s||(null==r||r(e),null!=n&&c&&!e.isPropagationStopped()&&c(n,e))})),[h,{isActive:d}]}const vl=t.forwardRef(((e,t)=>{let{as:n=Re,active:r,eventKey:o}=e,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,gl);const[i,s]=yl(Object.assign({key:Mc(o,a.href),active:r},a));return i[qc("active")]=s.isActive,(0,U.jsx)(n,Object.assign({},a,i,{ref:t}))}));vl.displayName="NavItem";const bl=vl,wl=["as","onSelect","activeKey","role","onKeyDown"];const Cl=()=>{},kl=qc("event-key"),Sl=t.forwardRef(((e,n)=>{let{as:r="div",onSelect:o,activeKey:a,role:i,onKeyDown:s}=e,c=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,wl);const l=hc(),u=(0,t.useRef)(!1),d=(0,t.useContext)(jc),h=(0,t.useContext)(ml);let f,p;h&&(i=i||"tablist",a=h.activeKey,f=h.getControlledId,p=h.getControllerId);const m=(0,t.useRef)(null),g=e=>{const t=m.current;if(!t)return null;const n=lc(t,`[${kl}]:not([aria-disabled=true])`),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;const o=n.indexOf(r);if(-1===o)return null;let a=o+e;return a>=n.length&&(a=0),a<0&&(a=n.length-1),n[a]},y=(e,t)=>{null!=e&&(null==o||o(e,t),null==d||d(e,t))};(0,t.useEffect)((()=>{if(m.current&&u.current){const e=m.current.querySelector(`[${kl}][aria-selected=true]`);null==e||e.focus()}u.current=!1}));const v=vt(n,m);return(0,U.jsx)(jc.Provider,{value:y,children:(0,U.jsx)(Dc.Provider,{value:{role:i,activeKey:Mc(a),getControlledId:f||Cl,getControllerId:p||Cl},children:(0,U.jsx)(r,Object.assign({},c,{onKeyDown:e=>{if(null==s||s(e),!h)return;let t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=g(-1);break;case"ArrowRight":case"ArrowDown":t=g(1);break;default:return}var n;t&&(e.preventDefault(),y(t.dataset[(n="EventKey",`rrUi${n}`)]||null,e),u.current=!0,l())},ref:v,role:i}))})})}));Sl.displayName="Nav";const xl=Object.assign(Sl,{Item:bl}),Tl=t.forwardRef(((e,t)=>{let{bsPrefix:n,active:r,disabled:o,eventKey:a,className:i,variant:s,action:c,as:l,...u}=e;n=V(n,"list-group-item");const[d,h]=yl({key:Mc(a,u.href),active:r,...u}),f=tr((e=>{if(o)return e.preventDefault(),void e.stopPropagation();d.onClick(e)}));o&&void 0===u.tabIndex&&(u.tabIndex=-1,u["aria-disabled"]=!0);const p=l||(c?u.href?"a":"button":"div");return(0,U.jsx)(p,{ref:t,...u,...d,onClick:f,className:H()(i,n,h.isActive&&"active",o&&"disabled",s&&`${n}-${s}`,c&&`${n}-action`)})}));Tl.displayName="ListGroupItem";const Il=Tl,El=t.forwardRef(((e,t)=>{const{className:n,bsPrefix:r,variant:o,horizontal:a,numbered:i,as:s="div",...c}=ft(e,{activeKey:"onSelect"}),l=V(r,"list-group");let u;return a&&(u=!0===a?"horizontal":`horizontal-${a}`),(0,U.jsx)(xl,{ref:t,...c,as:s,className:H()(n,l,o&&`${l}-${o}`,u&&`${l}-${u}`,i&&`${l}-numbered`)})}));El.displayName="ListGroup";const Al=Object.assign(El,{Item:Il}),Nl=t.forwardRef(((e,t)=>{let{bsPrefix:n,active:r=!1,children:o,className:a,as:i="li",linkAs:s=el,linkProps:c={},href:l,title:u,target:d,...h}=e;const f=V(n,"breadcrumb-item");return(0,U.jsx)(i,{ref:t,...h,className:H()(f,a,{active:r}),"aria-current":r?"page":void 0,children:r?o:(0,U.jsx)(s,{...c,href:l,title:u,target:d,children:o})})}));Nl.displayName="BreadcrumbItem";const _l=Nl,Rl=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,listProps:o={},children:a,label:i="breadcrumb",as:s="nav",...c}=e;const l=V(n,"breadcrumb");return(0,U.jsx)(s,{"aria-label":i,className:r,ref:t,...c,children:(0,U.jsx)("ol",{...o,className:H()(l,null==o?void 0:o.className),children:a})})}));Rl.displayName="Breadcrumb";const Pl=Object.assign(Rl,{Item:_l}),Ol=e=>{let{accessToken:n,oneDriveFolder:r,changeFolder:o,setShowFolderModal:a}=e;const[i,s]=(0,t.useState)([]),[c,l]=(0,t.useState)({}),[u,d]=(0,t.useState)([r]),[h,f]=(0,t.useState)(null);(0,t.useEffect)((()=>{p(u.join("/"))}),[u]);const p=async e=>{if(n)try{const t=await fetch(`https://graph.microsoft.com/v1.0/me/drive/root:/${e}:/children`,{method:"GET",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(t.ok){const e=await t.json();s(e.value)}else console.error("Failed to fetch folder contents")}catch(t){console.error("Error fetching folder contents:",t)}},m=async()=>{const e=prompt("Enter folder name:");if(e)try{(await fetch(`https://graph.microsoft.com/v1.0/me/drive/root:/${u.join("/")}/${e}:/`,{method:"PUT",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({name:e,folder:{}})})).ok?p(u.join("/")):console.error("Failed to create the folder")}catch(t){console.error("Error creating the folder:",t)}};return(0,U.jsxs)("div",{children:[(0,U.jsxs)("div",{className:"row align-items-center mb-3",children:[(0,U.jsx)("div",{className:"col-auto",children:(0,U.jsx)(Oe,{variant:"outline-primary",className:"rounded-pill",onClick:async()=>{a(!0)},children:"Change Home Folder"})}),(0,U.jsx)("div",{className:"col-auto ms-auto",children:(0,U.jsxs)(pl,{children:[(0,U.jsxs)(pl.Toggle,{variant:"success",className:"rounded-pill",id:"dropdown-add-new",style:{boxShadow:"none"},children:[(0,U.jsx)(Fs,{icon:oc,className:"me-2"})," Add New"]}),(0,U.jsxs)(pl.Menu,{children:[(0,U.jsx)(pl.Item,{onClick:m,children:"Create Folder"}),(0,U.jsx)(pl.Item,{onClick:()=>document.getElementById("file-upload-input").click(),children:"Upload File"})]})]})})]}),(0,U.jsxs)("div",{className:"row align-items-center mb-3",children:[(0,U.jsx)("div",{className:"col-auto",children:(0,U.jsx)("h5",{className:"m-0",children:"Current Path:"})}),(0,U.jsx)("div",{className:"col",children:(0,U.jsx)(Pl,{className:"m-0 h5",children:u.map(((e,t)=>(0,U.jsx)(Pl.Item,{onClick:()=>d(u.slice(0,t+1)),active:t===u.length-1,children:e},t)))})})]}),(0,U.jsx)("input",{id:"file-upload-input",type:"file",style:{display:"none"},onChange:e=>(async()=>{if(h){try{(await fetch(`https://graph.microsoft.com/v1.0/me/drive/root:/${u.join("/")}/${h.name}:/content`,{method:"PUT",headers:{Authorization:`Bearer ${n}`},body:h})).ok?p(u.join("/")):console.error("Failed to upload the file")}catch(e){console.error("Error uploading the file:",e)}f(null)}})(e.target.files[0])}),(g=i,(0,U.jsx)("div",{className:"scrollable-tree",children:(0,U.jsx)(Al,{children:g.map((e=>{const t=void 0!==e.folder,r=(c[e.id],(0,U.jsx)(Fs,{icon:Bs,style:{color:"#ffc107",filter:"drop-shadow(2px 2px 5px rgba(0, 0, 0, 0.3))"}})),o=e.file?(e=>{switch(e.split(".").pop().toLowerCase()){case"pdf":return(0,U.jsx)(Fs,{icon:ec,style:{color:"#dc3545"}});case"docx":return(0,U.jsx)(Fs,{icon:Qs,style:{color:"#007bff"}});case"xlsx":return(0,U.jsx)(Fs,{icon:Ys,style:{color:"#28a745"}});case"jpg":case"jpeg":case"png":case"gif":return(0,U.jsx)(Fs,{icon:Js});case"txt":case"md":return(0,U.jsx)(Fs,{icon:zs,style:{color:"#6c757d"}});default:return(0,U.jsx)(Fs,{icon:rc})}})(e.name):r;return(0,U.jsxs)(Al.Item,{className:"d-flex justify-content-between align-items-center cursor-pointer",children:[(0,U.jsxs)("div",{className:"d-flex align-items-center cursor-pointer",onClick:()=>t&&(e=>{l((t=>({...t,[e.id]:!t[e.id]}))),c[e.id]||(d((t=>[...t,e.name])),p(`${u.join("/")}/${e.name}`))})(e),children:[o," ",(0,U.jsx)("span",{className:"ms-2",children:e.name})]}),(0,U.jsxs)(pl,{align:"end",children:[(0,U.jsx)(pl.Toggle,{variant:"link",className:"text-dark p-0",id:`dropdown-${e.id}`,style:{boxShadow:"none"},children:(0,U.jsx)(Fs,{icon:nc})}),(0,U.jsxs)(pl.Menu,{children:[(0,U.jsx)(pl.Item,{onClick:()=>(async e=>{const t=prompt("Enter new name:",e.name);if(t)try{(await fetch(`https://graph.microsoft.com/v1.0/me/drive/items/${e.id}`,{method:"PATCH",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({name:t})})).ok?p(u.join("/")):console.error("Failed to rename the item")}catch(r){console.error("Error renaming the item:",r)}})(e),children:"Rename"}),(0,U.jsx)(pl.Item,{onClick:()=>(async e=>{if(window.confirm(`Are you sure you want to delete ${e.name}?`))try{(await fetch(`https://graph.microsoft.com/v1.0/me/drive/items/${e.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${n}`}})).ok?p(u.join("/")):console.error("Failed to delete the item")}catch(t){console.error("Error deleting the item:",t)}})(e),children:"Delete"}),!e.folder&&(0,U.jsx)(pl.Item,{onClick:()=>(async e=>{const t=`https://graph.microsoft.com/v1.0/me/drive/items/${e.id}/content`;try{const r=await fetch(t,{method:"GET",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(r.ok){const t=await r.blob(),n=window.URL.createObjectURL(t),o=document.createElement("a");o.href=n,o.download=e.name,document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(n)}else console.error("Failed to download the file:",await r.json())}catch(r){console.error("Error downloading the file:",r)}})(e),children:"Download"})]})]})]},e.id)}))})}))]});var g},Ml="http://localhost/";var jl;function Ll(e){if((!jl&&0!==jl||e)&&Wn){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),jl=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return jl}function Dl(e){void 0===e&&(e=Zn());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(YC){return e.body}}const ql=qc("modal-open");const Fl=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[n]:r.style[n]},e.scrollBarWidth&&(t[n]=`${parseInt(eo(r,n)||"0",10)+e.scrollBarWidth}px`),r.setAttribute(ql,""),eo(r,t)}reset(){[...this.modals].forEach((e=>this.remove(e)))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(ql),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},Hl=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let Ul;function zl(e){const n=dr(),r=e||function(e){return Ul||(Ul=new Fl({ownerDocument:null==e?void 0:e.document})),Ul}(n),o=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(o.current,{add:()=>r.add(o.current),remove:()=>r.remove(o.current),isTopModal:()=>r.isTopModal(o.current),setDialogRef:(0,t.useCallback)((e=>{o.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((e=>{o.current.backdrop=e}),[])})}const Bl=(0,t.forwardRef)(((e,n)=>{let{show:r=!1,role:a="dialog",className:i,style:s,children:c,backdrop:l=!0,keyboard:u=!0,onBackdropClick:d,onEscapeKeyDown:h,transition:f,runTransition:p,backdropTransition:m,runBackdropTransition:g,autoFocus:y=!0,enforceFocus:v=!0,restoreFocus:b=!0,restoreFocusOptions:w,renderDialog:C,renderBackdrop:k=e=>(0,U.jsx)("div",Object.assign({},e)),manager:S,container:x,onShow:T,onHide:I=()=>{},onExit:E,onExited:A,onExiting:N,onEnter:_,onEntering:R,onEntered:P}=e,O=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Hl);const M=dr(),j=fr(x),L=zl(S),D=rt(),q=dc(r),[F,H]=(0,t.useState)(!r),z=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(()=>L),[L]),Wn&&!q&&r&&(z.current=Dl(null==M?void 0:M.document)),r&&F&&H(!1);const B=tr((()=>{if(L.add(),Q.current=Xn(document,"keydown",V),G.current=Xn(document,"focus",(()=>setTimeout(K)),!0),T&&T(),y){var e,t;const n=Dl(null!=(e=null==(t=L.dialog)?void 0:t.ownerDocument)?e:null==M?void 0:M.document);L.dialog&&n&&!nt(L.dialog,n)&&(z.current=n,L.dialog.focus())}})),$=tr((()=>{var e;(L.remove(),null==Q.current||Q.current(),null==G.current||G.current(),b)&&(null==(e=z.current)||null==e.focus||e.focus(w),z.current=null)}));(0,t.useEffect)((()=>{r&&j&&B()}),[r,j,B]),(0,t.useEffect)((()=>{F&&$()}),[F,$]),ot((()=>{$()}));const K=tr((()=>{if(!v||!D()||!L.isTopModal())return;const e=Dl(null==M?void 0:M.document);L.dialog&&e&&!nt(L.dialog,e)&&L.dialog.focus()})),W=tr((e=>{e.target===e.currentTarget&&(null==d||d(e),!0===l&&I())})),V=tr((e=>{u&&ir(e)&&L.isTopModal()&&(null==h||h(e),e.defaultPrevented||I())})),G=(0,t.useRef)(),Q=(0,t.useRef)();if(!j)return null;const Y=Object.assign({role:a,ref:L.setDialogRef,"aria-modal":"dialog"===a||void 0},O,{style:s,className:i,tabIndex:-1});let J=C?C(Y):(0,U.jsx)("div",Object.assign({},Y,{children:t.cloneElement(c,{role:"document"})}));J=xr(f,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!r,onExit:E,onExiting:N,onExited:function(){H(!0),null==A||A(...arguments)},onEnter:_,onEntering:R,onEntered:P,children:J});let X=null;return l&&(X=k({ref:L.setBackdropRef,onClick:W}),X=xr(m,g,{in:!!r,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:X})),(0,U.jsx)(U.Fragment,{children:o.createPortal((0,U.jsxs)(U.Fragment,{children:[X,J]}),j)})}));Bl.displayName="Modal";const $l=Object.assign(Bl,{Manager:Fl});function Kl(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const Wl=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Vl=".sticky-top",Gl=".navbar-toggler";class Ql extends Fl{adjustAndStore(e,t,n){const r=t.style[e];t.dataset[e]=r,eo(t,{[e]:`${parseFloat(eo(t,e))+n}px`})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],eo(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();var n,r;if(r="modal-open",(n=t).classList?n.classList.add(r):Er(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)),!e.scrollBarWidth)return;const o=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";lc(t,Wl).forEach((t=>this.adjustAndStore(o,t,e.scrollBarWidth))),lc(t,Vl).forEach((t=>this.adjustAndStore(a,t,-e.scrollBarWidth))),lc(t,Gl).forEach((t=>this.adjustAndStore(a,t,e.scrollBarWidth)))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();var n,r;r="modal-open",(n=t).classList?n.classList.remove(r):"string"===typeof n.className?n.className=Kl(n.className,r):n.setAttribute("class",Kl(n.className&&n.className.baseVal||"",r));const o=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";lc(t,Wl).forEach((e=>this.restore(o,e))),lc(t,Vl).forEach((e=>this.restore(a,e))),lc(t,Gl).forEach((e=>this.restore(a,e)))}}let Yl;function Jl(e){return Yl||(Yl=new Ql(e)),Yl}const Xl=Ql,Zl=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o="div",...a}=e;return r=V(r,"modal-body"),(0,U.jsx)(o,{ref:t,className:H()(n,r),...a})}));Zl.displayName="ModalBody";const eu=Zl,tu=t.createContext({onHide(){}}),nu=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,contentClassName:o,centered:a,size:i,fullscreen:s,children:c,scrollable:l,...u}=e;n=V(n,"modal");const d=`${n}-dialog`,h="string"===typeof s?`${n}-fullscreen-${s}`:`${n}-fullscreen`;return(0,U.jsx)("div",{...u,ref:t,className:H()(d,r,i&&`${n}-${i}`,a&&`${d}-centered`,l&&`${d}-scrollable`,s&&h),children:(0,U.jsx)("div",{className:H()(`${n}-content`,o),children:c})})}));nu.displayName="ModalDialog";const ru=nu,ou=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o="div",...a}=e;return r=V(r,"modal-footer"),(0,U.jsx)(o,{ref:t,className:H()(n,r),...a})}));ou.displayName="ModalFooter";const au=ou,iu={"aria-label":We().string,onClick:We().func,variant:We().oneOf(["white"])},su=t.forwardRef(((e,t)=>{let{className:n,variant:r,"aria-label":o="Close",...a}=e;return(0,U.jsx)("button",{ref:t,type:"button",className:H()("btn-close",r&&`btn-close-${r}`,n),"aria-label":o,...a})}));su.displayName="CloseButton",su.propTypes=iu;const cu=su,lu=t.forwardRef(((e,n)=>{let{closeLabel:r="Close",closeVariant:o,closeButton:a=!1,onHide:i,children:s,...c}=e;const l=(0,t.useContext)(tu),u=tr((()=>{null==l||l.onHide(),null==i||i()}));return(0,U.jsxs)("div",{ref:n,...c,children:[s,a&&(0,U.jsx)(cu,{"aria-label":r,variant:o,onClick:u})]})})),uu=lu,du=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,closeLabel:o="Close",closeButton:a=!1,...i}=e;return n=V(n,"modal-header"),(0,U.jsx)(uu,{ref:t,...i,className:H()(r,n),closeLabel:o,closeButton:a})}));du.displayName="ModalHeader";const hu=du,fu=ye("h4"),pu=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o=fu,...a}=e;return r=V(r,"modal-title"),(0,U.jsx)(o,{ref:t,className:H()(n,r),...a})}));pu.displayName="ModalTitle";const mu=pu;function gu(e){return(0,U.jsx)(ho,{...e,timeout:null})}function yu(e){return(0,U.jsx)(ho,{...e,timeout:null})}const vu=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:o,style:a,dialogClassName:i,contentClassName:s,children:c,dialogAs:l=ru,"data-bs-theme":u,"aria-labelledby":d,"aria-describedby":h,"aria-label":f,show:p=!1,animation:m=!0,backdrop:g=!0,keyboard:y=!0,onEscapeKeyDown:v,onShow:b,onHide:w,container:C,autoFocus:k=!0,enforceFocus:S=!0,restoreFocus:x=!0,restoreFocusOptions:T,onEntered:I,onExit:E,onExiting:A,onEnter:N,onEntering:_,onExited:R,backdropClassName:P,manager:O,...M}=e;const[j,L]=(0,t.useState)({}),[D,q]=(0,t.useState)(!1),F=(0,t.useRef)(!1),z=(0,t.useRef)(!1),B=(0,t.useRef)(null),[$,K]=bt(),W=vt(n,K),G=tr(w),Q=Y();r=V(r,"modal");const J=(0,t.useMemo)((()=>({onHide:G})),[G]);function X(){return O||Jl({isRTL:Q})}function Z(e){if(!Wn)return;const t=X().getScrollbarWidth()>0,n=e.scrollHeight>Zn(e).documentElement.clientHeight;L({paddingRight:t&&!n?Ll():void 0,paddingLeft:!t&&n?Ll():void 0})}const ee=tr((()=>{$&&Z($.dialog)}));ot((()=>{Jn(window,"resize",ee),null==B.current||B.current()}));const te=()=>{F.current=!0},ne=e=>{F.current&&$&&e.target===$.dialog&&(z.current=!0),F.current=!1},re=()=>{q(!0),B.current=no($.dialog,(()=>{q(!1)}))},oe=e=>{"static"!==g?z.current||e.target!==e.currentTarget?z.current=!1:null==w||w():(e=>{e.target===e.currentTarget&&re()})(e)},ae=(0,t.useCallback)((e=>(0,U.jsx)("div",{...e,className:H()(`${r}-backdrop`,P,!m&&"show")})),[m,P,r]),ie={...a,...j};ie.display="block";return(0,U.jsx)(tu.Provider,{value:J,children:(0,U.jsx)($l,{show:p,ref:W,backdrop:g,container:C,keyboard:!0,autoFocus:k,enforceFocus:S,restoreFocus:x,restoreFocusOptions:T,onEscapeKeyDown:e=>{y?null==v||v(e):(e.preventDefault(),"static"===g&&re())},onShow:b,onHide:w,onEnter:(e,t)=>{e&&Z(e),null==N||N(e,t)},onEntering:(e,t)=>{null==_||_(e,t),Yn(window,"resize",ee)},onEntered:I,onExit:e=>{null==B.current||B.current(),null==E||E(e)},onExiting:A,onExited:e=>{e&&(e.style.display=""),null==R||R(e),Jn(window,"resize",ee)},manager:X(),transition:m?gu:void 0,backdropTransition:m?yu:void 0,renderBackdrop:ae,renderDialog:e=>(0,U.jsx)("div",{role:"dialog",...e,style:ie,className:H()(o,r,D&&`${r}-static`,!m&&"show"),onClick:g?oe:void 0,onMouseUp:ne,"data-bs-theme":u,"aria-label":f,"aria-labelledby":d,"aria-describedby":h,children:(0,U.jsx)(l,{...M,onMouseDown:te,className:i,contentClassName:s,children:c})})})})}));vu.displayName="Modal";const bu=Object.assign(vu,{Body:eu,Header:hu,Title:mu,Footer:au,Dialog:ru,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),wu=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:o,htmlFor:a,...i}=e;const{controlId:s}=(0,t.useContext)(Me);return r=V(r,"form-check-label"),(0,U.jsx)("label",{...i,ref:n,htmlFor:a||s,className:H()(o,r)})}));wu.displayName="FormCheckLabel";const Cu=wu;const ku=t.forwardRef(((e,n)=>{let{id:r,bsPrefix:o,bsSwitchPrefix:a,inline:i=!1,reverse:s=!1,disabled:c=!1,isValid:l=!1,isInvalid:u=!1,feedbackTooltip:d=!1,feedback:h,feedbackType:f,className:p,style:m,title:g="",type:y="checkbox",label:v,children:b,as:w="input",...C}=e;o=V(o,"form-check"),a=V(a,"form-switch");const{controlId:k}=(0,t.useContext)(Me),S=(0,t.useMemo)((()=>({controlId:r||k})),[k,r]),x=!b&&null!=v&&!1!==v||function(e,n){return t.Children.toArray(e).some((e=>t.isValidElement(e)&&e.type===n))}(b,Cu),T=(0,U.jsx)(Le,{...C,type:"switch"===y?"checkbox":y,ref:n,isValid:l,isInvalid:u,disabled:c,as:w});return(0,U.jsx)(Me.Provider,{value:S,children:(0,U.jsx)("div",{style:m,className:H()(p,x&&o,i&&`${o}-inline`,s&&`${o}-reverse`,"switch"===y&&a),children:b||(0,U.jsxs)(U.Fragment,{children:[T,x&&(0,U.jsx)(Cu,{title:g,children:v}),h&&(0,U.jsx)(Qe,{type:f,tooltip:d,children:h})]})})})}));ku.displayName="FormCheck";const Su=Object.assign(ku,{Input:Le,Label:Cu}),xu=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o="div",...a}=e;return r=V(r,"form-floating"),(0,U.jsx)(o,{ref:t,className:H()(n,r),...a})}));xu.displayName="FormFloating";const Tu=xu,Iu=t.forwardRef(((e,n)=>{let{controlId:r,as:o="div",...a}=e;const i=(0,t.useMemo)((()=>({controlId:r})),[r]);return(0,U.jsx)(Me.Provider,{value:i,children:(0,U.jsx)(o,{...a,ref:n})})}));Iu.displayName="FormGroup";const Eu=Iu,Au=t.forwardRef(((e,n)=>{let{as:r="label",bsPrefix:o,column:a=!1,visuallyHidden:i=!1,className:s,htmlFor:c,...l}=e;const{controlId:u}=(0,t.useContext)(Me);o=V(o,"form-label");let d="col-form-label";"string"===typeof a&&(d=`${d} ${d}-${a}`);const h=H()(s,o,i&&"visually-hidden",a&&d);return c=c||u,a?(0,U.jsx)(ne,{ref:n,as:"label",className:h,htmlFor:c,...l}):(0,U.jsx)(r,{ref:n,className:h,htmlFor:c,...l})}));Au.displayName="FormLabel";const Nu=Au,_u=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:o,id:a,...i}=e;const{controlId:s}=(0,t.useContext)(Me);return r=V(r,"form-range"),(0,U.jsx)("input",{...i,type:"range",ref:n,className:H()(o,r),id:a||s})}));_u.displayName="FormRange";const Ru=_u,Pu=t.forwardRef(((e,n)=>{let{bsPrefix:r,size:o,htmlSize:a,className:i,isValid:s=!1,isInvalid:c=!1,id:l,...u}=e;const{controlId:d}=(0,t.useContext)(Me);return r=V(r,"form-select"),(0,U.jsx)("select",{...u,size:a,ref:n,className:H()(i,r,o&&`${r}-${o}`,s&&"is-valid",c&&"is-invalid"),id:l||d})}));Pu.displayName="FormSelect";const Ou=Pu,Mu=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:o="small",muted:a,...i}=e;return n=V(n,"form-text"),(0,U.jsx)(o,{...i,ref:t,className:H()(r,n,a&&"text-muted")})}));Mu.displayName="FormText";const ju=Mu,Lu=t.forwardRef(((e,t)=>(0,U.jsx)(Su,{...e,ref:t,type:"switch"})));Lu.displayName="Switch";const Du=Object.assign(Lu,{Input:Su.Input,Label:Su.Label}),qu=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,children:o,controlId:a,label:i,...s}=e;return n=V(n,"form-floating"),(0,U.jsxs)(Eu,{ref:t,className:H()(r,n),controlId:a,...s,children:[o,(0,U.jsx)("label",{htmlFor:a,children:i})]})}));qu.displayName="FloatingLabel";const Fu=qu,Hu={_ref:We().any,validated:We().bool,as:We().elementType},Uu=t.forwardRef(((e,t)=>{let{className:n,validated:r,as:o="form",...a}=e;return(0,U.jsx)(o,{...a,ref:t,className:H()(n,r&&"was-validated")})}));Uu.displayName="Form",Uu.propTypes=Hu;const zu=Object.assign(Uu,{Group:Eu,Control:Je,Floating:Tu,Check:Su,Switch:Du,Label:Nu,Text:ju,Range:Ru,Select:Ou,FloatingLabel:Fu}),Bu=e=>{let{projectId:n,onClose:r,accessToken:o,jiraProjects:a}=e;const[i,s]=(0,t.useState)(null),[c,l]=(0,t.useState)(""),[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)(""),[p,m]=(0,t.useState)(""),[g,y]=(0,t.useState)(""),[v,b]=(0,t.useState)(""),[w,C]=(0,t.useState)(""),[k,S]=(0,t.useState)(null),[x,T]=(0,t.useState)(""),[I,E]=(0,t.useState)([]),[A,N]=(0,t.useState)(!1),[_,R]=(0,t.useState)(!1);(0,t.useEffect)((()=>{(async()=>{try{const e=await fetch(`${Ml}/api/projects/${n}?useTuke=${localStorage.getItem("isTukeLogin")}`),t=await e.json();s(t),m(t.jiraProjectId||""),b(t.name||""),y(t.lead||""),C(t.description||""),f(t.type||"New"),T(t.oneDriveFolder||""),t.oneDriveFolder&&P(t.oneDriveFolder)}catch(e){console.error("Error fetching project details:",e)}})(),M()}),[n,o]);const P=async e=>{if(o){N(!0);try{const t=await fetch(`https://graph.microsoft.com/v1.0/me/drive/root:/${e}:/children`,{method:"GET",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch OneDrive data");{const e=await t.json();S(e.value)}}catch(t){console.error("Error fetching OneDrive data:",t)}finally{N(!1)}}},O=async e=>{const t=await fetch(`https://graph.microsoft.com/v1.0/me/drive/items/${e}/children`,{method:"GET",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}}),n=(t.ok?await t.json():{value:[]}).value.filter((e=>e.folder));for(const r of n)r.subfolders=await O(r.id);return n},M=async()=>{if(o)try{const e=await fetch("https://graph.microsoft.com/v1.0/me/drive/root/children",{method:"GET",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}}),t=(e.ok?await e.json():{value:[]}).value.find((e=>"ACE"===e.name&&e.folder));t&&(t.subfolders=await O(t.id),t.subfolders.sort(((e,t)=>e.name.localeCompare(t.name))),E([t]))}catch(e){console.error("Error fetching ACE folder items:",e)}},j=async(e,t)=>{try{const o=await fetch(`${Ml}/api/projects/${n}?useTuke=${localStorage.getItem("isTukeLogin")}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(o.ok){const e=await o.json();s(e),t&&r(e.type,e.id)}else console.error("Failed to update project")}catch(o){console.error("Error updating project:",o)}T(e.oneDriveFolder)},L=async e=>{if(!o)return!1;try{return(await fetch(`https://graph.microsoft.com/v1.0/me/drive/root:/${e}`,{method:"GET",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}})).ok}catch(t){return console.error("Error checking folder existence:",t),!1}},D=async e=>{if(o)try{(await fetch(`https://graph.microsoft.com/v1.0/me/drive/root:/${e}:/`,{method:"PUT",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"},body:JSON.stringify({name:e,folder:{}})})).ok?(P([e]),await j({...i,oneDriveFolder:e})):console.error("Failed to create the folder")}catch(t){console.error("Error creating the folder:",t)}},q=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=e.sort(((e,t)=>e.name.localeCompare(t.name)));return r.map((e=>{const r=`${n}${n?"/":""}${e.name}`,o=r.startsWith("ACE")?r.substring(3):r;return(0,U.jsxs)(t.Fragment,{children:[(0,U.jsxs)("option",{value:r,children:[o," "]}),e.subfolders.length>0&&q(e.subfolders,r)," "]},e.id)}))};return i?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)(bu,{show:!0,onHide:async()=>{r(h,n),setTimeout((()=>{document.body.classList.remove("modal-open")}),250)},dialogClassName:"details-modal-width",centered:!0,scrollable:!0,children:[(0,U.jsx)(bu.Header,{closeButton:!0,children:(0,U.jsx)(bu.Title,{children:"Project Details"})}),(0,U.jsx)(bu.Body,{children:(0,U.jsxs)(X,{children:[(0,U.jsxs)(ee,{style:{width:"100%"},children:[(0,U.jsx)(ne,{className:"left-section",children:(0,U.jsxs)(zu,{children:[(0,U.jsxs)("div",{className:"d-flex gap-3 mb-3",children:[(0,U.jsxs)(zu.Group,{className:"flex-fill",children:[(0,U.jsx)(zu.Label,{children:"Project Name"}),(0,U.jsx)(zu.Control,{type:"text",value:v,onChange:e=>b(e.target.value)})]}),(0,U.jsxs)(zu.Group,{className:"flex-fill",children:[(0,U.jsx)(zu.Label,{children:"Project Lead"}),(0,U.jsx)(zu.Control,{type:"text",value:g,onChange:e=>y(e.target.value)})]}),(0,U.jsxs)(zu.Group,{className:"flex-fill",children:[(0,U.jsx)(zu.Label,{children:"Status"}),(0,U.jsxs)(zu.Select,{value:h,onChange:e=>f(e.target.value),children:[(0,U.jsx)("option",{value:"New",children:"New"}),(0,U.jsx)("option",{value:"Active",children:"Active"}),(0,U.jsx)("option",{value:"Hold",children:"Hold"}),(0,U.jsx)("option",{value:"End",children:"End"})]})]})]}),(0,U.jsxs)(zu.Group,{className:"mb-3",children:[(0,U.jsx)(zu.Label,{children:"Description"}),(0,U.jsx)(zu.Control,{as:"textarea",rows:4,value:w,onChange:e=>C(e.target.value)})]}),(0,U.jsxs)(zu.Group,{children:[(0,U.jsx)(zu.Label,{children:"Comments"}),(0,U.jsx)("div",{className:"comments-section",children:(0,U.jsx)("ul",{className:"list-unstyled",children:i.comments&&i.comments.map(((e,t)=>(0,U.jsxs)("li",{children:[(0,U.jsxs)("strong",{children:[e.username,":"]})," ",e.comment]},t)))})}),(0,U.jsx)(zu.Control,{className:"mb-2",type:"text",placeholder:"Your Name",value:c,onChange:e=>l(e.target.value)}),(0,U.jsx)(zu.Control,{className:"mb-2",as:"textarea",rows:2,placeholder:"Your Comment",value:u,onChange:e=>d(e.target.value)}),(0,U.jsx)(Oe,{variant:"primary",className:"rounded-pill",onClick:async e=>{e.preventDefault();try{if(c.trim()&&u.trim()){const e={username:c,comment:u},t=[...i.comments||[],e],n={...i,comments:t};await j(n,!1),d(""),l(""),s((e=>({...e,comments:t})))}}catch(t){console.error("Error submitting comment:",t)}},children:"Submit Comment"})]})]})}),(0,U.jsxs)(ne,{className:"right-section",children:[(0,U.jsx)(zu.Label,{children:"Project Files"}),(0,U.jsx)("div",{className:"project-files-container",children:A?(0,U.jsx)("div",{className:"d-flex justify-content-center",children:(0,U.jsx)(Ze,{animation:"border",variant:"primary"})}):k?(0,U.jsx)(Ol,{data:k,accessToken:o,oneDriveFolder:x,changeFolder:async e=>{if(e)try{await L(e)?(await P(e),await j({...i,oneDriveFolder:e})):await D(e)}catch(t){console.error("Error updating OneDrive folder:",t)}},updateFolder:async()=>{const e=prompt("Enter the new OneDrive folder name:");if(e)try{const t=await L(e);T([e]),t?(await P(e),await j({...i,oneDriveFolder:e})):await D(e)}catch(t){console.error("Error updating OneDrive folder:",t)}},setShowFolderModal:R}):(0,U.jsxs)("div",{children:[(0,U.jsx)("p",{children:"No OneDrive folder specified."}),(0,U.jsx)(Oe,{variant:"secondary",className:"rounded-pill",onClick:()=>R(!0),children:"Set OneDrive Folder"})]})})]})]}),(0,U.jsx)(ee,{style:{width:"100%"},children:(0,U.jsxs)(ne,{children:[(0,U.jsx)("hr",{}),(0,U.jsx)(X,{children:(0,U.jsxs)(ee,{children:[(0,U.jsx)(ne,{children:(0,U.jsx)("h4",{children:"Jira project: "})}),(0,U.jsx)(ne,{children:(0,U.jsx)(zu.Group,{className:"flex-fill",children:(0,U.jsxs)(zu.Select,{value:p,onChange:e=>{m(e.target.value)},children:[(0,U.jsx)("option",{value:"",disabled:!0,children:"Select a project"}),null===a||void 0===a?void 0:a.map((e=>(0,U.jsx)("option",{value:e.id,children:e.name},e.id)))]})})})]})})]})})]})}),(0,U.jsx)(bu.Footer,{children:(0,U.jsx)(Oe,{variant:"secondary",className:"rounded-pill",onClick:async()=>{const e={name:v,lead:g,type:h,description:w,oneDriveFolder:x,comments:i.comments,jiraProjectId:p};j(e,!0),setTimeout((()=>{document.body.classList.remove("modal-open")}),250)},children:"Save"})})]}),(0,U.jsxs)(bu,{show:_,onHide:()=>R(!1),centered:!0,children:[(0,U.jsx)(bu.Header,{closeButton:!0,children:(0,U.jsx)(bu.Title,{children:"Select OneDrive Folder"})}),(0,U.jsx)(bu.Body,{children:(0,U.jsxs)(zu.Group,{children:[(0,U.jsx)(zu.Label,{children:"Select a folder from your OneDrive:"}),(0,U.jsxs)(zu.Select,{onChange:e=>{return t=e.target.value,T(t),R(!1),void P(t);var t},children:[(0,U.jsx)("option",{value:"",children:"Select a folder"}),I.length>0&&I.map((e=>(0,U.jsx)("optgroup",{label:e.name,children:q(e.subfolders,e.name)},e.id)))]})]})}),(0,U.jsx)(bu.Footer,{children:(0,U.jsx)(Oe,{variant:"secondary",onClick:()=>R(!1),children:"Close"})})]})]}):(0,U.jsx)("div",{children:"Loading..."})},$u=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:o,...a}=e;n=V(n,"navbar-brand");const i=o||(a.href?"a":"span");return(0,U.jsx)(i,{...a,ref:t,className:H()(r,n)})}));$u.displayName="NavbarBrand";const Ku=$u;const Wu=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e=>null!=e)).reduce(((e,t)=>{if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(this,r),t.apply(this,r)}}),null)},Vu={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Gu(e,t){const n=t[`offset${e[0].toUpperCase()}${e.slice(1)}`],r=Vu[e];return n+parseInt(eo(t,r[0]),10)+parseInt(eo(t,r[1]),10)}const Qu={[zr]:"collapse",[Kr]:"collapsing",[Br]:"collapsing",[$r]:"collapse show"},Yu=t.forwardRef(((e,n)=>{let{onEnter:r,onEntering:o,onEntered:a,onExit:i,onExiting:s,className:c,children:l,dimension:u="height",in:d=!1,timeout:h=300,mountOnEnter:f=!1,unmountOnExit:p=!1,appear:m=!1,getDimensionValue:g=Gu,...y}=e;const v="function"===typeof u?u():u,b=(0,t.useMemo)((()=>Wu((e=>{e.style[v]="0"}),r)),[v,r]),w=(0,t.useMemo)((()=>Wu((e=>{const t=`scroll${v[0].toUpperCase()}${v.slice(1)}`;e.style[v]=`${e[t]}px`}),o)),[v,o]),C=(0,t.useMemo)((()=>Wu((e=>{e.style[v]=null}),a)),[v,a]),k=(0,t.useMemo)((()=>Wu((e=>{e.style[v]=`${g(v,e)}px`,ao(e)}),i)),[i,g,v]),S=(0,t.useMemo)((()=>Wu((e=>{e.style[v]=null}),s)),[v,s]);return(0,U.jsx)(co,{ref:n,addEndListener:oo,...y,"aria-expanded":y.role?d:null,onEnter:b,onEntering:w,onEntered:C,onExit:k,onExiting:S,childRef:l.ref,in:d,timeout:h,mountOnEnter:f,unmountOnExit:p,appear:m,children:(e,n)=>t.cloneElement(l,{...n,className:H()(c,l.props.className,Qu[e],"width"===v&&"collapse-horizontal")})})})),Ju=t.forwardRef(((e,n)=>{let{children:r,bsPrefix:o,...a}=e;o=V(o,"navbar-collapse");const i=(0,t.useContext)(il);return(0,U.jsx)(Yu,{in:!(!i||!i.expanded),...a,children:(0,U.jsx)("div",{ref:n,className:o,children:r})})}));Ju.displayName="NavbarCollapse";const Xu=Ju,Zu=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:o,children:a,label:i="Toggle navigation",as:s="button",onClick:c,...l}=e;r=V(r,"navbar-toggler");const{onToggle:u,expanded:d}=(0,t.useContext)(il)||{},h=tr((e=>{c&&c(e),u&&u()}));return"button"===s&&(l.type="button"),(0,U.jsx)(s,{...l,ref:n,onClick:h,"aria-label":i,className:H()(o,r,!d&&"collapsed"),children:a||(0,U.jsx)("span",{className:`${r}-icon`})})}));Zu.displayName="NavbarToggle";const ed=Zu,td=new WeakMap,nd=(e,t)=>{if(!e||!t)return;const n=td.get(t)||new Map;td.set(t,n);let r=n.get(e);return r||(r=t.matchMedia(e),r.refCount=0,n.set(r.media,r)),r};function rd(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"===typeof window?void 0:window;const r=nd(e,n),[o,a]=(0,t.useState)((()=>!!r&&r.matches));return yr((()=>{let t=nd(e,n);if(!t)return a(!1);let r=td.get(n);const o=()=>{a(t.matches)};return t.refCount++,t.addListener(o),o(),()=>{t.removeListener(o),t.refCount--,t.refCount<=0&&(null==r||r.delete(t.media)),t=void 0}}),[e]),o}const od=function(e){const n=Object.keys(e);function r(e,t){return e===t?t:e?`${e} and ${t}`:t}function o(t){const r=function(e){return n[Math.min(n.indexOf(e)+1,n.length-1)]}(t);let o=e[r];return o="number"===typeof o?o-.2+"px":`calc(${o} - 0.2px)`,`(max-width: ${o})`}return function(n,a,i){let s;return"object"===typeof n?(s=n,i=a,a=!0):(a=a||!0,s={[n]:a}),rd((0,t.useMemo)((()=>Object.entries(s).reduce(((t,n)=>{let[a,i]=n;return"up"!==i&&!0!==i||(t=r(t,function(t){let n=e[t];return"number"===typeof n&&(n=`${n}px`),`(min-width: ${n})`}(a))),"down"!==i&&!0!==i||(t=r(t,o(a))),t}),"")),[JSON.stringify(s)]),i)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),ad=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o="div",...a}=e;return r=V(r,"offcanvas-body"),(0,U.jsx)(o,{ref:t,className:H()(n,r),...a})}));ad.displayName="OffcanvasBody";const id=ad,sd={[Br]:"show",[$r]:"show"},cd=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:o,children:a,in:i=!1,mountOnEnter:s=!1,unmountOnExit:c=!1,appear:l=!1,...u}=e;return r=V(r,"offcanvas"),(0,U.jsx)(co,{ref:n,addEndListener:oo,in:i,mountOnEnter:s,unmountOnExit:c,appear:l,...u,childRef:a.ref,children:(e,n)=>t.cloneElement(a,{...n,className:H()(o,a.props.className,(e===Br||e===Kr)&&`${r}-toggling`,sd[e])})})}));cd.displayName="OffcanvasToggling";const ld=cd,ud=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,closeLabel:o="Close",closeButton:a=!1,...i}=e;return n=V(n,"offcanvas-header"),(0,U.jsx)(uu,{ref:t,...i,className:H()(r,n),closeLabel:o,closeButton:a})}));ud.displayName="OffcanvasHeader";const dd=ud,hd=ye("h5"),fd=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o=hd,...a}=e;return r=V(r,"offcanvas-title"),(0,U.jsx)(o,{ref:t,className:H()(n,r),...a})}));fd.displayName="OffcanvasTitle";const pd=fd;function md(e){return(0,U.jsx)(ld,{...e})}function gd(e){return(0,U.jsx)(ho,{...e})}const yd=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:o,children:a,"aria-labelledby":i,placement:s="start",responsive:c,show:l=!1,backdrop:u=!0,keyboard:d=!0,scroll:h=!1,onEscapeKeyDown:f,onShow:p,onHide:m,container:g,autoFocus:y=!0,enforceFocus:v=!0,restoreFocus:b=!0,restoreFocusOptions:w,onEntered:C,onExit:k,onExiting:S,onEnter:x,onEntering:T,onExited:I,backdropClassName:E,manager:A,renderStaticNode:N=!1,..._}=e;const R=(0,t.useRef)();r=V(r,"offcanvas");const[P,O]=(0,t.useState)(!1),M=tr(m),j=od(c||"xs","up");(0,t.useEffect)((()=>{O(c?l&&!j:l)}),[l,c,j]);const L=(0,t.useMemo)((()=>({onHide:M})),[M]);const D=(0,t.useCallback)((e=>(0,U.jsx)("div",{...e,className:H()(`${r}-backdrop`,E)})),[E,r]),q=e=>(0,U.jsx)("div",{...e,..._,className:H()(o,c?`${r}-${c}`:r,`${r}-${s}`),"aria-labelledby":i,children:a});return(0,U.jsxs)(U.Fragment,{children:[!P&&(c||N)&&q({}),(0,U.jsx)(tu.Provider,{value:L,children:(0,U.jsx)($l,{show:P,ref:n,backdrop:u,container:g,keyboard:d,autoFocus:y,enforceFocus:v&&!h,restoreFocus:b,restoreFocusOptions:w,onEscapeKeyDown:f,onShow:p,onHide:M,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==x||x(e,...n)},onEntering:T,onEntered:C,onExit:k,onExiting:S,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==I||I(...n)},manager:A||(h?(R.current||(R.current=new Xl({handleContainerOverflow:!1})),R.current):Jl()),transition:md,backdropTransition:gd,renderBackdrop:D,renderDialog:q})})]})}));yd.displayName="Offcanvas";const vd=Object.assign(yd,{Body:id,Header:dd,Title:pd}),bd=t.forwardRef(((e,n)=>{let{onHide:r,...o}=e;const a=(0,t.useContext)(il),i=tr((()=>{null==a||null==a.onToggle||a.onToggle(),null==r||r()}));return(0,U.jsx)(vd,{ref:n,show:!(null==a||!a.expanded),...o,renderStaticNode:!0,onHide:i})}));bd.displayName="NavbarOffcanvas";const wd=bd,Cd=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o="span",...a}=e;return r=V(r,"navbar-text"),(0,U.jsx)(o,{ref:t,className:H()(n,r),...a})}));Cd.displayName="NavbarText";const kd=Cd,Sd=t.forwardRef(((e,n)=>{const{bsPrefix:r,expand:o=!0,variant:a="light",bg:i,fixed:s,sticky:c,className:l,as:u="nav",expanded:d,onToggle:h,onSelect:f,collapseOnSelect:p=!1,...m}=ft(e,{expanded:"onToggle"}),g=V(r,"navbar"),y=(0,t.useCallback)((function(){null==f||f(...arguments),p&&d&&(null==h||h(!1))}),[f,p,d,h]);void 0===m.role&&"nav"!==u&&(m.role="navigation");let v=`${g}-expand`;"string"===typeof o&&(v=`${v}-${o}`);const b=(0,t.useMemo)((()=>({onToggle:()=>null==h?void 0:h(!d),bsPrefix:g,expanded:!!d,expand:o})),[g,d,o,h]);return(0,U.jsx)(il.Provider,{value:b,children:(0,U.jsx)(jc.Provider,{value:y,children:(0,U.jsx)(u,{ref:n,...m,className:H()(l,g,o&&v,a&&`${g}-${a}`,i&&`bg-${i}`,c&&`sticky-${c}`,s&&`fixed-${s}`)})})})}));Sd.displayName="Navbar";const xd=Object.assign(Sd,{Brand:Ku,Collapse:Xu,Offcanvas:wd,Text:kd,Toggle:ed}),Td=e=>{let{onLogout:n}=e;const[r,o]=(0,t.useState)("");return(0,t.useEffect)((()=>{const e=localStorage.getItem("userName");e&&o(e)}),[]),(0,U.jsx)(xd,{bg:"dark",variant:"dark",className:"py-2",children:(0,U.jsxs)(X,{fluid:!0,children:[(0,U.jsx)(xd.Brand,{href:"/",className:"d-flex align-items-center me-4",children:(0,U.jsxs)("h2",{className:"mb-0 text-white",children:["PROJECTS ",(0,U.jsx)(Fs,{icon:Vs,style:{color:"white"}})]})}),(0,U.jsxs)("div",{className:"d-flex align-items-center ms-auto",children:[(0,U.jsx)(Fs,{icon:$s,className:"me-2",style:{color:"white"}}),(0,U.jsxs)("span",{className:"me-3 text-white",children:["Welcome, ",r]}),(0,U.jsx)(Oe,{variant:"outline-secondary",className:"rounded-pill",onClick:n,children:"Logout"})]})]})})},Id=ye("h4");Id.displayName="DivStyledAsH4";const Ed=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o=Id,...a}=e;return r=V(r,"alert-heading"),(0,U.jsx)(o,{ref:t,className:H()(n,r),...a})}));Ed.displayName="AlertHeading";const Ad=Ed,Nd=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o=el,...a}=e;return r=V(r,"alert-link"),(0,U.jsx)(o,{ref:t,className:H()(n,r),...a})}));Nd.displayName="AlertLink";const _d=Nd,Rd=t.forwardRef(((e,t)=>{const{bsPrefix:n,show:r=!0,closeLabel:o="Close alert",closeVariant:a,className:i,children:s,variant:c="primary",onClose:l,dismissible:u,transition:d=ho,...h}=ft(e,{show:"onClose"}),f=V(n,"alert"),p=tr((e=>{l&&l(!1,e)})),m=!0===d?ho:d,g=(0,U.jsxs)("div",{role:"alert",...m?void 0:h,ref:t,className:H()(i,f,c&&`${f}-${c}`,u&&`${f}-dismissible`),children:[u&&(0,U.jsx)(cu,{onClick:p,"aria-label":o,variant:a}),s]});return m?(0,U.jsx)(m,{unmountOnExit:!0,...h,ref:void 0,in:r,children:g}):r?g:null}));Rd.displayName="Alert";const Pd=Object.assign(Rd,{Link:_d,Heading:Ad}),Od=e=>{let{isOpen:n,onClose:r}=e;const[o,a]=(0,t.useState)(""),[i,s]=(0,t.useState)("New"),[c,l]=(0,t.useState)(""),[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)("");return n?(0,U.jsxs)(bu,{show:n,onHide:r,centered:!0,dialogClassName:"add-modal-width",children:[(0,U.jsx)(bu.Header,{closeButton:!0,children:(0,U.jsx)(bu.Title,{children:"Add a New Project"})}),(0,U.jsxs)(bu.Body,{children:[h&&(0,U.jsx)(Pd,{variant:"danger",onClose:()=>f(""),dismissible:!0,children:h}),(0,U.jsxs)(zu,{style:{width:"100%"},onSubmit:async e=>{if(e.preventDefault(),!o||!c)return void f("Please fill out all required fields.");f("");const t={name:o,type:i,lead:c,url:u||null};try{const e=await fetch(`${Ml}/api/projects?useTuke=${localStorage.getItem("isTukeLogin")}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error("Failed to create project");{const t=await e.json();r(i,t.id)}}catch(h){f("Error: "+h.message)}},children:[(0,U.jsxs)(zu.Group,{className:"mb-3",controlId:"project-name",children:[(0,U.jsx)(zu.Label,{children:"Project Name*"}),(0,U.jsx)(zu.Control,{type:"text",placeholder:"Enter project name",value:o,onChange:e=>a(e.target.value),required:!0})]}),(0,U.jsxs)(zu.Group,{className:"mb-3",controlId:"project-status",children:[(0,U.jsx)(zu.Label,{children:"Project Status*"}),(0,U.jsxs)(zu.Select,{value:i,onChange:e=>s(e.target.value),required:!0,children:[(0,U.jsx)("option",{value:"New",children:"New"}),(0,U.jsx)("option",{value:"Active",children:"Active"}),(0,U.jsx)("option",{value:"Hold",children:"Hold"}),(0,U.jsx)("option",{value:"End",children:"Ended"})]})]}),(0,U.jsxs)(zu.Group,{className:"mb-3",controlId:"project-lead",children:[(0,U.jsx)(zu.Label,{children:"Project Lead*"}),(0,U.jsx)(zu.Control,{type:"text",placeholder:"Enter project lead's name",value:c,onChange:e=>l(e.target.value),required:!0})]}),(0,U.jsxs)(zu.Group,{className:"mb-3",controlId:"project-url",children:[(0,U.jsx)(zu.Label,{children:"Project URL (optional)"}),(0,U.jsx)(zu.Control,{type:"url",placeholder:"https://example.com",value:u,onChange:e=>d(e.target.value)})]}),(0,U.jsxs)("div",{className:"d-flex justify-content-end gap-3 mt-4",children:[(0,U.jsx)(Oe,{variant:"btn btn-outline-secondary rounded-pill",onClick:r,children:"Cancel"}),(0,U.jsx)(Oe,{variant:"btn btn-primary rounded-pill",type:"submit",children:"Create Project"})]})]})]})]}):null},Md={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},jd=400,Ld=499,Dd=500,qd=599,Fd=[Md.OPENID_SCOPE,Md.PROFILE_SCOPE,Md.OFFLINE_ACCESS_SCOPE],Hd=[...Fd,Md.EMAIL_SCOPE],Ud="Content-Type",zd="Retry-After",Bd="X-AnchorMailbox",$d="x-ms-request-id",Kd="x-ms-httpver",Wd="idtoken",Vd="client.info",Gd="adal.idtoken",Qd="error",Yd="error.description",Jd="active-account",Xd="active-account-filters",Zd="common",eh="organizations",th="consumers",nh="access_token",rh="xms_cc",oh={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},ah={PLAIN:"plain",S256:"S256"},ih={QUERY:"query",FRAGMENT:"fragment"},sh={...ih,FORM_POST:"form_post"},ch="authorization_code",lh="refresh_token",uh="MSSTS",dh="ADFS",hh="Generic",fh="-",ph=".",mh={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},gh="appmetadata",yh="1",vh="authority-metadata",bh=86400,wh="config",Ch="cache",kh="network",Sh="hardcoded_values",xh={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},Th={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},Ih=60,Eh=3600,Ah="throttling",Nh="retry-after, h429",_h="invalid_grant",Rh="client_mismatch",Ph="username",Oh="password",Mh=200,jh=400,Lh="1",Dh="3",qh="4",Fh="2",Hh="4",Uh="5",zh="0",Bh="1",$h="2",Kh="3",Wh="4",Vh="pop";var Gh;!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"}(Gh||(Gh={}));class Qh{constructor(e,t,n){this.level=Gh.Info;const r=e||Qh.createDefaultLoggerOptions();this.localCallback=r.loggerCallback||(()=>{}),this.piiLoggingEnabled=r.piiLoggingEnabled||!1,this.level="number"===typeof r.logLevel?r.logLevel:Gh.Info,this.correlationId=r.correlationId||Md.EMPTY_STRING,this.packageName=t||Md.EMPTY_STRING,this.packageVersion=n||Md.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Gh.Info}}clone(e,t,n){return new Qh({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},e,t)}logMessage(e,t){if(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)return;const n=`${`[${(new Date).toUTCString()}] : [${t.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${Gh[t.logLevel]} - ${e}`;this.executeCallback(t.logLevel,n,t.containsPii||!1)}executeCallback(e,t,n){this.localCallback&&this.localCallback(e,t,n)}error(e,t){this.logMessage(e,{logLevel:Gh.Error,containsPii:!1,correlationId:t||Md.EMPTY_STRING})}errorPii(e,t){this.logMessage(e,{logLevel:Gh.Error,containsPii:!0,correlationId:t||Md.EMPTY_STRING})}warning(e,t){this.logMessage(e,{logLevel:Gh.Warning,containsPii:!1,correlationId:t||Md.EMPTY_STRING})}warningPii(e,t){this.logMessage(e,{logLevel:Gh.Warning,containsPii:!0,correlationId:t||Md.EMPTY_STRING})}info(e,t){this.logMessage(e,{logLevel:Gh.Info,containsPii:!1,correlationId:t||Md.EMPTY_STRING})}infoPii(e,t){this.logMessage(e,{logLevel:Gh.Info,containsPii:!0,correlationId:t||Md.EMPTY_STRING})}verbose(e,t){this.logMessage(e,{logLevel:Gh.Verbose,containsPii:!1,correlationId:t||Md.EMPTY_STRING})}verbosePii(e,t){this.logMessage(e,{logLevel:Gh.Verbose,containsPii:!0,correlationId:t||Md.EMPTY_STRING})}trace(e,t){this.logMessage(e,{logLevel:Gh.Trace,containsPii:!1,correlationId:t||Md.EMPTY_STRING})}tracePii(e,t){this.logMessage(e,{logLevel:Gh.Trace,containsPii:!0,correlationId:t||Md.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}const Yh="AAD",Jh="OIDC",Xh="none",Zh="unexpected_error",ef="post_request_failed",tf={[Zh]:"Unexpected error in authentication.",[ef]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class nf extends Error{constructor(e,t,n){super(t?`${e}: ${t}`:e),Object.setPrototypeOf(this,nf.prototype),this.errorCode=e||Md.EMPTY_STRING,this.errorMessage=t||Md.EMPTY_STRING,this.subError=n||Md.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function rf(e,t){return new nf(e,t?`${tf[e]} ${t}`:tf[e])}const of="client_info_decoding_error",af="client_info_empty_error",sf="token_parsing_error",cf="null_or_empty_token",lf="endpoints_resolution_error",uf="network_error",df="openid_config_error",hf="hash_not_deserialized",ff="invalid_state",pf="state_mismatch",mf="state_not_found",gf="nonce_mismatch",yf="auth_time_not_found",vf="max_age_transpired",bf="multiple_matching_tokens",wf="multiple_matching_accounts",Cf="multiple_matching_appMetadata",kf="request_cannot_be_made",Sf="cannot_remove_empty_scope",xf="cannot_append_scopeset",Tf="empty_input_scopeset",If="device_code_polling_cancelled",Ef="device_code_expired",Af="device_code_unknown_error",Nf="no_account_in_silent_request",_f="invalid_cache_record",Rf="invalid_cache_environment",Pf="no_account_found",Of="no_crypto_object",Mf="unexpected_credential_type",jf="invalid_assertion",Lf="invalid_client_credential",Df="token_refresh_required",qf="user_timeout_reached",Ff="token_claims_cnf_required_for_signedjwt",Hf="authorization_code_missing_from_server_response",Uf="binding_key_not_removed",zf="end_session_endpoint_not_supported",Bf="key_id_missing",$f="no_network_connectivity",Kf="user_canceled",Wf="missing_tenant_id_error",Vf="method_not_implemented",Gf="nested_app_auth_bridge_disabled",Qf={[of]:"The client info could not be parsed/decoded correctly",[af]:"The client info was empty",[sf]:"Token cannot be parsed",[cf]:"The token is null or empty",[lf]:"Endpoints cannot be resolved",[uf]:"Network request failed",[df]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[hf]:"The hash parameters could not be deserialized",[ff]:"State was not the expected format",[pf]:"State mismatch error",[mf]:"State not found",[gf]:"Nonce mismatch error",[yf]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[vf]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[bf]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[wf]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[Cf]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[kf]:"Token request cannot be made without authorization code or refresh token.",[Sf]:"Cannot remove null or empty scope from ScopeSet",[xf]:"Cannot append ScopeSet",[Tf]:"Empty input ScopeSet cannot be processed",[If]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[Ef]:"Device code is expired.",[Af]:"Device code stopped polling for unknown reasons.",[Nf]:"Please pass an account object, silent flow is not supported without account information",[_f]:"Cache record object was null or undefined.",[Rf]:"Invalid environment when attempting to create cache entry",[Pf]:"No account found in cache for given key.",[Of]:"No crypto object detected.",[Mf]:"Unexpected credential type.",[jf]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[Lf]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[Df]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[qf]:"User defined timeout for device code polling reached",[Ff]:"Cannot generate a POP jwt if the token_claims are not populated",[Hf]:"Server response does not contain an authorization code to proceed",[Uf]:"Could not remove the credential's binding key from storage.",[zf]:"The provided authority does not support logout",[Bf]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[$f]:"No network connectivity. Check your internet connection.",[Kf]:"User cancelled the flow.",[Wf]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[Vf]:"This method has not been implemented",[Gf]:"The nested app auth bridge is disabled"};class Yf extends nf{constructor(e,t){super(e,t?`${Qf[e]}: ${t}`:Qf[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,Yf.prototype)}}function Jf(e,t){return new Yf(e,t)}const Xf={createNewGuid:()=>{throw Jf(Vf)},base64Decode:()=>{throw Jf(Vf)},base64Encode:()=>{throw Jf(Vf)},base64UrlEncode:()=>{throw Jf(Vf)},encodeKid:()=>{throw Jf(Vf)},async getPublicKeyThumbprint(){throw Jf(Vf)},async removeTokenBindingKey(){throw Jf(Vf)},async clearKeystore(){throw Jf(Vf)},async signJwt(){throw Jf(Vf)},async hashString(){throw Jf(Vf)}},Zf="@azure/msal-common",ep="14.15.0";function tp(e,t){const n=function(e){if(!e)throw Jf(cf);const t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(e);if(!t||t.length<4)throw Jf(sf);return t[2]}(e);try{const e=t(n);return JSON.parse(e)}catch(r){throw Jf(sf)}}function np(e,t){if(0===t||Date.now()-3e5>e+t)throw Jf(vf)}function rp(){return Math.round((new Date).getTime()/1e3)}function op(e,t){const n=Number(e)||0;return rp()+t>n}function ap(e){return[fp(e),pp(e),mp(e),gp(e),yp(e)].join(fh).toLowerCase()}function ip(e,t,n,r,o){return{credentialType:mh.ID_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n,realm:o}}function sp(e,t,n,r,o,a,i,s,c,l,u,d,h,f,p){const m={homeAccountId:e,credentialType:mh.ACCESS_TOKEN,secret:n,cachedAt:rp().toString(),expiresOn:i.toString(),extendedExpiresOn:s.toString(),environment:t,clientId:r,realm:o,target:a,tokenType:u||Th.BEARER};if(d&&(m.userAssertionHash=d),l&&(m.refreshOn=l.toString()),f&&(m.requestedClaims=f,m.requestedClaimsHash=p),m.tokenType?.toLowerCase()!==Th.BEARER.toLowerCase())switch(m.credentialType=mh.ACCESS_TOKEN_WITH_AUTH_SCHEME,m.tokenType){case Th.POP:const e=tp(n,c);if(!e?.cnf?.kid)throw Jf(Ff);m.keyId=e.cnf.kid;break;case Th.SSH:m.keyId=h}return m}function cp(e,t,n,r,o,a,i){const s={credentialType:mh.REFRESH_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n};return a&&(s.userAssertionHash=a),o&&(s.familyId=o),i&&(s.expiresOn=i.toString()),s}function lp(e){return e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")}function up(e){return!!e&&(lp(e)&&e.hasOwnProperty("realm")&&e.hasOwnProperty("target")&&(e.credentialType===mh.ACCESS_TOKEN||e.credentialType===mh.ACCESS_TOKEN_WITH_AUTH_SCHEME))}function dp(e){return!!e&&(lp(e)&&e.hasOwnProperty("realm")&&e.credentialType===mh.ID_TOKEN)}function hp(e){return!!e&&(lp(e)&&e.credentialType===mh.REFRESH_TOKEN)}function fp(e){return[e.homeAccountId,e.environment].join(fh).toLowerCase()}function pp(e){const t=e.credentialType===mh.REFRESH_TOKEN&&e.familyId||e.clientId;return[e.credentialType,t,e.realm||""].join(fh).toLowerCase()}function mp(e){return(e.target||"").toLowerCase()}function gp(e){return(e.requestedClaimsHash||"").toLowerCase()}function yp(e){return e.tokenType&&e.tokenType.toLowerCase()!==Th.BEARER.toLowerCase()?e.tokenType.toLowerCase():""}function vp(){return rp()+bh}function bp(e,t,n){e.authorization_endpoint=t.authorization_endpoint,e.token_endpoint=t.token_endpoint,e.end_session_endpoint=t.end_session_endpoint,e.issuer=t.issuer,e.endpointsFromNetwork=n,e.jwks_uri=t.jwks_uri}function wp(e,t,n){e.aliases=t.aliases,e.preferred_cache=t.preferred_cache,e.preferred_network=t.preferred_network,e.aliasesFromNetwork=n}function Cp(e){return e.expiresAt<=rp()}const kp="redirect_uri_empty",Sp="claims_request_parsing_error",xp="authority_uri_insecure",Tp="url_parse_error",Ip="empty_url_error",Ep="empty_input_scopes_error",Ap="invalid_prompt_value",Np="invalid_claims",_p="token_request_empty",Rp="logout_request_empty",Pp="invalid_code_challenge_method",Op="pkce_params_missing",Mp="invalid_cloud_discovery_metadata",jp="invalid_authority_metadata",Lp="untrusted_authority",Dp="missing_ssh_jwk",qp="missing_ssh_kid",Fp="missing_nonce_authentication_header",Hp="invalid_authentication_header",Up="cannot_set_OIDCOptions",zp="cannot_allow_native_broker",Bp="authority_mismatch",$p={[kp]:"A redirect URI is required for all calls, and none has been set.",[Sp]:"Could not parse the given claims request object.",[xp]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[Tp]:"URL could not be parsed into appropriate segments.",[Ip]:"URL was empty or null.",[Ep]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[Ap]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[Np]:"Given claims parameter must be a stringified JSON object.",[_p]:"Token request was empty and not found in cache.",[Rp]:"The logout request was null or undefined.",[Pp]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[Op]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[Mp]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[jp]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[Lp]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[Dp]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[qp]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[Fp]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[Hp]:"Invalid authentication header provided",[Up]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[zp]:"Cannot set allowNativeBroker parameter to true when not in AAD protocol mode.",[Bp]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};class Kp extends nf{constructor(e){super(e,$p[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,Kp.prototype)}}function Wp(e){return new Kp(e)}class Vp{static isEmptyObj(e){if(e)try{const t=JSON.parse(e);return 0===Object.keys(t).length}catch(YC){}return!0}static startsWith(e,t){return 0===e.indexOf(t)}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){const t={},n=e.split("&"),r=e=>decodeURIComponent(e.replace(/\+/g," "));return n.forEach((e=>{if(e.trim()){const[n,o]=e.split(/=(.+)/g,2);n&&o&&(t[r(n)]=r(o))}})),t}static trimArrayEntries(e){return e.map((e=>e.trim()))}static removeEmptyStringsFromArray(e){return e.filter((e=>!!e))}static jsonParseHelper(e){try{return JSON.parse(e)}catch(YC){return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}}class Gp{constructor(e){const t=e?Vp.trimArrayEntries([...e]):[],n=t?Vp.removeEmptyStringsFromArray(t):[];this.validateInputScopes(n),this.scopes=new Set,n.forEach((e=>this.scopes.add(e)))}static fromString(e){const t=(e||Md.EMPTY_STRING).split(" ");return new Gp(t)}static createSearchScopes(e){const t=new Gp(e);return t.containsOnlyOIDCScopes()?t.removeScope(Md.OFFLINE_ACCESS_SCOPE):t.removeOIDCScopes(),t}validateInputScopes(e){if(!e||e.length<1)throw Wp(Ep)}containsScope(e){const t=this.printScopesLowerCase().split(" "),n=new Gp(t);return!!e&&n.scopes.has(e.toLowerCase())}containsScopeSet(e){return!(!e||e.scopes.size<=0)&&(this.scopes.size>=e.scopes.size&&e.asArray().every((e=>this.containsScope(e))))}containsOnlyOIDCScopes(){let e=0;return Hd.forEach((t=>{this.containsScope(t)&&(e+=1)})),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach((e=>this.appendScope(e)))}catch(YC){throw Jf(xf)}}removeScope(e){if(!e)throw Jf(Sf);this.scopes.delete(e.trim())}removeOIDCScopes(){Hd.forEach((e=>{this.scopes.delete(e)}))}unionScopeSets(e){if(!e)throw Jf(Tf);const t=new Set;return e.scopes.forEach((e=>t.add(e.toLowerCase()))),this.scopes.forEach((e=>t.add(e.toLowerCase()))),t}intersectingScopeSets(e){if(!e)throw Jf(Tf);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const t=this.unionScopeSets(e),n=e.getScopeCount(),r=this.getScopeCount();return t.size<r+n}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach((t=>e.push(t))),e}printScopes(){if(this.scopes){return this.asArray().join(" ")}return Md.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}function Qp(e,t){if(!e)throw Jf(af);try{const n=t(e);return JSON.parse(n)}catch(YC){throw Jf(of)}}function Yp(e){if(!e)throw Jf(of);const t=e.split(ph,2);return{uid:t[0],utid:t.length<2?Md.EMPTY_STRING:t[1]}}function Jp(e,t){return!!e&&!!t&&e===t.split(".")[1]}function Xp(e,t,n,r){if(r){const{oid:t,sub:n,tid:o,name:a,tfp:i,acr:s}=r,c=o||i||s||"";return{tenantId:c,localAccountId:t||n||"",name:a,isHomeTenant:Jp(c,e)}}return{tenantId:n,localAccountId:t,isHomeTenant:Jp(n,e)}}function Zp(e,t,n,r){let o=e;if(t){const{isHomeTenant:n,...r}=t;o={...e,...r}}if(n){const{isHomeTenant:t,...a}=Xp(e.homeAccountId,e.localAccountId,e.tenantId,n);return o={...o,...a,idTokenClaims:n,idToken:r},o}return o}const em=0,tm=1,nm=2,rm=3;function om(e){if(e){return e.tid||e.tfp||e.acr||null}return null}class am{generateAccountId(){return[this.homeAccountId,this.environment].join(fh).toLowerCase()}generateAccountKey(){return am.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map((e=>[e.tenantId,e])))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){const t=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",t||e.tenantId||""].join(fh).toLowerCase()}static createAccount(e,t,n){const r=new am;let o;t.authorityType===tm?r.authorityType=dh:t.protocolMode===Yh?r.authorityType=uh:r.authorityType=hh,e.clientInfo&&n&&(o=Qp(e.clientInfo,n)),r.clientInfo=e.clientInfo,r.homeAccountId=e.homeAccountId,r.nativeAccountId=e.nativeAccountId;const a=e.environment||t&&t.getPreferredCache();if(!a)throw Jf(Rf);r.environment=a,r.realm=o?.utid||om(e.idTokenClaims)||"",r.localAccountId=o?.uid||e.idTokenClaims?.oid||e.idTokenClaims?.sub||"";const i=e.idTokenClaims?.preferred_username||e.idTokenClaims?.upn,s=e.idTokenClaims?.emails?e.idTokenClaims.emails[0]:null;if(r.username=i||s||"",r.name=e.idTokenClaims?.name||"",r.cloudGraphHostName=e.cloudGraphHostName,r.msGraphHost=e.msGraphHost,e.tenantProfiles)r.tenantProfiles=e.tenantProfiles;else{const t=Xp(e.homeAccountId,r.localAccountId,r.realm,e.idTokenClaims);r.tenantProfiles=[t]}return r}static createFromAccountInfo(e,t,n){const r=new am;return r.authorityType=e.authorityType||hh,r.homeAccountId=e.homeAccountId,r.localAccountId=e.localAccountId,r.nativeAccountId=e.nativeAccountId,r.realm=e.tenantId,r.environment=e.environment,r.username=e.username,r.name=e.name,r.cloudGraphHostName=t,r.msGraphHost=n,r.tenantProfiles=Array.from(e.tenantProfiles?.values()||[]),r}static generateHomeAccountId(e,t,n,r,o){if(t!==tm&&t!==nm){if(e)try{const t=Qp(e,r.base64Decode);if(t.uid&&t.utid)return`${t.uid}.${t.utid}`}catch(YC){}n.warning("No client info in response")}return o?.sub||""}static isAccountEntity(e){return!!e&&(e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"))}static accountInfoIsEqual(e,t,n){if(!e||!t)return!1;let r=!0;if(n){const n=e.idTokenClaims||{},o=t.idTokenClaims||{};r=n.iat===o.iat&&n.nonce===o.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&r}}function im(e){return e.startsWith("#/")?e.substring(2):e.startsWith("#")||e.startsWith("?")?e.substring(1):e}function sm(e){if(!e||e.indexOf("=")<0)return null;try{const t=im(e),n=Object.fromEntries(new URLSearchParams(t));if(n.code||n.error||n.error_description||n.state)return n}catch(YC){throw Jf(hf)}return null}class cm{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw Wp(Ip);e.includes("#")||(this._urlString=cm.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return Vp.endsWith(t,"?")?t=t.slice(0,-1):Vp.endsWith(t,"?/")&&(t=t.slice(0,-2)),Vp.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch(YC){throw Wp(Tp)}if(!e.HostNameAndPort||!e.PathSegments)throw Wp(Tp);if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw Wp(xp)}static appendQueryString(e,t){return t?e.indexOf("?")<0?`${e}?${t}`:`${e}&${t}`:e}static removeHashFromUrl(e){return cm.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const t=this.getUrlComponents(),n=t.PathSegments;return!e||0===n.length||n[0]!==Zd&&n[0]!==eh||(n[0]=e),cm.constructAuthorityUriFromObject(t)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw Wp(Tp);const n={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]};let r=n.AbsolutePath.split("/");return r=r.filter((e=>e&&e.length>0)),n.PathSegments=r,n.QueryString&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n}static getDomainFromUrl(e){const t=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(t);if(!n)throw Wp(Tp);return n[2]}static getAbsoluteUrl(e,t){if(e[0]===Md.FORWARD_SLASH){const n=new cm(t).getUrlComponents();return n.Protocol+"//"+n.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new cm(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!sm(e)}}const lm={"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},um={tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},dm=new Set;function hm(e,t,n,r){if(r?.trace(`getAliasesFromMetadata called with source: ${n}`),e&&t){const o=fm(t,e);if(o)return r?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${n}, returning aliases`),o.aliases;r?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${n}`)}return null}function fm(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(r.aliases.includes(t))return r}return null}um.metadata.forEach((e=>{e.aliases.forEach((e=>{dm.add(e)}))}));const pm="cache_quota_exceeded",mm="cache_error_unknown",gm={[pm]:"Exceeded cache storage capacity.",[mm]:"Unexpected error occurred when using cache storage."};class ym extends Error{constructor(e,t){const n=t||(gm[e]?gm[e]:gm[mm]);super(`${e}: ${n}`),Object.setPrototypeOf(this,ym.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=n}}class vm{constructor(e,t,n,r){this.clientId=e,this.cryptoImpl=t,this.commonLogger=n.clone(Zf,ep),this.staticAuthorityOptions=r}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){const t=this.getAllAccounts(e);if(t.length>1){return t.sort((e=>e.idTokenClaims?-1:1))[0]}return 1===t.length?t[0]:null}getBaseAccountInfo(e){const t=this.getAccountsFilteredBy(e);return t.length>0?t[0].getAccountInfo():null}buildTenantProfiles(e,t){return e.flatMap((e=>this.getTenantProfilesFromAccountEntity(e,t?.tenantId,t)))}getTenantedAccountInfoByFilter(e,t,n,r){let o,a=null;if(r&&!this.tenantProfileMatchesFilter(n,r))return null;const i=this.getIdToken(e,t,n.tenantId);return i&&(o=tp(i.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(o,r))?null:(a=Zp(e,n,o,i?.secret),a)}getTenantProfilesFromAccountEntity(e,t,n){const r=e.getAccountInfo();let o=r.tenantProfiles||new Map;const a=this.getTokenKeys();if(t){const e=o.get(t);if(!e)return[];o=new Map([[t,e]])}const i=[];return o.forEach((e=>{const t=this.getTenantedAccountInfoByFilter(r,a,e,n);t&&i.push(t)})),i}tenantProfileMatchesFilter(e,t){return!(t.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId))&&((!t.name||e.name===t.name)&&(void 0===t.isHomeTenant||e.isHomeTenant===t.isHomeTenant))}idTokenClaimsMatchTenantProfileFilter(e,t){if(t){if(t.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId))return!1;if(t.loginHint&&!this.matchLoginHintFromTokenClaims(e,t.loginHint))return!1;if(t.username&&!this.matchUsername(e.preferred_username,t.username))return!1;if(t.name&&!this.matchName(e,t.name))return!1;if(t.sid&&!this.matchSid(e,t.sid))return!1}return!0}async saveCacheRecord(e,t,n){if(!e)throw Jf(_f);try{e.account&&this.setAccount(e.account),e.idToken&&!1!==t?.idToken&&this.setIdTokenCredential(e.idToken),e.accessToken&&!1!==t?.accessToken&&await this.saveAccessToken(e.accessToken),e.refreshToken&&!1!==t?.refreshToken&&this.setRefreshTokenCredential(e.refreshToken),e.appMetadata&&this.setAppMetadata(e.appMetadata)}catch(YC){throw this.commonLogger?.error("CacheManager.saveCacheRecord: failed"),YC instanceof Error?(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${YC.message}`,n),"QuotaExceededError"===YC.name||"NS_ERROR_DOM_QUOTA_REACHED"===YC.name||YC.message.includes("exceeded the quota")?(this.commonLogger?.error("CacheManager.saveCacheRecord: exceeded storage quota",n),new ym(pm)):new ym(YC.name,YC.message)):(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${YC}`,n),new ym(mm))}}async saveAccessToken(e){const t={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},n=this.getTokenKeys(),r=Gp.fromString(e.target),o=[];n.accessToken.forEach((e=>{if(!this.accessTokenKeyMatchesFilter(e,t,!1))return;const n=this.getAccessTokenCredential(e);if(n&&this.credentialMatchesFilter(n,t)){Gp.fromString(n.target).intersectingScopeSets(r)&&o.push(this.removeAccessToken(e))}})),await Promise.all(o),this.setAccessTokenCredential(e)}getAccountsFilteredBy(e){const t=this.getAccountKeys(),n=[];return t.forEach((t=>{if(!this.isAccountKey(t,e.homeAccountId))return;const r=this.getAccount(t,this.commonLogger);if(!r)return;if(e.homeAccountId&&!this.matchHomeAccountId(r,e.homeAccountId))return;if(e.username&&!this.matchUsername(r.username,e.username))return;if(e.environment&&!this.matchEnvironment(r,e.environment))return;if(e.realm&&!this.matchRealm(r,e.realm))return;if(e.nativeAccountId&&!this.matchNativeAccountId(r,e.nativeAccountId))return;if(e.authorityType&&!this.matchAuthorityType(r,e.authorityType))return;const o={localAccountId:e?.localAccountId,name:e?.name},a=r.tenantProfiles?.filter((e=>this.tenantProfileMatchesFilter(e,o)));a&&0===a.length||n.push(r)})),n}isAccountKey(e,t,n){return!(e.split(fh).length<3)&&(!(t&&!e.toLowerCase().includes(t.toLowerCase()))&&!(n&&!e.toLowerCase().includes(n.toLowerCase())))}isCredentialKey(e){if(e.split(fh).length<6)return!1;const t=e.toLowerCase();if(-1===t.indexOf(mh.ID_TOKEN.toLowerCase())&&-1===t.indexOf(mh.ACCESS_TOKEN.toLowerCase())&&-1===t.indexOf(mh.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())&&-1===t.indexOf(mh.REFRESH_TOKEN.toLowerCase()))return!1;if(t.indexOf(mh.REFRESH_TOKEN.toLowerCase())>-1){const e=`${mh.REFRESH_TOKEN}${fh}${this.clientId}${fh}`,n=`${mh.REFRESH_TOKEN}${fh}${yh}${fh}`;if(-1===t.indexOf(e.toLowerCase())&&-1===t.indexOf(n.toLowerCase()))return!1}else if(-1===t.indexOf(this.clientId.toLowerCase()))return!1;return!0}credentialMatchesFilter(e,t){if(t.clientId&&!this.matchClientId(e,t.clientId))return!1;if(t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash))return!1;if("string"===typeof t.homeAccountId&&!this.matchHomeAccountId(e,t.homeAccountId))return!1;if(t.environment&&!this.matchEnvironment(e,t.environment))return!1;if(t.realm&&!this.matchRealm(e,t.realm))return!1;if(t.credentialType&&!this.matchCredentialType(e,t.credentialType))return!1;if(t.familyId&&!this.matchFamilyId(e,t.familyId))return!1;if(t.target&&!this.matchTarget(e,t.target))return!1;if((t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash)return!1;if(e.credentialType===mh.ACCESS_TOKEN_WITH_AUTH_SCHEME){if(t.tokenType&&!this.matchTokenType(e,t.tokenType))return!1;if(t.tokenType===Th.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId))return!1}return!0}getAppMetadataFilteredBy(e){const t=this.getKeys(),n={};return t.forEach((t=>{if(!this.isAppMetadata(t))return;const r=this.getAppMetadata(t);r&&(e.environment&&!this.matchEnvironment(r,e.environment)||e.clientId&&!this.matchClientId(r,e.clientId)||(n[t]=r))})),n}getAuthorityMetadataByAlias(e){const t=this.getAuthorityMetadataKeys();let n=null;return t.forEach((t=>{if(!this.isAuthorityMetadata(t)||-1===t.indexOf(this.clientId))return;const r=this.getAuthorityMetadata(t);r&&-1!==r.aliases.indexOf(e)&&(n=r)})),n}async removeAllAccounts(){const e=this.getAccountKeys(),t=[];e.forEach((e=>{t.push(this.removeAccount(e))})),await Promise.all(t)}async removeAccount(e){const t=this.getAccount(e,this.commonLogger);t&&(await this.removeAccountContext(t),this.removeItem(e))}async removeAccountContext(e){const t=this.getTokenKeys(),n=e.generateAccountId(),r=[];t.idToken.forEach((e=>{0===e.indexOf(n)&&this.removeIdToken(e)})),t.accessToken.forEach((e=>{0===e.indexOf(n)&&r.push(this.removeAccessToken(e))})),t.refreshToken.forEach((e=>{0===e.indexOf(n)&&this.removeRefreshToken(e)})),await Promise.all(r)}updateOutdatedCachedAccount(e,t,n){if(t&&t.isSingleTenant()){this.commonLogger?.verbose("updateOutdatedCachedAccount: Found a single-tenant (outdated) account entity in the cache, migrating to multi-tenant account entity");const r=this.getAccountKeys().filter((e=>e.startsWith(t.homeAccountId))),o=[];r.forEach((e=>{const t=this.getCachedAccountEntity(e);t&&o.push(t)}));const a=o.find((e=>Jp(e.realm,e.homeAccountId)))||o[0];a.tenantProfiles=o.map((e=>({tenantId:e.realm,localAccountId:e.localAccountId,name:e.name,isHomeTenant:Jp(e.realm,e.homeAccountId)})));const i=vm.toObject(new am,{...a}),s=i.generateAccountKey();return r.forEach((t=>{t!==s&&this.removeOutdatedAccount(e)})),this.setAccount(i),n?.verbose("Updated an outdated account entity in the cache"),i}return t}async removeAccessToken(e){const t=this.getAccessTokenCredential(e);if(t){if(t.credentialType.toLowerCase()===mh.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&t.tokenType===Th.POP){const e=t.keyId;if(e)try{await this.cryptoImpl.removeTokenBindingKey(e)}catch(n){throw Jf(Uf)}}return this.removeItem(e)}}removeAppMetadata(){return this.getKeys().forEach((e=>{this.isAppMetadata(e)&&this.removeItem(e)})),!0}readAccountFromCache(e){const t=am.generateAccountCacheKey(e);return this.getAccount(t,this.commonLogger)}getIdToken(e,t,n,r,o){this.commonLogger.trace("CacheManager - getIdToken called");const a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:mh.ID_TOKEN,clientId:this.clientId,realm:n},i=this.getIdTokensByFilter(a,t),s=i.size;if(s<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(s>1){let t=i;if(!n){const n=new Map;i.forEach(((t,r)=>{t.realm===e.tenantId&&n.set(r,t)}));const r=n.size;if(r<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),i.values().next().value;if(1===r)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),n.values().next().value;t=n}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),t.forEach(((e,t)=>{this.removeIdToken(t)})),r&&o&&r.addFields({multiMatchedID:i.size},o),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),i.values().next().value}getIdTokensByFilter(e,t){const n=t&&t.idToken||this.getTokenKeys().idToken,r=new Map;return n.forEach((t=>{if(!this.idTokenKeyMatchesFilter(t,{clientId:this.clientId,...e}))return;const n=this.getIdTokenCredential(t);n&&this.credentialMatchesFilter(n,e)&&r.set(t,n)})),r}idTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.clientId||-1!==n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase()))}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,t,n,r,o,a){this.commonLogger.trace("CacheManager - getAccessToken called");const i=Gp.createSearchScopes(t.scopes),s=t.authenticationScheme||Th.BEARER,c=s&&s.toLowerCase()!==Th.BEARER.toLowerCase()?mh.ACCESS_TOKEN_WITH_AUTH_SCHEME:mh.ACCESS_TOKEN,l={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:c,clientId:this.clientId,realm:r||e.tenantId,target:i,tokenType:s,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},u=n&&n.accessToken||this.getTokenKeys().accessToken,d=[];u.forEach((e=>{if(this.accessTokenKeyMatchesFilter(e,l,!0)){const t=this.getAccessTokenCredential(e);t&&this.credentialMatchesFilter(t,l)&&d.push(t)}}));const h=d.length;return h<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):h>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),d.forEach((e=>{this.removeAccessToken(ap(e))})),o&&a&&o.addFields({multiMatchedAT:d.length},a),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),d[0])}accessTokenKeyMatchesFilter(e,t,n){const r=e.toLowerCase();if(t.clientId&&-1===r.indexOf(t.clientId.toLowerCase()))return!1;if(t.homeAccountId&&-1===r.indexOf(t.homeAccountId.toLowerCase()))return!1;if(t.realm&&-1===r.indexOf(t.realm.toLowerCase()))return!1;if(t.requestedClaimsHash&&-1===r.indexOf(t.requestedClaimsHash.toLowerCase()))return!1;if(t.target){const e=t.target.asArray();for(let t=0;t<e.length;t++){if(n&&!r.includes(e[t].toLowerCase()))return!1;if(!n&&r.includes(e[t].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e){const t=this.getTokenKeys(),n=[];return t.accessToken.forEach((t=>{if(!this.accessTokenKeyMatchesFilter(t,e,!0))return;const r=this.getAccessTokenCredential(t);r&&this.credentialMatchesFilter(r,e)&&n.push(r)})),n}getRefreshToken(e,t,n,r,o){this.commonLogger.trace("CacheManager - getRefreshToken called");const a=t?yh:void 0,i={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:mh.REFRESH_TOKEN,clientId:this.clientId,familyId:a},s=n&&n.refreshToken||this.getTokenKeys().refreshToken,c=[];s.forEach((e=>{if(this.refreshTokenKeyMatchesFilter(e,i)){const t=this.getRefreshTokenCredential(e);t&&this.credentialMatchesFilter(t,i)&&c.push(t)}}));const l=c.length;return l<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(l>1&&r&&o&&r.addFields({multiMatchedRT:l},o),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),c[0])}refreshTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.familyId||-1!==n.indexOf(t.familyId.toLowerCase()))&&(!(!t.familyId&&t.clientId&&-1===n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase())))}readAppMetadataFromCache(e){const t={environment:e,clientId:this.clientId},n=this.getAppMetadataFilteredBy(t),r=Object.keys(n).map((e=>n[e])),o=r.length;if(o<1)return null;if(o>1)throw Jf(Cf);return r[0]}isAppMetadataFOCI(e){const t=this.readAppMetadataFromCache(e);return!(!t||t.familyId!==yh)}matchHomeAccountId(e,t){return!("string"!==typeof e.homeAccountId||t!==e.homeAccountId)}matchLocalAccountIdFromTokenClaims(e,t){return t===(e.oid||e.sub)}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){return!(t.toLowerCase()!==e.name?.toLowerCase())}matchUsername(e,t){return!(!e||"string"!==typeof e||t?.toLowerCase()!==e.toLowerCase())}matchUserAssertionHash(e,t){return!(!e.userAssertionHash||t!==e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){const n=function(e,t){let n;const r=e.canonicalAuthority;if(r){const o=new cm(r).getUrlComponents().HostNameAndPort;n=hm(o,e.cloudDiscoveryMetadata?.metadata,wh,t)||hm(o,um.metadata,Sh,t)||e.knownAuthorities}return n||[]}(this.staticAuthorityOptions,this.commonLogger);if(n.includes(t)&&n.includes(e.environment))return!0}const n=this.getAuthorityMetadataByAlias(t);return!!(n&&n.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!(!e.clientId||t!==e.clientId)}matchFamilyId(e,t){return!(!e.familyId||t!==e.familyId)}matchRealm(e,t){return!(e.realm?.toLowerCase()!==t.toLowerCase())}matchNativeAccountId(e,t){return!(!e.nativeAccountId||t!==e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||(e.preferred_username===t||e.upn===t)}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!(!e.authorityType||t.toLowerCase()!==e.authorityType.toLowerCase())}matchTarget(e,t){if(e.credentialType!==mh.ACCESS_TOKEN&&e.credentialType!==mh.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target)return!1;return Gp.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!(!e.tokenType||e.tokenType!==t)}matchKeyId(e,t){return!(!e.keyId||e.keyId!==t)}isAppMetadata(e){return-1!==e.indexOf(gh)}isAuthorityMetadata(e){return-1!==e.indexOf(vh)}generateAuthorityMetadataCacheKey(e){return`${vh}-${this.clientId}-${e}`}static toObject(e,t){for(const n in t)e[n]=t[n];return e}}class bm extends vm{setAccount(){throw Jf(Vf)}getAccount(){throw Jf(Vf)}getCachedAccountEntity(){throw Jf(Vf)}setIdTokenCredential(){throw Jf(Vf)}getIdTokenCredential(){throw Jf(Vf)}setAccessTokenCredential(){throw Jf(Vf)}getAccessTokenCredential(){throw Jf(Vf)}setRefreshTokenCredential(){throw Jf(Vf)}getRefreshTokenCredential(){throw Jf(Vf)}setAppMetadata(){throw Jf(Vf)}getAppMetadata(){throw Jf(Vf)}setServerTelemetry(){throw Jf(Vf)}getServerTelemetry(){throw Jf(Vf)}setAuthorityMetadata(){throw Jf(Vf)}getAuthorityMetadata(){throw Jf(Vf)}getAuthorityMetadataKeys(){throw Jf(Vf)}setThrottlingCache(){throw Jf(Vf)}getThrottlingCache(){throw Jf(Vf)}removeItem(){throw Jf(Vf)}getKeys(){throw Jf(Vf)}getAccountKeys(){throw Jf(Vf)}getTokenKeys(){throw Jf(Vf)}async clear(){throw Jf(Vf)}updateCredentialCacheKey(){throw Jf(Vf)}removeOutdatedAccount(){throw Jf(Vf)}}const wm={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1},Cm={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Gh.Info,correlationId:Md.EMPTY_STRING},km={claimsBasedCachingEnabled:!1},Sm={async sendGetRequestAsync(){throw Jf(Vf)},async sendPostRequestAsync(){throw Jf(Vf)}},xm={sku:Md.SKU,version:ep,cpu:Md.EMPTY_STRING,os:Md.EMPTY_STRING},Tm={clientSecret:Md.EMPTY_STRING,clientAssertion:void 0},Im={azureCloudInstance:Xh,tenant:`${Md.DEFAULT_COMMON_TENANT}`},Em={application:{appName:"",appVersion:""}};function Am(e){return e.authOptions.authority.options.protocolMode===Jh}const Nm={sendGetRequestAsync:()=>Promise.reject(Jf(Vf)),sendPostRequestAsync:()=>Promise.reject(Jf(Vf))},_m="acquireTokenByCode",Rm="acquireTokenByRefreshToken",Pm="acquireTokenSilent",Om="acquireTokenSilentAsync",Mm="acquireTokenPopup",jm="acquireTokenPreRedirect",Lm="acquireTokenRedirect",Dm="cryptoOptsGetPublicKeyThumbprint",qm="cryptoOptsSignJwt",Fm="silentCacheClientAcquireToken",Hm="silentIframeClientAcquireToken",Um="awaitConcurrentIframe",zm="silentRefreshClientAcquireToken",Bm="ssoSilent",$m="standardInteractionClientGetDiscoveredAuthority",Km="fetchAccountIdWithNativeBroker",Wm="nativeInteractionClientAcquireToken",Vm="refreshTokenClientExecutePostToTokenEndpoint",Gm="authorizationCodeClientExecutePostToTokenEndpoint",Qm="refreshTokenClientExecuteTokenRequest",Ym="refreshTokenClientAcquireToken",Jm="refreshTokenClientAcquireTokenWithCachedRefreshToken",Xm="refreshTokenClientAcquireTokenByRefreshToken",Zm="refreshTokenClientCreateTokenRequestBody",eg="acquireTokenFromCache",tg="silentFlowClientAcquireCachedToken",ng="silentFlowClientGenerateResultFromCacheRecord",rg="acquireTokenBySilentIframe",og="initializeBaseRequest",ag="initializeSilentRequest",ig="initializeClientApplication",sg="silentIframeClientTokenHelper",cg="silentHandlerInitiateAuthRequest",lg="silentHandlerMonitorIframeForHash",ug="silentHandlerLoadFrame",dg="silentHandlerLoadFrameSync",hg="standardInteractionClientCreateAuthCodeClient",fg="standardInteractionClientGetClientConfiguration",pg="standardInteractionClientInitializeAuthorizationRequest",mg="standardInteractionClientInitializeAuthorizationCodeRequest",gg="getAuthCodeUrl",yg="handleCodeResponseFromServer",vg="handleCodeResponse",bg="updateTokenEndpointAuthority",wg="authClientAcquireToken",Cg="authClientExecuteTokenRequest",kg="authClientCreateTokenRequestBody",Sg="authClientCreateQueryString",xg="popTokenGenerateCnf",Tg="popTokenGenerateKid",Ig="handleServerTokenResponse",Eg="deserializeResponse",Ag="authorityFactoryCreateDiscoveredInstance",Ng="authorityResolveEndpointsAsync",_g="authorityGetCloudDiscoveryMetadataFromNetwork",Rg="authorityUpdateCloudDiscoveryMetadata",Pg="authorityGetEndpointMetadataFromNetwork",Og="authorityUpdateEndpointMetadata",Mg="authorityUpdateMetadataWithRegionalInformation",jg="regionDiscoveryDetectRegion",Lg="regionDiscoveryGetRegionFromIMDS",Dg="regionDiscoveryGetCurrentVersion",qg="acquireTokenByCodeAsync",Fg="handleRedirectPromise",Hg="handleNativeRedirectPromise",Ug="nativeMessageHandlerHandshake",zg="removeHiddenIframe",Bg="clearTokensAndKeysWithClaims",$g="cacheManagerGetRefreshToken",Kg="generatePkceCodes",Wg="generateCodeVerifier",Vg="generateCodeChallengeFromVerifier",Gg="sha256Digest",Qg="getRandomValues",Yg=(new Map([[_m,"ATByCode"],[Rm,"ATByRT"],[Pm,"ATS"],[Om,"ATSAsync"],[Mm,"ATPopup"],[Lm,"ATRedirect"],[Dm,"CryptoGetPKThumb"],[qm,"CryptoSignJwt"],[Fm,"SltCacheClientAT"],[Hm,"SltIframeClientAT"],[zm,"SltRClientAT"],[Bm,"SsoSlt"],[$m,"StdIntClientGetDiscAuth"],[Km,"FetchAccIdWithNtvBroker"],[Wm,"NtvIntClientAT"],["baseClientCreateTokenRequestHeaders","BaseClientCreateTReqHead"],[Vm,"RTClientExecPost"],[Gm,"AuthCodeClientExecPost"],["brokerHandshake","BrokerHandshake"],["acquireTokenByRefreshTokenInBroker","ATByRTInBroker"],["acquireTokenByBroker","ATByBroker"],[Qm,"RTClientExecTReq"],[Ym,"RTClientAT"],[Jm,"RTClientATWithCachedRT"],[Xm,"RTClientATByRT"],[Zm,"RTClientCreateTReqBody"],[eg,"ATFromCache"],[tg,"SltFlowClientATCached"],[ng,"SltFlowClientGenResFromCache"],[rg,"ATBySltIframe"],[og,"InitBaseReq"],[ag,"InitSltReq"],[ig,"InitClientApplication"],[sg,"SIClientTHelper"],[cg,"SHandlerInitAuthReq"],[lg,"SltHandlerMonitorIframeForHash"],[ug,"SHandlerLoadFrame"],[dg,"SHandlerLoadFrameSync"],[hg,"StdIntClientCreateAuthCodeClient"],[fg,"StdIntClientGetClientConf"],[pg,"StdIntClientInitAuthReq"],[mg,"StdIntClientInitAuthCodeReq"],[gg,"GetAuthCodeUrl"],[yg,"HandleCodeResFromServer"],[vg,"HandleCodeResp"],[bg,"UpdTEndpointAuth"],[wg,"AuthClientAT"],[Cg,"AuthClientExecTReq"],[kg,"AuthClientCreateTReqBody"],[Sg,"AuthClientCreateQueryStr"],[xg,"PopTGenCnf"],[Tg,"PopTGenKid"],[Ig,"HandleServerTRes"],[Eg,"DeserializeRes"],[Ag,"AuthFactCreateDiscInst"],[Ng,"AuthResolveEndpointsAsync"],["authorityResolveEndpointsFromLocalSources","AuthResolveEndpointsFromLocal"],[_g,"AuthGetCDMetaFromNet"],[Rg,"AuthUpdCDMeta"],[Pg,"AuthUpdCDMetaFromNet"],[Og,"AuthUpdEndpointMeta"],[Mg,"AuthUpdMetaWithRegInfo"],[jg,"RegDiscDetectReg"],[Lg,"RegDiscGetRegFromIMDS"],[Dg,"RegDiscGetCurrentVer"],[qg,"ATByCodeAsync"],["getEndpointMetadataFromNetwork","GetEndpointMetaFromNet"],["getCloudDiscoveryMetadataFromNetworkMeasurement","GetCDMetaFromNet"],[Fg,"HandleRedirectPromise"],[Hg,"HandleNtvRedirectPromise"],["updateCloudDiscoveryMetadataMeasurement","UpdateCDMeta"],["usernamePasswordClientAcquireToken","UserPassClientAT"],[Ug,"NtvMsgHandlerHandshake"],["nativeGenerateAuthResult","NtvGenAuthRes"],[zg,"RemoveHiddenIframe"],[Bg,"ClearTAndKeysWithClaims"],[$g,"CacheManagerGetRT"],[Kg,"GenPkceCodes"],[Wg,"GenCodeVerifier"],[Vg,"GenCodeChallengeFromVerifier"],[Gg,"Sha256Digest"],[Qg,"GetRandomValues"]]),1);new Set(["accessTokenSize","durationMs","idTokenSize","matsSilentStatus","matsHttpStatus","refreshTokenSize","queuedTimeMs","startTimeMs","status","multiMatchedAT","multiMatchedID","multiMatchedRT"]);class Jg{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class Xg{generateId(){return"callback-id"}startMeasurement(e,t){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:Yg,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:t||""},measurement:new Jg}}startPerformanceMeasurement(){return new Jg}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}const Zg="invalid_grant",ey=483,ty=600,ny="msal",ry=30,oy="msal.js.browser",ay="53ee284d-920a-4b59-9d30-a60315b26836",iy="ppnbnpeolgkicgegkbkbjmhlideopiji",sy="MATS",cy="Handshake",ly="HandshakeResponse",uy="GetToken",dy="Response",hy="localStorage",fy="sessionStorage",py="memoryStorage",my="GET",gy="POST",yy="authority",vy="request.state",by="nonce.id_token",wy="request.origin",Cy="urlHash",ky="request.params",Sy="interaction.status",xy="ccs.credential",Ty="request.correlationId",Iy="request.native",Ey="msal.account.keys",Ay="msal.token.keys",Ny="wrapper.sku",_y="wrapper.version",Ry=861,Py=862,Oy=863,My=865,jy=866,Ly=61,Dy=961,qy=962;var Fy;!function(e){e.Redirect="redirect",e.Popup="popup",e.Silent="silent",e.None="none"}(Fy||(Fy={}));const Hy={scopes:Fd},Uy="msal.db",zy=`${Uy}.keys`,By=0,$y=1,Ky=2,Wy=3,Vy=4,Gy=5,Qy=[By,Gy,Vy];class Yy{navigateInternal(e,t){return Yy.defaultNavigateWindow(e,t)}navigateExternal(e,t){return Yy.defaultNavigateWindow(e,t)}static defaultNavigateWindow(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise((e=>{setTimeout((()=>{e(!0)}),t.timeout)}))}}const Jy="pkce_not_created",Xy="crypto_nonexistent",Zy="empty_navigate_uri",ev="hash_empty_error",tv="no_state_in_hash",nv="hash_does_not_contain_known_properties",rv="unable_to_parse_state",ov="state_interaction_type_mismatch",av="interaction_in_progress",iv="popup_window_error",sv="empty_window_error",cv="user_cancelled",lv="monitor_popup_timeout",uv="monitor_window_timeout",dv="redirect_in_iframe",hv="block_iframe_reload",fv="block_nested_popups",pv="iframe_closed_prematurely",mv="silent_logout_unsupported",gv="no_account_error",yv="silent_prompt_value_error",vv="no_token_request_cache_error",bv="unable_to_parse_token_request_cache_error",wv="no_cached_authority_error",Cv="auth_request_not_set_error",kv="invalid_cache_type",Sv="non_browser_environment",xv="database_not_open",Tv="no_network_connectivity",Iv="post_request_failed",Ev="get_request_failed",Av="failed_to_parse_response",Nv="unable_to_load_token",_v="crypto_key_not_found",Rv="auth_code_required",Pv="auth_code_or_nativeAccountId_required",Ov="spa_code_and_nativeAccountId_present",Mv="database_unavailable",jv="unable_to_acquire_token_from_native_platform",Lv="native_handshake_timeout",Dv="native_extension_not_installed",qv="native_connection_not_established",Fv="uninitialized_public_client_application",Hv="native_prompt_not_supported",Uv="invalid_base64_string",zv="invalid_pop_token_request",Bv="For more visit: aka.ms/msaljs/browser-errors",$v={[Jy]:"The PKCE code challenge and verifier could not be generated.",[Xy]:"The crypto object or function is not available.",[Zy]:"Navigation URI is empty. Please check stack trace for more info.",[ev]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${Bv}`,[tv]:"Hash does not contain state. Please verify that the request originated from msal.",[nv]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${Bv}`,[rv]:"Unable to parse state. Please verify that the request originated from msal.",[ov]:"Hash contains state but the interaction type does not match the caller.",[av]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${Bv}`,[iv]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[sv]:"window.open returned null or undefined window object.",[cv]:"User cancelled the flow.",[lv]:`Token acquisition in popup failed due to timeout.  ${Bv}`,[uv]:`Token acquisition in iframe failed due to timeout.  ${Bv}`,[dv]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[hv]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${Bv}`,[fv]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[pv]:"The iframe being monitored was closed prematurely.",[mv]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[gv]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[yv]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[vv]:"No token request found in cache.",[bv]:"The cached token request could not be parsed.",[wv]:"No cached authority found.",[Cv]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[kv]:"Invalid cache type",[Sv]:"Login and token requests are not supported in non-browser environments.",[xv]:"Database is not open!",[Tv]:"No network connectivity. Check your internet connection.",[Iv]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[Ev]:"Network request failed. Please check the network trace to determine root cause.",[Av]:"Failed to parse network response. Check network trace.",[Nv]:"Error loading token to cache.",[_v]:"Cryptographic Key or Keypair not found in browser storage.",[Rv]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[Pv]:"An authorization code or nativeAccountId must be provided to this flow.",[Ov]:"Request cannot contain both spa code and native account id.",[Mv]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[jv]:`Unable to acquire token from native platform.  ${Bv}`,[Lv]:"Timed out while attempting to establish connection to browser extension",[Dv]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[qv]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${Bv}`,[Fv]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${Bv}`,[Hv]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[Uv]:"Invalid base64 encoded string.",[zv]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true."};class Kv extends nf{constructor(e){super(e,$v[e]),Object.setPrototypeOf(this,Kv.prototype),this.name="BrowserAuthError"}}function Wv(e){return new Kv(e)}class Vv{async sendGetRequestAsync(e,t){let n;try{n=await fetch(e,{method:my,headers:this.getFetchHeaders(t)})}catch(YC){throw window.navigator.onLine?Wv(Ev):Wv(Tv)}try{return{headers:this.getHeaderDict(n.headers),body:await n.json(),status:n.status}}catch(YC){throw Wv(Av)}}async sendPostRequestAsync(e,t){const n=t&&t.body||Md.EMPTY_STRING;let r;try{r=await fetch(e,{method:gy,headers:this.getFetchHeaders(t),body:n})}catch(YC){throw window.navigator.onLine?Wv(Iv):Wv(Tv)}try{return{headers:this.getHeaderDict(r.headers),body:await r.json(),status:r.status}}catch(YC){throw Wv(Av)}}getFetchHeaders(e){const t=new Headers;if(!e||!e.headers)return t;const n=e.headers;return Object.keys(n).forEach((e=>{t.append(e,n[e])})),t}getHeaderDict(e){const t={};return e.forEach(((e,n)=>{t[n]=e})),t}}const Gv=1e4;const Qv="3.26.1";class Yv{static loggerCallback(e,t){switch(e){case Gh.Error:return void console.error(t);case Gh.Info:return void console.info(t);case Gh.Verbose:return void console.debug(t);case Gh.Warning:return void console.warn(t);default:return void console.log(t)}}constructor(e){let t;this.browserEnvironment="undefined"!==typeof window,this.config=function(e,t){let{auth:n,cache:r,system:o,telemetry:a}=e;const i={clientId:Md.EMPTY_STRING,authority:`${Md.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:Md.EMPTY_STRING,authorityMetadata:Md.EMPTY_STRING,redirectUri:Md.EMPTY_STRING,postLogoutRedirectUri:Md.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:Yh,OIDCOptions:{serverResponseType:ih.FRAGMENT,defaultScopes:[Md.OPENID_SCOPE,Md.PROFILE_SCOPE,Md.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:Xh,tenant:Md.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1},s={cacheLocation:fy,temporaryCacheLocation:fy,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!(!r||r.cacheLocation!==hy),claimsBasedCachingEnabled:!1},c={loggerCallback:()=>{},logLevel:Gh.Info,piiLoggingEnabled:!1},l={...{...wm,loggerOptions:c,networkClient:t?new Vv:Nm,navigationClient:new Yy,loadFrameTimeout:0,windowHashTimeout:o?.loadFrameTimeout||6e4,iframeHashTimeout:o?.loadFrameTimeout||Gv,navigateFrameWait:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1,allowNativeBroker:!1,nativeBrokerHandshakeTimeout:o?.nativeBrokerHandshakeTimeout||2e3,pollIntervalMilliseconds:ry},...o,loggerOptions:o?.loggerOptions||c},u={application:{appName:Md.EMPTY_STRING,appVersion:Md.EMPTY_STRING},client:new Xg};n?.protocolMode!==Jh&&n?.OIDCOptions&&new Qh(l.loggerOptions).warning(JSON.stringify(Wp(Up)));if(n?.protocolMode&&n.protocolMode!==Yh&&l?.allowNativeBroker)throw Wp(zp);return{auth:{...i,...n,OIDCOptions:{...i.OIDCOptions,...n?.OIDCOptions}},cache:{...s,...r},system:l,telemetry:{...u,...a}}}(e,this.browserEnvironment);try{t=window[fy]}catch(YC){}const n=t?.getItem("msal.browser.log.level"),r=t?.getItem("msal.browser.log.pii")?.toLowerCase(),o="true"===r||"false"!==r&&void 0,a={...this.config.system.loggerOptions},i=n&&Object.keys(Gh).includes(n)?Gh[n]:void 0;i&&(a.loggerCallback=Yv.loggerCallback,a.logLevel=i),void 0!==o&&(a.piiLoggingEnabled=o),this.logger=new Qh(a,"@azure/msal-browser",Qv),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}class Jv extends Yv{getModuleName(){return Jv.MODULE_NAME}getId(){return Jv.ID}async initialize(){return this.available="undefined"!==typeof window,this.available}}Jv.MODULE_NAME="",Jv.ID="StandardOperatingContext";const Xv="missing_kid_error",Zv="missing_alg_error",eb={[Xv]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[Zv]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class tb extends nf{constructor(e,t){super(e,t),this.name="JoseHeaderError",Object.setPrototypeOf(this,tb.prototype)}}function nb(e){return new tb(e,eb[e])}class rb{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw nb(Xv);if(!e.alg)throw nb(Zv);const t=new rb({typ:e.typ||Vh,kid:e.kid,alg:e.alg});return JSON.stringify(t)}}function ob(e){return encodeURIComponent(ib(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function ab(e){return sb(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ib(e){return sb((new TextEncoder).encode(e))}function sb(e){const t=Array.from(e,(e=>String.fromCodePoint(e))).join("");return btoa(t)}function cb(e){return(new TextDecoder).decode(function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Wv(Uv)}const n=atob(t);return Uint8Array.from(n,(e=>e.codePointAt(0)||0))}(e))}const lb="SHA-256",ub=new Uint8Array([1,0,1]),db="0123456789abcdef",hb=new Uint32Array(1),fb={name:"RSASSA-PKCS1-v1_5",hash:lb,modulusLength:2048,publicExponent:ub};async function pb(e,t,n){t?.addQueueMeasurement(Gg,n);const r=(new TextEncoder).encode(e);return window.crypto.subtle.digest(lb,r)}function mb(e){return window.crypto.getRandomValues(e)}function gb(){return window.crypto.getRandomValues(hb),hb[0]}function yb(){const e=Date.now(),t=1024*gb()+(1023&gb()),n=new Uint8Array(16),r=Math.trunc(t/2**30),o=t&2**30-1,a=gb();n[0]=e/2**40,n[1]=e/2**32,n[2]=e/2**24,n[3]=e/65536,n[4]=e/256,n[5]=e,n[6]=112|r>>>8,n[7]=r,n[8]=128|o>>>24,n[9]=o>>>16,n[10]=o>>>8,n[11]=o,n[12]=a>>>24,n[13]=a>>>16,n[14]=a>>>8,n[15]=a;let i="";for(let s=0;s<n.length;s++)i+=db.charAt(n[s]>>>4),i+=db.charAt(15&n[s]),3!==s&&5!==s&&7!==s&&9!==s||(i+="-");return i}async function vb(e){return window.crypto.subtle.exportKey("jwk",e)}async function bb(e){const t=await pb(e);return ab(new Uint8Array(t))}class wb{constructor(){this.dbName=Uy,this.version=1,this.tableName=zy,this.dbOpen=!1}async open(){return new Promise(((e,t)=>{const n=window.indexedDB.open(this.dbName,this.version);n.addEventListener("upgradeneeded",(e=>{e.target.result.createObjectStore(this.tableName)})),n.addEventListener("success",(t=>{const n=t;this.db=n.target.result,this.dbOpen=!0,e()})),n.addEventListener("error",(()=>t(Wv(Mv))))}))}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(Wv(xv));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);r.addEventListener("success",(e=>{const n=e;this.closeConnection(),t(n.target.result)})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async setItem(e,t){return await this.validateDbIsOpen(),new Promise(((n,r)=>{if(!this.db)return r(Wv(xv));const o=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(t,e);o.addEventListener("success",(()=>{this.closeConnection(),n()})),o.addEventListener("error",(e=>{this.closeConnection(),r(e)}))}))}async removeItem(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(Wv(xv));const r=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);r.addEventListener("success",(()=>{this.closeConnection(),t()})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async getKeys(){return await this.validateDbIsOpen(),new Promise(((e,t)=>{if(!this.db)return t(Wv(xv));const n=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();n.addEventListener("success",(t=>{const n=t;this.closeConnection(),e(n.target.result)})),n.addEventListener("error",(e=>{this.closeConnection(),t(e)}))}))}async containsKey(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(Wv(xv));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);r.addEventListener("success",(e=>{const n=e;this.closeConnection(),t(1===n.target.result)})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise(((e,t)=>{const n=window.indexedDB.deleteDatabase(Uy),r=setTimeout((()=>t(!1)),200);n.addEventListener("success",(()=>(clearTimeout(r),e(!0)))),n.addEventListener("blocked",(()=>(clearTimeout(r),e(!0)))),n.addEventListener("error",(()=>(clearTimeout(r),t(!1))))}))}}class Cb{constructor(){this.cache=new Map}getItem(e){return this.cache.get(e)||null}setItem(e,t){this.cache.set(e,t)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach(((t,n)=>{e.push(n)})),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}}class kb{constructor(e){this.inMemoryCache=new Cb,this.indexedDBCache=new wb,this.logger=e}handleDatabaseAccessError(e){if(!(e instanceof Kv&&e.errorCode===Mv))throw e;this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")}async getItem(e){const t=this.inMemoryCache.getItem(e);if(!t)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(YC){this.handleDatabaseAccessError(YC)}return t}async setItem(e,t){this.inMemoryCache.setItem(e,t);try{await this.indexedDBCache.setItem(e,t)}catch(YC){this.handleDatabaseAccessError(YC)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(YC){this.handleDatabaseAccessError(YC)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(0===e.length)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(YC){this.handleDatabaseAccessError(YC)}return e}async containsKey(e){const t=this.inMemoryCache.containsKey(e);if(!t)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(YC){this.handleDatabaseAccessError(YC)}return t}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(YC){return this.handleDatabaseAccessError(YC),!1}}}class Sb{constructor(e,t){this.logger=e,function(e){if(!("crypto"in window))throw e.error("BrowserCrypto: crypto interface is unavailable"),Wv(Xy);e.verbose("BrowserCrypto: modern crypto interface available")}(e),this.cache=new kb(this.logger),this.performanceClient=t}createNewGuid(){return yb()}base64Encode(e){return ib(e)}base64Decode(e){return cb(e)}base64UrlEncode(e){return ob(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){const t=this.performanceClient?.startMeasurement(Dm,e.correlationId),n=await async function(e,t){return window.crypto.subtle.generateKey(fb,e,t)}(Sb.EXTRACTABLE,Sb.POP_KEY_USAGES),r=await vb(n.publicKey),o=xb({e:r.e,kty:r.kty,n:r.n}),a=await this.hashString(o),i=await vb(n.privateKey),s=await async function(e,t,n){return window.crypto.subtle.importKey("jwk",e,fb,t,n)}(i,!1,["sign"]);return await this.cache.setItem(a,{privateKey:s,publicKey:n.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),t&&t.end({success:!0}),a}async removeTokenBindingKey(e){await this.cache.removeItem(e);return!await this.cache.containsKey(e)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(YC){return YC instanceof Error?this.logger.error(`Clearing keystore failed with error: ${YC.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,t,n,r){const o=this.performanceClient?.startMeasurement(qm,r),a=await this.cache.getItem(t);if(!a)throw Wv(_v);const i=await vb(a.publicKey),s=xb(i),c=ob(JSON.stringify({kid:t})),l=ob(rb.getShrHeaderString({...n?.header,alg:i.alg,kid:c}));e.cnf={jwk:JSON.parse(s)};const u=`${l}.${ob(JSON.stringify(e))}`,d=(new TextEncoder).encode(u),h=await async function(e,t){return window.crypto.subtle.sign(fb,e,t)}(a.privateKey,d),f=`${u}.${ab(new Uint8Array(h))}`;return o&&o.end({success:!0}),f}async hashString(e){return bb(e)}}function xb(e){return JSON.stringify(e,Object.keys(e).sort())}Sb.POP_KEY_USAGES=["sign","verify"],Sb.EXTRACTABLE=!0;const Tb=(e,t,n,r,o)=>function(){n.trace(`Executing function ${t}`);const a=r?.startMeasurement(t,o);if(o){const e=t+"CallCount";r?.incrementFields({[e]:1},o)}try{const r=e(...arguments);return a?.end({success:!0}),n.trace(`Returning result from ${t}`),r}catch(YC){n.trace(`Error occurred in ${t}`);try{n.trace(JSON.stringify(YC))}catch(YC){n.trace("Unable to print error message.")}throw a?.end({success:!1},YC),YC}},Ib=(e,t,n,r,o)=>function(){n.trace(`Executing function ${t}`);const a=r?.startMeasurement(t,o);if(o){const e=t+"CallCount";r?.incrementFields({[e]:1},o)}return r?.setPreQueueTime(t,o),e(...arguments).then((e=>(n.trace(`Returning result from ${t}`),a?.end({success:!0}),e))).catch((e=>{n.trace(`Error occurred in ${t}`);try{n.trace(JSON.stringify(e))}catch(e){n.trace("Unable to print error message.")}throw a?.end({success:!1},e),e}))};class Eb{constructor(e,t,n,r){this.networkInterface=e,this.logger=t,this.performanceClient=n,this.correlationId=r}async detectRegion(e,t){this.performanceClient?.addQueueMeasurement(jg,this.correlationId);let n=e;if(n)t.region_source=Dh;else{const e=Eb.IMDS_OPTIONS;try{const r=await Ib(this.getRegionFromIMDS.bind(this),Lg,this.logger,this.performanceClient,this.correlationId)(Md.IMDS_VERSION,e);if(r.status===Mh&&(n=r.body,t.region_source=qh),r.status===jh){const r=await Ib(this.getCurrentVersion.bind(this),Dg,this.logger,this.performanceClient,this.correlationId)(e);if(!r)return t.region_source=Lh,null;const o=await Ib(this.getRegionFromIMDS.bind(this),Lg,this.logger,this.performanceClient,this.correlationId)(r,e);o.status===Mh&&(n=o.body,t.region_source=qh)}}catch(YC){return t.region_source=Lh,null}}return n||(t.region_source=Lh),n||null}async getRegionFromIMDS(e,t){return this.performanceClient?.addQueueMeasurement(Lg,this.correlationId),this.networkInterface.sendGetRequestAsync(`${Md.IMDS_ENDPOINT}?api-version=${e}&format=text`,t,Md.IMDS_TIMEOUT)}async getCurrentVersion(e){this.performanceClient?.addQueueMeasurement(Dg,this.correlationId);try{const t=await this.networkInterface.sendGetRequestAsync(`${Md.IMDS_ENDPOINT}?format=json`,e);return t.status===jh&&t.body&&t.body["newest-versions"]&&t.body["newest-versions"].length>0?t.body["newest-versions"][0]:null}catch(YC){return null}}}Eb.IMDS_OPTIONS={headers:{Metadata:"true"}};class Ab{constructor(e,t,n,r,o,a,i,s){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=n,this.authorityOptions=r,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=i,this.correlationId=a,this.managedIdentity=s||!1,this.regionDiscovery=new Eb(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(Md.CIAM_AUTH_URL))return rm;const t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case Md.ADFS:return tm;case Md.DSTS:return nm}return em}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new cm(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw Jf(lf)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw Jf(lf)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw Jf(lf)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw Jf(zf);return this.replacePath(this.metadata.end_session_endpoint)}throw Jf(lf)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw Jf(lf)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw Jf(lf)}canReplaceTenant(e){return 1===e.PathSegments.length&&!Ab.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===em&&this.protocolMode===Yh}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e;const n=new cm(this.metadata.canonical_authority).getUrlComponents(),r=n.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach(((e,o)=>{let a=r[o];if(0===o&&this.canReplaceTenant(n)){const e=new cm(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];a!==e&&(this.logger.verbose(`Replacing tenant domain name ${a} with id ${e}`),a=e)}e!==a&&(t=t.replace(`/${a}/`,`/${e}/`))})),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===tm||this.protocolMode!==Yh&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){this.performanceClient?.addQueueMeasurement(Ng,this.correlationId);const e=this.getCurrentMetadataEntity(),t=await Ib(this.updateCloudDiscoveryMetadata.bind(this),Rg,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const n=await Ib(this.updateEndpointMetadata.bind(this),Og,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,t,{source:n}),this.performanceClient?.addFields({cloudDiscoverySource:t,authorityEndpointSource:n},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:vp(),jwks_uri:""}),e}updateCachedMetadata(e,t,n){t!==Ch&&n?.source!==Ch&&(e.expiresAt=vp(),e.canonical_authority=this.canonicalAuthority);const r=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(r,e),this.metadata=e}async updateEndpointMetadata(e){this.performanceClient?.addQueueMeasurement(Og,this.correlationId);const t=this.updateEndpointMetadataFromLocalSources(e);if(t){if(t.source===Sh&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&t.metadata){bp(e,await Ib(this.updateMetadataWithRegionalInformation.bind(this),Mg,this.logger,this.performanceClient,this.correlationId)(t.metadata),!1),e.canonical_authority=this.canonicalAuthority}return t.source}let n=await Ib(this.getEndpointMetadataFromNetwork.bind(this),Pg,this.logger,this.performanceClient,this.correlationId)();if(n)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(n=await Ib(this.updateMetadataWithRegionalInformation.bind(this),Mg,this.logger,this.performanceClient,this.correlationId)(n)),bp(e,n,!0),kh;throw Jf(df,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),bp(e,t,!1),{source:wh};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const t=this.getEndpointMetadataFromHardcodedValues();if(t)return bp(e,t,!1),{source:Sh,metadata:t};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const n=Cp(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!n?(this.logger.verbose("Found endpoint metadata in the cache."),{source:Ch}):(n&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new cm(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(YC){throw Wp(jp)}return null}async getEndpointMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(Pg,this.correlationId);const e={},t=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${t}`);try{const n=await this.networkInterface.sendGetRequestAsync(t,e),r=function(e){return e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("jwks_uri")}(n.body);return r?n.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(YC){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${YC}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in lm?lm[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){this.performanceClient?.addQueueMeasurement(Mg,this.correlationId);const t=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(t){if(t!==Md.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=Fh,this.regionDiscoveryMetadata.region_used=t,Ab.replaceWithRegionalInformation(e,t);const n=await Ib(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),jg,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(n)return this.regionDiscoveryMetadata.region_outcome=Hh,this.regionDiscoveryMetadata.region_used=n,Ab.replaceWithRegionalInformation(e,n);this.regionDiscoveryMetadata.region_outcome=Uh}return e}async updateCloudDiscoveryMetadata(e){this.performanceClient?.addQueueMeasurement(Rg,this.correlationId);const t=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(t)return t;const n=await Ib(this.getCloudDiscoveryMetadataFromNetwork.bind(this),_g,this.logger,this.performanceClient,this.correlationId)();if(n)return wp(e,n,!0),kh;throw Wp(Lp)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||Md.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||Md.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||Md.NOT_APPLICABLE}`);const t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),wp(e,t,!1),wh;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const t=(n=this.hostnameAndPort,fm(um.metadata,n));if(t)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),wp(e,t,!1),Sh;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}var n;const r=Cp(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),Ch):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===rm)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),Ab.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=fm(JSON.parse(this.authorityOptions.cloudDiscoveryMetadata).metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),e)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),e;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch(YC){throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),Wp(Mp)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),Ab.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(_g,this.correlationId);const e=`${Md.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,t={};let n=null;try{const r=await this.networkInterface.sendGetRequestAsync(e,t);let o,a;if(function(e){return e.hasOwnProperty("tenant_discovery_endpoint")&&e.hasOwnProperty("metadata")}(r.body))o=r.body,a=o.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${o.tenant_discovery_endpoint}`);else{if(!function(e){return e.hasOwnProperty("error")&&e.hasOwnProperty("error_description")}(r.body))return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${r.status}`),o=r.body,o.error===Md.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${o.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${o.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),a=[]}this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),n=fm(a,this.hostnameAndPort)}catch(r){if(r instanceof nf)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.\nError: ${r.errorCode}\nError Description: ${r.errorMessage}`);else{const e=r;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.\nError: ${e.name}\nError Description: ${e.message}`)}return null}return n||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),n=Ab.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),n}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter((e=>e&&cm.getDomainFromUrl(e).toLowerCase()===this.hostnameAndPort)).length>0}static generateAuthority(e,t){let n;if(t&&t.azureCloudInstance!==Xh){const e=t.tenant?t.tenant:Md.DEFAULT_COMMON_TENANT;n=`${t.azureCloudInstance}/${e}/`}return n||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return Md.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw Jf(lf)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return dm.has(e)}static isPublicCloudAuthority(e){return Md.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,n){const r=new cm(e);r.validateAsUri();const o=r.getUrlComponents();let a=`${t}.${o.HostNameAndPort}`;this.isPublicCloudAuthority(o.HostNameAndPort)&&(a=`${t}.${Md.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const i=cm.constructAuthorityUriFromObject({...r.getUrlComponents(),HostNameAndPort:a}).urlString;return n?`${i}?${n}`:i}static replaceWithRegionalInformation(e,t){const n={...e};return n.authorization_endpoint=Ab.buildRegionalAuthorityString(n.authorization_endpoint,t),n.token_endpoint=Ab.buildRegionalAuthorityString(n.token_endpoint,t),n.end_session_endpoint&&(n.end_session_endpoint=Ab.buildRegionalAuthorityString(n.end_session_endpoint,t)),n}static transformCIAMAuthority(e){let t=e;const n=new cm(e).getUrlComponents();if(0===n.PathSegments.length&&n.HostNameAndPort.endsWith(Md.CIAM_AUTH_URL)){t=`${t}${n.HostNameAndPort.split(".")[0]}${Md.AAD_TENANT_DOMAIN_SUFFIX}`}return t}}function Nb(e){return e.endsWith(Md.FORWARD_SLASH)?e:`${e}${Md.FORWARD_SLASH}`}Ab.reservedTenantDomains=new Set(["{tenant}","{tenantid}",Zd,th,eh]);const _b="no_tokens_found",Rb="native_account_unavailable",Pb="refresh_token_expired",Ob="bad_token",Mb=["interaction_required","consent_required","login_required",Ob],jb=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],Lb={[_b]:"No refresh token found in the cache. Please sign-in.",[Rb]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[Pb]:"Refresh token has expired.",[Ob]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."};class Db extends nf{constructor(e,t,n,r,o,a,i,s){super(e,t,n),Object.setPrototypeOf(this,Db.prototype),this.timestamp=r||Md.EMPTY_STRING,this.traceId=o||Md.EMPTY_STRING,this.correlationId=a||Md.EMPTY_STRING,this.claims=i||Md.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=s}}function qb(e,t,n){const r=!!e&&Mb.indexOf(e)>-1,o=!!n&&jb.indexOf(n)>-1,a=!!t&&Mb.some((e=>t.indexOf(e)>-1));return r||a||o}function Fb(e){return new Db(e,Lb[e])}class Hb{static setRequestState(e,t,n){const r=Hb.generateLibraryState(e,n);return t?`${r}${Md.RESOURCE_DELIM}${t}`:r}static generateLibraryState(e,t){if(!e)throw Jf(Of);const n={id:e.createNewGuid()};t&&(n.meta=t);const r=JSON.stringify(n);return e.base64Encode(r)}static parseRequestState(e,t){if(!e)throw Jf(Of);if(!t)throw Jf(ff);try{const n=t.split(Md.RESOURCE_DELIM),r=n[0],o=n.length>1?n.slice(1).join(Md.RESOURCE_DELIM):Md.EMPTY_STRING,a=e.base64Decode(r),i=JSON.parse(a);return{userRequestState:o||Md.EMPTY_STRING,libraryState:i}}catch(YC){throw Jf(ff)}}}const Ub="home_account_id",zb="UPN",Bb="storage_not_supported",$b="stubbed_public_client_application_called",Kb="in_mem_redirect_unavailable",Wb={[Bb]:"Given storage configuration option was not supported.",[$b]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[Kb]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};class Vb extends nf{constructor(e,t){super(e,t),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,Vb.prototype)}}function Gb(e){return new Vb(e,Wb[e])}class Qb{constructor(e){this.validateWindowStorage(e),this.windowStorage=window[e]}validateWindowStorage(e){if(e!==hy&&e!==fy||!window[e])throw Gb(Bb)}getItem(e){return this.windowStorage.getItem(e)}setItem(e,t){this.windowStorage.setItem(e,t)}removeItem(e){this.windowStorage.removeItem(e)}getKeys(){return Object.keys(this.windowStorage)}containsKey(e){return this.windowStorage.hasOwnProperty(e)}}function Yb(e,t){if(!t)return null;try{return Hb.parseRequestState(e,t).libraryState.meta}catch(YC){throw Jf(ff)}}class Jb extends vm{constructor(e,t,n,r,o,a){super(e,n,r,o),this.COOKIE_LIFE_MULTIPLIER=864e5,this.cacheConfig=t,this.logger=r,this.internalStorage=new Cb,this.browserStorage=this.setupBrowserStorage(this.cacheConfig.cacheLocation),this.temporaryCacheStorage=this.setupTemporaryCacheStorage(this.cacheConfig.temporaryCacheLocation,this.cacheConfig.cacheLocation),t.cacheMigrationEnabled&&(this.migrateCacheEntries(),this.createKeyMaps()),this.performanceClient=a}setupBrowserStorage(e){switch(e){case hy:case fy:try{return new Qb(e)}catch(YC){this.logger.verbose(YC);break}}return this.cacheConfig.cacheLocation=py,new Cb}setupTemporaryCacheStorage(e,t){switch(t){case hy:case fy:try{return new Qb(e||fy)}catch(YC){return this.logger.verbose(YC),this.internalStorage}default:return this.internalStorage}}migrateCacheEntries(){const e=`${Md.CACHE_PREFIX}.${Wd}`,t=`${Md.CACHE_PREFIX}.${Vd}`,n=`${Md.CACHE_PREFIX}.${Qd}`,r=`${Md.CACHE_PREFIX}.${Yd}`,o=[this.browserStorage.getItem(e),this.browserStorage.getItem(t),this.browserStorage.getItem(n),this.browserStorage.getItem(r)];[Wd,Vd,Qd,Yd].forEach(((e,t)=>{const n=o[t];n&&this.setTemporaryCache(e,n,!0)}))}createKeyMaps(){this.logger.trace("BrowserCacheManager - createKeyMaps called.");const e=this.getItem(Ey),t=this.getItem(`${Ay}.${this.clientId}`);if(e&&t)return void this.logger.verbose("BrowserCacheManager:createKeyMaps - account and token key maps already exist, skipping migration.");this.browserStorage.getKeys().forEach((e=>{if(this.isCredentialKey(e)){const t=this.getItem(e);if(t){const n=this.validateAndParseJson(t);if(n&&n.hasOwnProperty("credentialType"))switch(n.credentialType){case mh.ID_TOKEN:if(dp(n)){this.logger.trace("BrowserCacheManager:createKeyMaps - idToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - idToken with key: ${e} found, saving key to token key map`);const t=n,r=this.updateCredentialCacheKey(e,t);return void this.addTokenKey(r,mh.ID_TOKEN)}this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching idToken schema with value containing idToken credentialType field but value failed IdTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed idToken validation on key: ${e}`);break;case mh.ACCESS_TOKEN:case mh.ACCESS_TOKEN_WITH_AUTH_SCHEME:if(up(n)){this.logger.trace("BrowserCacheManager:createKeyMaps - accessToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - accessToken with key: ${e} found, saving key to token key map`);const t=n,r=this.updateCredentialCacheKey(e,t);return void this.addTokenKey(r,mh.ACCESS_TOKEN)}this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching accessToken schema with value containing accessToken credentialType field but value failed AccessTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed accessToken validation on key: ${e}`);break;case mh.REFRESH_TOKEN:if(hp(n)){this.logger.trace("BrowserCacheManager:createKeyMaps - refreshToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - refreshToken with key: ${e} found, saving key to token key map`);const t=n,r=this.updateCredentialCacheKey(e,t);return void this.addTokenKey(r,mh.REFRESH_TOKEN)}this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching refreshToken schema with value containing refreshToken credentialType field but value failed RefreshTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed refreshToken validation on key: ${e}`)}}}if(this.isAccountKey(e)){const t=this.getItem(e);if(t){const n=this.validateAndParseJson(t);n&&am.isAccountEntity(n)&&(this.logger.trace("BrowserCacheManager:createKeyMaps - account found, saving key to account key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - account with key: ${e} found, saving key to account key map`),this.addAccountKeyToMap(e))}}}))}validateAndParseJson(e){try{const t=JSON.parse(e);return t&&"object"===typeof t?t:null}catch(t){return null}}getItem(e){return this.browserStorage.getItem(e)}setItem(e,t){this.browserStorage.setItem(e,t)}getAccount(e,t){this.logger.trace("BrowserCacheManager.getAccount called");const n=this.getCachedAccountEntity(e);return this.updateOutdatedCachedAccount(e,n,t)}getCachedAccountEntity(e){const t=this.getItem(e);if(!t)return this.removeAccountKeyFromMap(e),null;const n=this.validateAndParseJson(t);return n&&am.isAccountEntity(n)?vm.toObject(new am,n):(this.removeAccountKeyFromMap(e),null)}setAccount(e){this.logger.trace("BrowserCacheManager.setAccount called");const t=e.generateAccountKey();this.setItem(t,JSON.stringify(e)),this.addAccountKeyToMap(t)}getAccountKeys(){this.logger.trace("BrowserCacheManager.getAccountKeys called");const e=this.getItem(Ey);return e?JSON.parse(e):(this.logger.verbose("BrowserCacheManager.getAccountKeys - No account keys found"),[])}addAccountKeyToMap(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const t=this.getAccountKeys();-1===t.indexOf(e)?(t.push(e),this.setItem(Ey,JSON.stringify(t)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added")):this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map")}removeAccountKeyFromMap(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const t=this.getAccountKeys(),n=t.indexOf(e);n>-1?(t.splice(n,1),this.setItem(Ey,JSON.stringify(t)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}async removeAccount(e){super.removeAccount(e),this.removeAccountKeyFromMap(e)}removeOutdatedAccount(e){this.removeItem(e),this.removeAccountKeyFromMap(e)}removeIdToken(e){super.removeIdToken(e),this.removeTokenKey(e,mh.ID_TOKEN)}async removeAccessToken(e){super.removeAccessToken(e),this.removeTokenKey(e,mh.ACCESS_TOKEN)}removeRefreshToken(e){super.removeRefreshToken(e),this.removeTokenKey(e,mh.REFRESH_TOKEN)}getTokenKeys(){this.logger.trace("BrowserCacheManager.getTokenKeys called");const e=this.getItem(`${Ay}.${this.clientId}`);if(e){const t=this.validateAndParseJson(e);if(t&&t.hasOwnProperty("idToken")&&t.hasOwnProperty("accessToken")&&t.hasOwnProperty("refreshToken"))return t;this.logger.error("BrowserCacheManager.getTokenKeys - Token keys found but in an unknown format. Returning empty key map.")}else this.logger.verbose("BrowserCacheManager.getTokenKeys - No token keys found");return{idToken:[],accessToken:[],refreshToken:[]}}addTokenKey(e,t){this.logger.trace("BrowserCacheManager addTokenKey called");const n=this.getTokenKeys();switch(t){case mh.ID_TOKEN:-1===n.idToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),n.idToken.push(e));break;case mh.ACCESS_TOKEN:-1===n.accessToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),n.accessToken.push(e));break;case mh.REFRESH_TOKEN:-1===n.refreshToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),n.refreshToken.push(e));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${t}`),Jf(Mf)}this.setItem(`${Ay}.${this.clientId}`,JSON.stringify(n))}removeTokenKey(e,t){this.logger.trace("BrowserCacheManager removeTokenKey called");const n=this.getTokenKeys();switch(t){case mh.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${e} from map`);const r=n.idToken.indexOf(e);r>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),n.idToken.splice(r,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case mh.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${e} from map`);const o=n.accessToken.indexOf(e);o>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),n.accessToken.splice(o,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case mh.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${e} from map`);const a=n.refreshToken.indexOf(e);a>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),n.refreshToken.splice(a,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${t}`),Jf(Mf)}this.setItem(`${Ay}.${this.clientId}`,JSON.stringify(n))}getIdTokenCredential(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,mh.ID_TOKEN),null;const n=this.validateAndParseJson(t);return n&&dp(n)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,mh.ID_TOKEN),null)}setIdTokenCredential(e){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const t=ap(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,mh.ID_TOKEN)}getAccessTokenCredential(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,mh.ACCESS_TOKEN),null;const n=this.validateAndParseJson(t);return n&&up(n)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,mh.ACCESS_TOKEN),null)}setAccessTokenCredential(e){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const t=ap(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,mh.ACCESS_TOKEN)}getRefreshTokenCredential(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,mh.REFRESH_TOKEN),null;const n=this.validateAndParseJson(t);return n&&hp(n)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,mh.REFRESH_TOKEN),null)}setRefreshTokenCredential(e){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const t=ap(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,mh.REFRESH_TOKEN)}getAppMetadata(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&(r=e,(o=n)&&0===r.indexOf(gh)&&o.hasOwnProperty("clientId")&&o.hasOwnProperty("environment"))?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null);var r,o}setAppMetadata(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");const t=function(e){let{environment:t,clientId:n}=e;return[gh,t,n].join(fh).toLowerCase()}(e);this.setItem(t,JSON.stringify(e))}getServerTelemetry(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){const n=0===e.indexOf(xh.CACHE_KEY);let r=!0;return t&&(r=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),n&&r}(e,n)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),n):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)}setServerTelemetry(e,t){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(t))}getAuthorityMetadata(e){const t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){return!!t&&0===e.indexOf(vh)&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri")}(e,n)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),n):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter((e=>this.isAuthorityMetadata(e)))}setWrapperMetadata(e,t){this.internalStorage.setItem(Ny,e),this.internalStorage.setItem(_y,t)}getWrapperMetadata(){return[this.internalStorage.getItem(Ny)||Md.EMPTY_STRING,this.internalStorage.getItem(_y)||Md.EMPTY_STRING]}setAuthorityMetadata(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))}getActiveAccount(){const e=this.generateCacheKey(Xd),t=this.getItem(e);if(!t){this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters cache schema found, looking for legacy schema");const e=this.generateCacheKey(Jd),t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null;const n=this.getAccountInfoFilteredBy({localAccountId:t});return n?(this.logger.trace("BrowserCacheManager.getActiveAccount: Legacy active account cache schema found"),this.logger.trace("BrowserCacheManager.getActiveAccount: Adding active account filters cache schema"),this.setActiveAccount(n),n):null}const n=this.validateAndParseJson(t);return n?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:n.homeAccountId,localAccountId:n.localAccountId,tenantId:n.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e){const t=this.generateCacheKey(Xd),n=this.generateCacheKey(Jd);if(e){this.logger.verbose("setActiveAccount: Active account set");const r={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId};this.browserStorage.setItem(t,JSON.stringify(r)),this.browserStorage.setItem(n,e.localAccountId)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(t),this.browserStorage.removeItem(n)}getThrottlingCache(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){let n=!1;e&&(n=0===e.indexOf(Ah));let r=!0;return t&&(r=t.hasOwnProperty("throttleTime")),n&&r}(e,n)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),n):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)}setThrottlingCache(e,t){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(t))}getTemporaryCache(e,t){const n=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const e=this.getItemCookie(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),e}const r=this.temporaryCacheStorage.getItem(n);if(!r){if(this.cacheConfig.cacheLocation===hy){const e=this.browserStorage.getItem(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),e}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),r}setTemporaryCache(e,t,n){const r=n?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(r,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.setItemCookie(r,t))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.clearItemCookie(e))}getKeys(){return this.browserStorage.getKeys()}async clear(){await this.removeAllAccounts(),this.removeAppMetadata(),this.temporaryCacheStorage.getKeys().forEach((e=>{-1===e.indexOf(Md.CACHE_PREFIX)&&-1===e.indexOf(this.clientId)||this.removeTemporaryItem(e)})),this.browserStorage.getKeys().forEach((e=>{-1===e.indexOf(Md.CACHE_PREFIX)&&-1===e.indexOf(this.clientId)||this.browserStorage.removeItem(e)})),this.internalStorage.clear()}async clearTokensAndKeysWithClaims(e,t){e.addQueueMeasurement(Bg,t);const n=this.getTokenKeys(),r=[];n.accessToken.forEach((e=>{const t=this.getAccessTokenCredential(e);t?.requestedClaimsHash&&e.includes(t.requestedClaimsHash.toLowerCase())&&r.push(this.removeAccessToken(e))})),await Promise.all(r),r.length>0&&this.logger.warning(`${r.length} access tokens with claims in the cache keys have been removed from the cache.`)}setItemCookie(e,t,n){let r=`${encodeURIComponent(e)}=${encodeURIComponent(t)};path=/;SameSite=Lax;`;if(n){r+=`expires=${this.getCookieExpirationTime(n)};`}this.cacheConfig.secureCookies&&(r+="Secure;"),document.cookie=r}getItemCookie(e){const t=`${encodeURIComponent(e)}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let e=n[r];for(;" "===e.charAt(0);)e=e.substring(1);if(0===e.indexOf(t))return decodeURIComponent(e.substring(t.length,e.length))}return Md.EMPTY_STRING}clearMsalCookies(){const e=`${Md.CACHE_PREFIX}.${this.clientId}`;document.cookie.split(";").forEach((t=>{for(;" "===t.charAt(0);)t=t.substring(1);if(0===t.indexOf(e)){const e=t.split("=")[0];this.clearItemCookie(e)}}))}clearItemCookie(e){this.setItemCookie(e,Md.EMPTY_STRING,-1)}getCookieExpirationTime(e){const t=new Date;return new Date(t.getTime()+e*this.COOKIE_LIFE_MULTIPLIER).toUTCString()}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):Vp.startsWith(e,Md.CACHE_PREFIX)||Vp.startsWith(e,Gd)?e:`${Md.CACHE_PREFIX}.${this.clientId}.${e}`}generateAuthorityKey(e){const{libraryState:{id:t}}=Hb.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${yy}.${t}`)}generateNonceKey(e){const{libraryState:{id:t}}=Hb.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${by}.${t}`)}generateStateKey(e){const{libraryState:{id:t}}=Hb.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${vy}.${t}`)}getCachedAuthority(e){const t=this.generateStateKey(e),n=this.getTemporaryCache(t);if(!n)return null;const r=this.generateAuthorityKey(n);return this.getTemporaryCache(r)}updateCacheEntries(e,t,n,r,o){this.logger.trace("BrowserCacheManager.updateCacheEntries called");const a=this.generateStateKey(e);this.setTemporaryCache(a,e,!1);const i=this.generateNonceKey(e);this.setTemporaryCache(i,t,!1);const s=this.generateAuthorityKey(e);if(this.setTemporaryCache(s,n,!1),o){const e={credential:o.homeAccountId,type:Ub};this.setTemporaryCache(xy,JSON.stringify(e),!0)}else if(r){const e={credential:r,type:zb};this.setTemporaryCache(xy,JSON.stringify(e),!0)}}resetRequestCache(e){this.logger.trace("BrowserCacheManager.resetRequestCache called"),e&&(this.temporaryCacheStorage.getKeys().forEach((t=>{-1!==t.indexOf(e)&&this.removeTemporaryItem(t)})),this.removeTemporaryItem(this.generateStateKey(e)),this.removeTemporaryItem(this.generateNonceKey(e)),this.removeTemporaryItem(this.generateAuthorityKey(e))),this.removeTemporaryItem(this.generateCacheKey(ky)),this.removeTemporaryItem(this.generateCacheKey(wy)),this.removeTemporaryItem(this.generateCacheKey(Cy)),this.removeTemporaryItem(this.generateCacheKey(Ty)),this.removeTemporaryItem(this.generateCacheKey(xy)),this.removeTemporaryItem(this.generateCacheKey(Iy)),this.setInteractionInProgress(!1)}cleanRequestByState(e){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),e){const t=this.generateStateKey(e),n=this.temporaryCacheStorage.getItem(t);this.logger.infoPii(`BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: ${n}`),this.resetRequestCache(n||Md.EMPTY_STRING)}this.clearMsalCookies()}cleanRequestByInteractionType(e){this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.temporaryCacheStorage.getKeys().forEach((t=>{if(-1===t.indexOf(vy))return;const n=this.temporaryCacheStorage.getItem(t);if(!n)return;const r=Yb(this.cryptoImpl,n);r&&r.interactionType===e&&(this.logger.infoPii(`BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: ${n}`),this.resetRequestCache(n))})),this.clearMsalCookies(),this.setInteractionInProgress(!1)}cacheCodeRequest(e){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");const t=ib(JSON.stringify(e));this.setTemporaryCache(ky,t,!0)}getCachedRequest(e){this.logger.trace("BrowserCacheManager.getCachedRequest called");const t=this.getTemporaryCache(ky,!0);if(!t)throw Wv(vv);let n;try{n=JSON.parse(cb(t))}catch(YC){throw this.logger.errorPii(`Attempted to parse: ${t}`),this.logger.error(`Parsing cached token request threw with error: ${YC}`),Wv(bv)}if(this.removeTemporaryItem(this.generateCacheKey(ky)),!n.authority){const t=this.generateAuthorityKey(e),r=this.getTemporaryCache(t);if(!r)throw Wv(wv);n.authority=r}return n}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(Iy,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const t=this.validateAndParseJson(e);return t||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){const t=this.getInteractionInProgress();return e?t===this.clientId:!!t}getInteractionInProgress(){const e=`${Md.CACHE_PREFIX}.${Sy}`;return this.getTemporaryCache(e,!1)}setInteractionInProgress(e){const t=`${Md.CACHE_PREFIX}.${Sy}`;if(e){if(this.getInteractionInProgress())throw Wv(av);this.setTemporaryCache(t,this.clientId,!1)}else e||this.getInteractionInProgress()!==this.clientId||this.removeTemporaryItem(t)}getLegacyLoginHint(){const e=this.getTemporaryCache(Gd);e&&(this.browserStorage.removeItem(Gd),this.logger.verbose("Cached ADAL id token retrieved."));const t=this.getTemporaryCache(Wd,!0);t&&(this.browserStorage.removeItem(this.generateCacheKey(Wd)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));const n=t||e;if(n){const e=tp(n,cb);if(e.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),e.preferred_username;if(e.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),e.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null}updateCredentialCacheKey(e,t){const n=ap(t);if(e!==n){const r=this.getItem(e);if(r)return this.browserStorage.removeItem(e),this.setItem(n,r),this.logger.verbose(`Updated an outdated ${t.credentialType} cache key`),n;this.logger.error(`Attempted to update an outdated ${t.credentialType} cache key but no item matching the outdated key was found in storage`)}return e}async hydrateCache(e,t){const n=ip(e.account?.homeAccountId,e.account?.environment,e.idToken,this.clientId,e.tenantId);let r;t.claims&&(r=await this.cryptoImpl.hashString(t.claims));const o={idToken:n,accessToken:sp(e.account?.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?e.expiresOn.getTime()/1e3:0,e.extExpiresOn?e.extExpiresOn.getTime()/1e3:0,cb,void 0,e.tokenType,void 0,t.sshKid,t.claims,r)};return this.saveCacheRecord(o)}async saveCacheRecord(e,t,n){try{await super.saveCacheRecord(e,t,n)}catch(YC){if(YC instanceof ym&&this.performanceClient&&n)try{const e=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:e.refreshToken.length,cacheIdCount:e.idToken.length,cacheAtCount:e.accessToken.length},n)}catch(YC){}throw YC}}}function Xb(){return window.parent!==window}function Zb(){return window.location.href.split("?")[0].split("#")[0]}function ew(){if("undefined"!==typeof window&&window.opener&&window.opener!==window&&"string"===typeof window.name&&0===window.name.indexOf(`${ny}.`))throw Wv(fv)}function tw(){if("undefined"===typeof window)throw Wv(Sv)}function nw(e){if(!e)throw Wv(Fv)}function rw(e){tw(),function(){if(cm.hashContainsKnownProperties(window.location.hash)&&Xb())throw Wv(hv)}(),ew(),nw(e)}function ow(e,t){if(rw(e),function(e){if(Xb()&&!e)throw Wv(dv)}(t.system.allowRedirectInIframe),t.cache.cacheLocation===py&&!t.cache.storeAuthStateInCookie)throw Gb(Kb)}function aw(e){const t=document.createElement("link");t.rel="preconnect",t.href=new URL(e).origin,t.crossOrigin="anonymous",document.head.appendChild(t),window.setTimeout((()=>{try{document.head.removeChild(t)}catch{}}),1e4)}const iw="msal:initializeStart",sw="msal:initializeEnd",cw="msal:accountAdded",lw="msal:accountRemoved",uw="msal:activeAccountChanged",dw="msal:loginStart",hw="msal:loginSuccess",fw="msal:loginFailure",pw="msal:acquireTokenStart",mw="msal:acquireTokenSuccess",gw="msal:acquireTokenFailure",yw="msal:acquireTokenFromNetworkStart",vw="msal:ssoSilentStart",bw="msal:ssoSilentSuccess",ww="msal:ssoSilentFailure",Cw="msal:acquireTokenByCodeStart",kw="msal:acquireTokenByCodeSuccess",Sw="msal:acquireTokenByCodeFailure",xw="msal:handleRedirectStart",Tw="msal:handleRedirectEnd",Iw="msal:popupOpened",Ew="msal:logoutStart",Aw="msal:logoutSuccess",Nw="msal:logoutFailure",_w="msal:logoutEnd",Rw="msal:restoreFromBFCache";class Pw{constructor(e){this.eventCallbacks=new Map,this.logger=e||new Qh({})}addEventCallback(e,t,n){if("undefined"!==typeof window){const r=n||yb();return this.eventCallbacks.has(r)?(this.logger.error(`Event callback with id: ${r} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(r,[e,t||[]]),this.logger.verbose(`Event callback registered with id: ${r}`),r)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,t,n,r){if("undefined"!==typeof window){const o={eventType:e,interactionType:t||null,payload:n||null,error:r||null,timestamp:Date.now()};this.eventCallbacks.forEach(((t,n)=>{let[r,a]=t;(0===a.length||a.includes(e))&&(this.logger.verbose(`Emitting event to callback ${n}: ${e}`),r.apply(null,[o]))}))}}}class Ow extends nf{constructor(e,t,n,r,o){super(e,t,n),this.name="ServerError",this.errorNo=r,this.status=o,Object.setPrototypeOf(this,Ow.prototype)}}class Mw{static generateThrottlingStorageKey(e){return`${Ah}.${JSON.stringify(e)}`}static preProcess(e,t){const n=Mw.generateThrottlingStorageKey(t),r=e.getThrottlingCache(n);if(r){if(r.throttleTime<Date.now())return void e.removeItem(n);throw new Ow(r.errorCodes?.join(" ")||Md.EMPTY_STRING,r.errorMessage,r.subError)}}static postProcess(e,t,n){if(Mw.checkResponseStatus(n)||Mw.checkResponseForRetryAfter(n)){const r={throttleTime:Mw.calculateThrottleTime(parseInt(n.headers[zd])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};e.setThrottlingCache(Mw.generateThrottlingStorageKey(t),r)}}static checkResponseStatus(e){return 429===e.status||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return!!e.headers&&(e.headers.hasOwnProperty(zd)&&(e.status<200||e.status>=300))}static calculateThrottleTime(e){const t=e<=0?0:e,n=Date.now()/1e3;return Math.floor(1e3*Math.min(n+(t||Ih),n+Eh))}static removeThrottle(e,t,n,r){const o={clientId:t,authority:n.authority,scopes:n.scopes,homeAccountIdentifier:r,claims:n.claims,authenticationScheme:n.authenticationScheme,resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,sshKid:n.sshKid},a=this.generateThrottlingStorageKey(o);e.removeItem(a)}}class jw{constructor(e,t){this.networkClient=e,this.cacheManager=t}async sendPostRequest(e,t,n){let r;Mw.preProcess(this.cacheManager,e);try{r=await this.networkClient.sendPostRequestAsync(t,n)}catch(YC){throw YC instanceof nf?YC:Jf(uf)}return Mw.postProcess(this.cacheManager,e,r),r}}const Lw="client_id",Dw="response_type",qw="token_type",Fw="req_cnf",Hw="return_spa_code",Uw="x-client-xtra-sku";class zw{static validateRedirectUri(e){if(!e)throw Wp(kp)}static validatePrompt(e){const t=[];for(const n in oh)t.push(oh[n]);if(t.indexOf(e)<0)throw Wp(Ap)}static validateClaims(e){try{JSON.parse(e)}catch(YC){throw Wp(Np)}}static validateCodeChallengeParams(e,t){if(!e||!t)throw Wp(Op);this.validateCodeChallengeMethod(t)}static validateCodeChallengeMethod(e){if([ah.PLAIN,ah.S256].indexOf(e)<0)throw Wp(Pp)}}class Bw{constructor(){this.parameters=new Map}addResponseTypeCode(){this.parameters.set(Dw,encodeURIComponent(Md.CODE_RESPONSE_TYPE))}addResponseTypeForTokenAndIdToken(){this.parameters.set(Dw,encodeURIComponent(`${Md.TOKEN_RESPONSE_TYPE} ${Md.ID_TOKEN_RESPONSE_TYPE}`))}addResponseMode(e){this.parameters.set("response_mode",encodeURIComponent(e||sh.QUERY))}addNativeBroker(){this.parameters.set("nativebroker",encodeURIComponent("1"))}addScopes(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fd;!t||n.includes("openid")||e.includes("openid")||n.push("openid");const r=t?[...e||[],...n]:e||[],o=new Gp(r);this.parameters.set("scope",encodeURIComponent(o.printScopes()))}addClientId(e){this.parameters.set(Lw,encodeURIComponent(e))}addRedirectUri(e){zw.validateRedirectUri(e),this.parameters.set("redirect_uri",encodeURIComponent(e))}addPostLogoutRedirectUri(e){zw.validateRedirectUri(e),this.parameters.set("post_logout_redirect_uri",encodeURIComponent(e))}addIdTokenHint(e){this.parameters.set("id_token_hint",encodeURIComponent(e))}addDomainHint(e){this.parameters.set("domain_hint",encodeURIComponent(e))}addLoginHint(e){this.parameters.set("login_hint",encodeURIComponent(e))}addCcsUpn(e){this.parameters.set(Bd,encodeURIComponent(`UPN:${e}`))}addCcsOid(e){this.parameters.set(Bd,encodeURIComponent(`Oid:${e.uid}@${e.utid}`))}addSid(e){this.parameters.set("sid",encodeURIComponent(e))}addClaims(e,t){const n=this.addClientCapabilitiesToClaims(e,t);zw.validateClaims(n),this.parameters.set("claims",encodeURIComponent(n))}addCorrelationId(e){this.parameters.set("client-request-id",encodeURIComponent(e))}addLibraryInfo(e){this.parameters.set("x-client-SKU",e.sku),this.parameters.set("x-client-VER",e.version),e.os&&this.parameters.set("x-client-OS",e.os),e.cpu&&this.parameters.set("x-client-CPU",e.cpu)}addApplicationTelemetry(e){e?.appName&&this.parameters.set("x-app-name",e.appName),e?.appVersion&&this.parameters.set("x-app-ver",e.appVersion)}addPrompt(e){zw.validatePrompt(e),this.parameters.set("prompt",encodeURIComponent(e))}addState(e){e&&this.parameters.set("state",encodeURIComponent(e))}addNonce(e){this.parameters.set("nonce",encodeURIComponent(e))}addCodeChallengeParams(e,t){if(zw.validateCodeChallengeParams(e,t),!e||!t)throw Wp(Op);this.parameters.set("code_challenge",encodeURIComponent(e)),this.parameters.set("code_challenge_method",encodeURIComponent(t))}addAuthorizationCode(e){this.parameters.set("code",encodeURIComponent(e))}addDeviceCode(e){this.parameters.set("device_code",encodeURIComponent(e))}addRefreshToken(e){this.parameters.set("refresh_token",encodeURIComponent(e))}addCodeVerifier(e){this.parameters.set("code_verifier",encodeURIComponent(e))}addClientSecret(e){this.parameters.set("client_secret",encodeURIComponent(e))}addClientAssertion(e){e&&this.parameters.set("client_assertion",encodeURIComponent(e))}addClientAssertionType(e){e&&this.parameters.set("client_assertion_type",encodeURIComponent(e))}addOboAssertion(e){this.parameters.set("assertion",encodeURIComponent(e))}addRequestTokenUse(e){this.parameters.set("requested_token_use",encodeURIComponent(e))}addGrantType(e){this.parameters.set("grant_type",encodeURIComponent(e))}addClientInfo(){this.parameters.set("client_info","1")}addExtraQueryParameters(e){Object.entries(e).forEach((e=>{let[t,n]=e;!this.parameters.has(t)&&n&&this.parameters.set(t,n)}))}addClientCapabilitiesToClaims(e,t){let n;if(e)try{n=JSON.parse(e)}catch(YC){throw Wp(Np)}else n={};return t&&t.length>0&&(n.hasOwnProperty(nh)||(n[nh]={}),n[nh][rh]={values:t}),JSON.stringify(n)}addUsername(e){this.parameters.set(Ph,encodeURIComponent(e))}addPassword(e){this.parameters.set(Oh,encodeURIComponent(e))}addPopToken(e){e&&(this.parameters.set(qw,Th.POP),this.parameters.set(Fw,encodeURIComponent(e)))}addSshJwk(e){e&&(this.parameters.set(qw,Th.SSH),this.parameters.set(Fw,encodeURIComponent(e)))}addServerTelemetry(e){this.parameters.set("x-client-current-telemetry",e.generateCurrentRequestHeaderValue()),this.parameters.set("x-client-last-telemetry",e.generateLastRequestHeaderValue())}addThrottling(){this.parameters.set("x-ms-lib-capability",Nh)}addLogoutHint(e){this.parameters.set("logout_hint",encodeURIComponent(e))}createQueryString(){const e=new Array;return this.parameters.forEach(((t,n)=>{e.push(`${n}=${t}`)})),e.join("&")}}async function $w(e,t,n,r,o,a,i){i?.addQueueMeasurement(Ag,a);const s=Ab.transformCIAMAuthority(Nb(e)),c=new Ab(s,t,n,r,o,a,i);try{return await Ib(c.resolveEndpointsAsync.bind(c),Ng,o,i,a)(),c}catch(YC){throw Jf(lf)}}class Kw{constructor(e,t){this.config=function(e){let{authOptions:t,systemOptions:n,loggerOptions:r,cacheOptions:o,storageInterface:a,networkInterface:i,cryptoInterface:s,clientCredentials:c,libraryInfo:l,telemetry:u,serverTelemetryManager:d,persistencePlugin:h,serializableCache:f}=e;const p={...Cm,...r};return{authOptions:(m=t,{clientCapabilities:[],azureCloudOptions:Im,skipAuthorityMetadataCache:!1,instanceAware:!1,...m}),systemOptions:{...wm,...n},loggerOptions:p,cacheOptions:{...km,...o},storageInterface:a||new bm(t.clientId,Xf,new Qh(p)),networkInterface:i||Sm,cryptoInterface:s||Xf,clientCredentials:c||Tm,libraryInfo:{...xm,...l},telemetry:{...Em,...u},serverTelemetryManager:d||null,persistencePlugin:h||null,serializableCache:f||null};var m}(e),this.logger=new Qh(this.config.loggerOptions,Zf,ep),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new jw(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){const t={};if(t[Ud]=Md.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case Ub:try{const n=Yp(e.credential);t[Bd]=`Oid:${n.uid}@${n.utid}`}catch(YC){this.logger.verbose("Could not parse home account ID for CCS Header: "+YC)}break;case zb:t[Bd]=`UPN: ${e.credential}`}return t}async executePostToTokenEndpoint(e,t,n,r,o,a){a&&this.performanceClient?.addQueueMeasurement(a,o);const i=await this.networkManager.sendPostRequest(r,e,{body:t,headers:n});return this.performanceClient?.addFields({refreshTokenSize:i.body.refresh_token?.length||0,httpVerToken:i.headers?.[Kd]||""},o),this.config.serverTelemetryManager&&i.status<500&&429!==i.status&&this.config.serverTelemetryManager.clearTelemetryCache(),i}async updateAuthority(e,t){this.performanceClient?.addQueueMeasurement(bg,t);const n=`https://${e}/${this.authority.tenant}/`,r=await $w(n,this.networkClient,this.cacheManager,this.authority.options,this.logger,t,this.performanceClient);this.authority=r}createTokenQueryParameters(e){const t=new Bw;return e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.createQueryString()}}const Ww="sw";class Vw{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}async generateCnf(e,t){this.performanceClient?.addQueueMeasurement(xg,e.correlationId);const n=await Ib(this.generateKid.bind(this),xg,t,this.performanceClient,e.correlationId)(e),r=this.cryptoUtils.base64UrlEncode(JSON.stringify(n));return{kid:n.kid,reqCnfString:r}}async generateKid(e){this.performanceClient?.addQueueMeasurement(Tg,e.correlationId);return{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:Ww}}async signPopToken(e,t,n){return this.signPayload(e,t,n)}async signPayload(e,t,n,r){const{resourceRequestMethod:o,resourceRequestUri:a,shrClaims:i,shrNonce:s,shrOptions:c}=n,l=a?new cm(a):void 0,u=l?.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:rp(),m:o?.toUpperCase(),u:u?.HostNameAndPort,nonce:s||this.cryptoUtils.createNewGuid(),p:u?.AbsolutePath,q:u?.QueryString?[[],u.QueryString]:void 0,client_claims:i||void 0,...r},t,c,n.correlationId)}}class Gw{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}class Qw{constructor(e,t,n,r,o,a,i){this.clientId=e,this.cacheStorage=t,this.cryptoObj=n,this.logger=r,this.serializableCache=o,this.persistencePlugin=a,this.performanceClient=i}validateServerAuthorizationCodeResponse(e,t){if(!e.state||!t)throw e.state?Jf(mf,"Cached State"):Jf(mf,"Server State");let n,r;try{n=decodeURIComponent(e.state)}catch(YC){throw Jf(ff,e.state)}try{r=decodeURIComponent(t)}catch(YC){throw Jf(ff,e.state)}if(n!==r)throw Jf(pf);if(e.error||e.error_description||e.suberror){const t=function(e){const t="code=",n=e.error_uri?.lastIndexOf(t);return n&&n>=0?e.error_uri?.substring(n+5):void 0}(e);if(qb(e.error,e.error_description,e.suberror))throw new Db(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",t);throw new Ow(e.error||"",e.error_description,e.suberror,t)}}validateTokenResponse(e,t){if(e.error||e.error_description||e.suberror){const n=`Error(s): ${e.error_codes||Md.NOT_AVAILABLE} - Timestamp: ${e.timestamp||Md.NOT_AVAILABLE} - Description: ${e.error_description||Md.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||Md.NOT_AVAILABLE} - Trace ID: ${e.trace_id||Md.NOT_AVAILABLE}`,r=e.error_codes?.length?e.error_codes[0]:void 0,o=new Ow(e.error,n,e.suberror,r,e.status);if(t&&e.status&&e.status>=Dd&&e.status<=qd)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.\n${o}`);if(t&&e.status&&e.status>=jd&&e.status<=Ld)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.\n${o}`);if(qb(e.error,e.error_description,e.suberror))throw new Db(e.error,e.error_description,e.suberror,e.timestamp||Md.EMPTY_STRING,e.trace_id||Md.EMPTY_STRING,e.correlation_id||Md.EMPTY_STRING,e.claims||Md.EMPTY_STRING,r);throw o}}async handleServerTokenResponse(e,t,n,r,o,a,i,s,c){let l,u;if(this.performanceClient?.addQueueMeasurement(Ig,e.correlation_id),e.id_token){if(l=tp(e.id_token||Md.EMPTY_STRING,this.cryptoObj.base64Decode),o&&o.nonce&&l.nonce!==o.nonce)throw Jf(gf);if(r.maxAge||0===r.maxAge){const e=l.auth_time;if(!e)throw Jf(yf);np(e,r.maxAge)}}this.homeAccountIdentifier=am.generateHomeAccountId(e.client_info||Md.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,l),o&&o.state&&(u=Hb.parseRequestState(this.cryptoObj,o.state)),e.key_id=e.key_id||r.sshKid||void 0;const d=this.generateCacheRecord(e,t,n,r,l,a,o);let h;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),h=new Gw(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(h)),i&&!s&&d.account){const e=d.account.generateAccountKey();if(!this.cacheStorage.getAccount(e,this.logger))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await Qw.generateAuthenticationResult(this.cryptoObj,t,d,!1,r,l,u,void 0,c)}await this.cacheStorage.saveCacheRecord(d,r.storeInCache,r.correlationId)}finally{this.persistencePlugin&&this.serializableCache&&h&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(h))}return Qw.generateAuthenticationResult(this.cryptoObj,t,d,!1,r,l,u,e,c)}generateCacheRecord(e,t,n,r,o,a,i){const s=t.getPreferredCache();if(!s)throw Jf(Rf);const c=om(o);let l,u;e.id_token&&o&&(l=ip(this.homeAccountIdentifier,s,e.id_token,this.clientId,c||""),u=Yw(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,o,e.client_info,s,c,i,void 0,this.logger));let d=null;if(e.access_token){const o=e.scope?Gp.fromString(e.scope):new Gp(r.scopes||[]),i=("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,l=("string"===typeof e.ext_expires_in?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,u=("string"===typeof e.refresh_in?parseInt(e.refresh_in,10):e.refresh_in)||void 0,h=n+i,f=h+l,p=u&&u>0?n+u:void 0;d=sp(this.homeAccountIdentifier,s,e.access_token,this.clientId,c||t.tenant||"",o.printScopes(),h,f,this.cryptoObj.base64Decode,p,e.token_type,a,e.key_id,r.claims,r.requestedClaimsHash)}let h=null;if(e.refresh_token){let t;if(e.refresh_token_expires_in){t=n+("string"===typeof e.refresh_token_expires_in?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in)}h=cp(this.homeAccountIdentifier,s,e.refresh_token,this.clientId,e.foci,a,t)}let f=null;return e.foci&&(f={clientId:this.clientId,environment:s,familyId:e.foci}),{account:u,idToken:l,accessToken:d,refreshToken:h,appMetadata:f}}static async generateAuthenticationResult(e,t,n,r,o,a,i,s,c){let l,u,d=Md.EMPTY_STRING,h=[],f=null,p=Md.EMPTY_STRING;if(n.accessToken){if(n.accessToken.tokenType!==Th.POP||o.popKid)d=n.accessToken.secret;else{const t=new Vw(e),{secret:r,keyId:a}=n.accessToken;if(!a)throw Jf(Bf);d=await t.signPopToken(r,a,o)}h=Gp.fromString(n.accessToken.target).asArray(),f=new Date(1e3*Number(n.accessToken.expiresOn)),l=new Date(1e3*Number(n.accessToken.extendedExpiresOn)),n.accessToken.refreshOn&&(u=new Date(1e3*Number(n.accessToken.refreshOn)))}n.appMetadata&&(p=n.appMetadata.familyId===yh?yh:"");const m=a?.oid||a?.sub||"",g=a?.tid||"";s?.spa_accountid&&n.account&&(n.account.nativeAccountId=s?.spa_accountid);const y=n.account?Zp(n.account.getAccountInfo(),void 0,a,n.idToken?.secret):null;return{authority:t.canonicalAuthority,uniqueId:m,tenantId:g,scopes:h,account:y,idToken:n?.idToken?.secret||"",idTokenClaims:a||{},accessToken:d,fromCache:r,expiresOn:f,extExpiresOn:l,refreshOn:u,correlationId:o.correlationId,requestId:c||Md.EMPTY_STRING,familyId:p,tokenType:n.accessToken?.tokenType||Md.EMPTY_STRING,state:i?i.userRequestState:Md.EMPTY_STRING,cloudGraphHostName:n.account?.cloudGraphHostName||Md.EMPTY_STRING,msGraphHost:n.account?.msGraphHost||Md.EMPTY_STRING,code:s?.spa_code,fromNativeBroker:!1}}}function Yw(e,t,n,r,o,a,i,s,c,l,u){u?.verbose("setCachedAccount called");const d=e.getAccountKeys().find((e=>e.startsWith(n)));let h=null;d&&(h=e.getAccount(d,u));const f=h||am.createAccount({homeAccountId:n,idTokenClaims:o,clientInfo:a,environment:i,cloudGraphHostName:c?.cloud_graph_host_name,msGraphHost:c?.msgraph_host,nativeAccountId:l},t,r),p=f.tenantProfiles||[],m=s||f.realm;if(m&&!p.find((e=>e.tenantId===m))){const e=Xp(n,f.localAccountId,m,o);p.push(e)}return f.tenantProfiles=p,f}async function Jw(e,t,n){if("string"===typeof e)return e;return e({clientId:t,tokenEndpoint:n})}class Xw extends Kw{constructor(e,t){super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}async getAuthCodeUrl(e){this.performanceClient?.addQueueMeasurement(gg,e.correlationId);const t=await Ib(this.createAuthCodeUrlQueryString.bind(this),Sg,this.logger,this.performanceClient,e.correlationId)(e);return cm.appendQueryString(this.authority.authorizationEndpoint,t)}async acquireToken(e,t){if(this.performanceClient?.addQueueMeasurement(wg,e.correlationId),!e.code)throw Jf(kf);const n=rp(),r=await Ib(this.executeTokenRequest.bind(this),Cg,this.logger,this.performanceClient,e.correlationId)(this.authority,e),o=r.headers?.[$d],a=new Qw(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return a.validateTokenResponse(r.body),Ib(a.handleServerTokenResponse.bind(a),Ig,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,n,e,t,void 0,void 0,void 0,o)}handleFragmentResponse(e,t){if(new Qw(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null).validateServerAuthorizationCodeResponse(e,t),!e.code)throw Jf(Hf);return e}getLogoutUri(e){if(!e)throw Wp(Rp);const t=this.createLogoutUrlQueryString(e);return cm.appendQueryString(this.authority.endSessionEndpoint,t)}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement(Cg,t.correlationId);const n=this.createTokenQueryParameters(t),r=cm.appendQueryString(e.tokenEndpoint,n),o=await Ib(this.createTokenRequestBody.bind(this),kg,this.logger,this.performanceClient,t.correlationId)(t);let a;if(t.clientInfo)try{const e=Qp(t.clientInfo,this.cryptoUtils.base64Decode);a={credential:`${e.uid}${ph}${e.utid}`,type:Ub}}catch(YC){this.logger.verbose("Could not parse client info for CCS Header: "+YC)}const i=this.createTokenRequestHeaders(a||t.ccsCredential),s={clientId:t.tokenBodyParameters?.clientId||this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid};return Ib(this.executePostToTokenEndpoint.bind(this),Gm,this.logger,this.performanceClient,t.correlationId)(r,o,i,s,t.correlationId,Gm)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(kg,e.correlationId);const t=new Bw;if(t.addClientId(e.tokenBodyParameters?.[Lw]||this.config.authOptions.clientId),this.includeRedirectUri?t.addRedirectUri(e.redirectUri):zw.validateRedirectUri(e.redirectUri),t.addScopes(e.scopes,!0,this.oidcDefaultScopes),t.addAuthorizationCode(e.code),t.addLibraryInfo(this.config.libraryInfo),t.addApplicationTelemetry(this.config.telemetry.application),t.addThrottling(),this.serverTelemetryManager&&!Am(this.config)&&t.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&t.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const n=this.config.clientCredentials.clientAssertion;t.addClientAssertion(await Jw(n.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),t.addClientAssertionType(n.assertionType)}if(t.addGrantType(ch),t.addClientInfo(),e.authenticationScheme===Th.POP){const n=new Vw(this.cryptoUtils,this.performanceClient);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await Ib(n.generateCnf.bind(n),xg,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}t.addPopToken(r)}else if(e.authenticationScheme===Th.SSH){if(!e.sshJwk)throw Wp(Dp);t.addSshJwk(e.sshJwk)}const n=e.correlationId||this.config.cryptoInterface.createNewGuid();let r;if(t.addCorrelationId(n),(!Vp.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.clientInfo)try{const t=Qp(e.clientInfo,this.cryptoUtils.base64Decode);r={credential:`${t.uid}${ph}${t.utid}`,type:Ub}}catch(YC){this.logger.verbose("Could not parse client info for CCS Header: "+YC)}else r=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&r)switch(r.type){case Ub:try{const e=Yp(r.credential);t.addCcsOid(e)}catch(YC){this.logger.verbose("Could not parse home account ID for CCS Header: "+YC)}break;case zb:t.addCcsUpn(r.credential)}return e.tokenBodyParameters&&t.addExtraQueryParameters(e.tokenBodyParameters),!e.enableSpaAuthorizationCode||e.tokenBodyParameters&&e.tokenBodyParameters[Hw]||t.addExtraQueryParameters({[Hw]:"1"}),t.createQueryString()}async createAuthCodeUrlQueryString(e){this.performanceClient?.addQueueMeasurement(Sg,e.correlationId);const t=new Bw;t.addClientId(e.extraQueryParameters?.[Lw]||this.config.authOptions.clientId);const n=[...e.scopes||[],...e.extraScopesToConsent||[]];t.addScopes(n,!0,this.oidcDefaultScopes),t.addRedirectUri(e.redirectUri);const r=e.correlationId||this.config.cryptoInterface.createNewGuid();if(t.addCorrelationId(r),t.addResponseMode(e.responseMode),t.addResponseTypeCode(),t.addLibraryInfo(this.config.libraryInfo),Am(this.config)||t.addApplicationTelemetry(this.config.telemetry.application),t.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&t.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&t.addPrompt(e.prompt),e.domainHint&&t.addDomainHint(e.domainHint),e.prompt!==oh.SELECT_ACCOUNT)if(e.sid&&e.prompt===oh.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),t.addSid(e.sid);else if(e.account){const n=this.extractAccountSid(e.account);let r=this.extractLoginHint(e.account);if(r&&e.domainHint&&(this.logger.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),r=null),r){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),t.addLoginHint(r);try{const n=Yp(e.account.homeAccountId);t.addCcsOid(n)}catch(YC){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(n&&e.prompt===oh.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),t.addSid(n);try{const n=Yp(e.account.homeAccountId);t.addCcsOid(n)}catch(YC){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),t.addLoginHint(e.loginHint),t.addCcsUpn(e.loginHint);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),t.addLoginHint(e.account.username);try{const n=Yp(e.account.homeAccountId);t.addCcsOid(n)}catch(YC){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),t.addLoginHint(e.loginHint),t.addCcsUpn(e.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");if(e.nonce&&t.addNonce(e.nonce),e.state&&t.addState(e.state),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.addExtraQueryParams(e,t),e.nativeBroker&&(t.addNativeBroker(),e.authenticationScheme===Th.POP)){const n=new Vw(this.cryptoUtils);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await Ib(n.generateCnf.bind(n),xg,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}t.addPopToken(r)}return t.createQueryString()}createLogoutUrlQueryString(e){const t=new Bw;return e.postLogoutRedirectUri&&t.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&t.addCorrelationId(e.correlationId),e.idTokenHint&&t.addIdTokenHint(e.idTokenHint),e.state&&t.addState(e.state),e.logoutHint&&t.addLogoutHint(e.logoutHint),this.addExtraQueryParams(e,t),t.createQueryString()}addExtraQueryParams(e,t){!(e.extraQueryParameters&&e.extraQueryParameters.hasOwnProperty("instance_aware"))&&this.config.authOptions.instanceAware&&(e.extraQueryParameters=e.extraQueryParameters||{},e.extraQueryParameters.instance_aware="true"),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters)}extractAccountSid(e){return e.idTokenClaims?.sid||null}extractLoginHint(e){return e.idTokenClaims?.login_hint||null}}function Zw(e){const{skus:t,libraryName:n,libraryVersion:r,extensionName:o,extensionVersion:a}=e,i=new Map([[0,[n,r]],[2,[o,a]]]);let s=[];if(t?.length){if(s=t.split(","),s.length<4)return t}else s=Array.from({length:4},(()=>"|"));return i.forEach(((e,t)=>{2===e.length&&e[0]?.length&&e[1]?.length&&function(e){const{skuArr:t,index:n,skuName:r,skuVersion:o}=e;if(n>=t.length)return;t[n]=[r,o].join("|")}({skuArr:s,index:t,skuName:e[0],skuVersion:e[1]})})),s.join(",")}class eC{constructor(e,t){this.cacheOutcome=zh,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||Md.EMPTY_STRING,this.wrapperVer=e.wrapperVer||Md.EMPTY_STRING,this.telemetryCacheKey=xh.CACHE_KEY+fh+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${xh.VALUE_SEPARATOR}${this.cacheOutcome}`,t=[this.wrapperSKU,this.wrapperVer],n=this.getNativeBrokerErrorCode();n?.length&&t.push(`broker_error=${n}`);const r=t.join(xh.VALUE_SEPARATOR),o=[e,this.getRegionDiscoveryFields()].join(xh.VALUE_SEPARATOR);return[xh.SCHEMA_VERSION,o,r].join(xh.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),t=eC.maxErrorsToSend(e),n=e.failedRequests.slice(0,2*t).join(xh.VALUE_SEPARATOR),r=e.errors.slice(0,t).join(xh.VALUE_SEPARATOR),o=e.errors.length,a=[o,t<o?xh.OVERFLOW_TRUE:xh.OVERFLOW_FALSE].join(xh.VALUE_SEPARATOR);return[xh.SCHEMA_VERSION,e.cacheHits,n,r,a].join(xh.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const t=this.getLastRequests();t.errors.length>=xh.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof nf?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push(xh.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||{failedRequests:[],errors:[],cacheHits:0}}clearTelemetryCache(){const e=this.getLastRequests(),t=eC.maxErrorsToSend(e);if(t===e.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{const n={failedRequests:e.failedRequests.slice(2*t),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n)}}static maxErrorsToSend(e){let t,n=0,r=0;const o=e.errors.length;for(t=0;t<o;t++){const o=e.failedRequests[2*t]||Md.EMPTY_STRING,a=e.failedRequests[2*t+1]||Md.EMPTY_STRING,i=e.errors[t]||Md.EMPTY_STRING;if(r+=o.toString().length+a.toString().length+i.length+3,!(r<xh.MAX_LAST_HEADER_BYTES))break;n+=1}return n}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||Md.EMPTY_STRING),e.push(this.regionSource||Md.EMPTY_STRING),e.push(this.regionOutcome||Md.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const t=this.getLastRequests();t.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)}static makeExtraSkuString(e){return Zw(e)}}class tC{constructor(e,t,n,r,o,a,i,s,c){this.config=e,this.browserStorage=t,this.browserCrypto=n,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=a,this.nativeMessageHandler=s,this.correlationId=c||yb(),this.logger=r.clone(oy,Qv,this.correlationId),this.performanceClient=i}async clearCacheOnLogout(e){if(e){am.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null));try{await this.browserStorage.removeAccount(am.generateAccountCacheKey(e)),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch(t){this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),await this.browserStorage.clear(),await this.browserCrypto.clearKeystore()}catch(YC){this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const t=e||this.config.auth.redirectUri||Zb();return cm.getAbsoluteUrl(t,Zb())}initializeServerTelemetryManager(e,t){this.logger.verbose("initializeServerTelemetryManager called");const n={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new eC(n,this.browserStorage)}async getDiscoveredAuthority(e){const{account:t}=e,n=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement($m,this.correlationId);const r={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=e.requestAuthority||this.config.auth.authority,a=n?.length?"true"===n:this.config.auth.instanceAware,i=t&&a?this.config.auth.authority.replace(cm.getDomainFromUrl(o),t.environment):o,s=Ab.generateAuthority(i,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),c=await Ib($w,Ag,this.logger,this.performanceClient,this.correlationId)(s,this.config.system.networkClient,this.browserStorage,r,this.logger,this.correlationId,this.performanceClient);if(t&&!c.isAlias(t.environment))throw Wp(Bp);return c}}async function nC(e,t,n){e.addQueueMeasurement(Kg,n);const r=Tb(rC,Wg,t,e,n)(e,t,n);return{verifier:r,challenge:await Ib(oC,Vg,t,e,n)(r,e,t,n)}}function rC(e,t,n){try{const r=new Uint8Array(32);Tb(mb,Qg,t,e,n)(r);return ab(r)}catch(YC){throw Wv(Jy)}}async function oC(e,t,n,r){t.addQueueMeasurement(Vg,r);try{const o=await Ib(pb,Gg,n,t,r)(e,t,r);return ab(new Uint8Array(o))}catch(YC){throw Wv(Jy)}}async function aC(e,t,n,r){n.addQueueMeasurement(og,e.correlationId);const o=e.authority||t.auth.authority,a=[...e&&e.scopes||[]],i={...e,correlationId:e.correlationId,authority:o,scopes:a};if(i.authenticationScheme){if(i.authenticationScheme===Th.SSH){if(!e.sshJwk)throw Wp(Dp);if(!e.sshKid)throw Wp(qp)}r.verbose(`Authentication Scheme set to "${i.authenticationScheme}" as configured in Auth request`)}else i.authenticationScheme=Th.BEARER,r.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return t.cache.claimsBasedCachingEnabled&&e.claims&&!Vp.isEmptyObj(e.claims)&&(i.requestedClaimsHash=await bb(e.claims)),i}async function iC(e,t,n,r,o){r.addQueueMeasurement(ag,e.correlationId);const a=await Ib(aC,og,o,r,e.correlationId)(e,n,r,o);return{...e,...a,account:t,forceRefresh:e.forceRefresh||!1}}class sC extends tC{async initializeAuthorizationCodeRequest(e){this.performanceClient.addQueueMeasurement(mg,this.correlationId);const t=await Ib(nC,Kg,this.logger,this.performanceClient,this.correlationId)(this.performanceClient,this.logger,this.correlationId),n={...e,redirectUri:e.redirectUri,code:Md.EMPTY_STRING,codeVerifier:t.verifier};return e.codeChallenge=t.challenge,e.codeChallengeMethod=Md.S256_CODE_CHALLENGE_METHOD,n}initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e?.correlationId);const t={correlationId:this.correlationId||yb(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const n=this.getLogoutHintFromIdTokenClaims(e.account);n&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=n)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return e&&null===e.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId):e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=cm.getAbsoluteUrl(e.postLogoutRedirectUri,Zb())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=cm.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,Zb())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=cm.getAbsoluteUrl(Zb(),Zb())),t}getLogoutHintFromIdTokenClaims(e){const t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(hg,this.correlationId);const t=await Ib(this.getClientConfiguration.bind(this),fg,this.logger,this.performanceClient,this.correlationId)(e);return new Xw(t,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:t,requestAuthority:n,requestAzureCloudOptions:r,requestExtraQueryParameters:o,account:a}=e;this.performanceClient.addQueueMeasurement(fg,this.correlationId);const i=await Ib(this.getDiscoveredAuthority.bind(this),$m,this.logger,this.performanceClient,this.correlationId)({requestAuthority:n,requestAzureCloudOptions:r,requestExtraQueryParameters:o,account:a}),s=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:i,clientCapabilities:this.config.auth.clientCapabilities},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:s.loggerCallback,piiLoggingEnabled:s.piiLoggingEnabled,logLevel:s.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:t,libraryInfo:{sku:oy,version:Qv,cpu:Md.EMPTY_STRING,os:Md.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,t){this.performanceClient.addQueueMeasurement(pg,this.correlationId);const n=this.getRedirectUri(e.redirectUri),r={interactionType:t},o=Hb.setRequestState(this.browserCrypto,e&&e.state||Md.EMPTY_STRING,r),a={...await Ib(aC,og,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:n,state:o,nonce:e.nonce||yb(),responseMode:this.config.auth.OIDCOptions.serverResponseType},i=e.account||this.browserStorage.getActiveAccount();if(i&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${i.homeAccountId}`,this.correlationId),a.account=i),!a.loginHint&&!i){const e=this.browserStorage.getLegacyLoginHint();e&&(a.loginHint=e)}return a}}const cC="user_switch",lC={[cC]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class uC extends nf{constructor(e,t,n){super(e,t),Object.setPrototypeOf(this,uC.prototype),this.name="NativeAuthError",this.ext=n}}function dC(e){return!(!e.ext||!e.ext.status||"PERSISTENT_ERROR"!==e.ext.status&&"DISABLED"!==e.ext.status)||(!(!e.ext||!e.ext.error||-2147186943!==e.ext.error)||"ContentError"===e.errorCode)}function hC(e,t,n){if(n&&n.status)switch(n.status){case"ACCOUNT_UNAVAILABLE":return Fb(Rb);case"USER_INTERACTION_REQUIRED":return new Db(e,t);case"USER_CANCEL":return Wv(cv);case"NO_NETWORK":return Wv(Tv)}return new uC(e,lC[e]||t,n)}class fC extends Kw{constructor(e,t){super(e,t)}async acquireToken(e){this.performanceClient?.addQueueMeasurement(Ym,e.correlationId);const t=rp(),n=await Ib(this.executeTokenRequest.bind(this),Qm,this.logger,this.performanceClient,e.correlationId)(e,this.authority),r=n.headers?.[$d],o=new Qw(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(n.body),Ib(o.handleServerTokenResponse.bind(o),Ig,this.logger,this.performanceClient,e.correlationId)(n.body,this.authority,t,e,void 0,void 0,!0,e.forceCache,r)}async acquireTokenByRefreshToken(e){if(!e)throw Wp(_p);if(this.performanceClient?.addQueueMeasurement(Xm,e.correlationId),!e.account)throw Jf(Nf);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await Ib(this.acquireTokenWithCachedRefreshToken.bind(this),Jm,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(YC){const n=YC instanceof Db&&YC.errorCode===_b,r=YC instanceof Ow&&YC.errorCode===_h&&YC.subError===Rh;if(n||r)return Ib(this.acquireTokenWithCachedRefreshToken.bind(this),Jm,this.logger,this.performanceClient,e.correlationId)(e,!1);throw YC}return Ib(this.acquireTokenWithCachedRefreshToken.bind(this),Jm,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,t){this.performanceClient?.addQueueMeasurement(Jm,e.correlationId);const n=Tb(this.cacheManager.getRefreshToken.bind(this.cacheManager),$g,this.logger,this.performanceClient,e.correlationId)(e.account,t,void 0,this.performanceClient,e.correlationId);if(!n)throw Fb(_b);if(n.expiresOn&&op(n.expiresOn,e.refreshTokenExpirationOffsetSeconds||300))throw Fb(Pb);const r={...e,refreshToken:n.secret,authenticationScheme:e.authenticationScheme||Th.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:Ub}};try{return await Ib(this.acquireToken.bind(this),Ym,this.logger,this.performanceClient,e.correlationId)(r)}catch(YC){if(YC instanceof Db&&YC.subError===Ob){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const e=ap(n);this.cacheManager.removeRefreshToken(e)}throw YC}}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement(Qm,e.correlationId);const n=this.createTokenQueryParameters(e),r=cm.appendQueryString(t.tokenEndpoint,n),o=await Ib(this.createTokenRequestBody.bind(this),Zm,this.logger,this.performanceClient,e.correlationId)(e),a=this.createTokenRequestHeaders(e.ccsCredential),i={clientId:e.tokenBodyParameters?.clientId||this.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return Ib(this.executePostToTokenEndpoint.bind(this),Vm,this.logger,this.performanceClient,e.correlationId)(r,o,a,i,e.correlationId,Vm)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(Zm,e.correlationId);const t=e.correlationId,n=new Bw;if(n.addClientId(e.tokenBodyParameters?.[Lw]||this.config.authOptions.clientId),e.redirectUri&&n.addRedirectUri(e.redirectUri),n.addScopes(e.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),n.addGrantType(lh),n.addClientInfo(),n.addLibraryInfo(this.config.libraryInfo),n.addApplicationTelemetry(this.config.telemetry.application),n.addThrottling(),this.serverTelemetryManager&&!Am(this.config)&&n.addServerTelemetry(this.serverTelemetryManager),n.addCorrelationId(t),n.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&n.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const t=this.config.clientCredentials.clientAssertion;n.addClientAssertion(await Jw(t.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),n.addClientAssertionType(t.assertionType)}if(e.authenticationScheme===Th.POP){const t=new Vw(this.cryptoUtils,this.performanceClient);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await Ib(t.generateCnf.bind(t),xg,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}n.addPopToken(r)}else if(e.authenticationScheme===Th.SSH){if(!e.sshJwk)throw Wp(Dp);n.addSshJwk(e.sshJwk)}if((!Vp.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&n.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case Ub:try{const t=Yp(e.ccsCredential.credential);n.addCcsOid(t)}catch(YC){this.logger.verbose("Could not parse home account ID for CCS Header: "+YC)}break;case zb:n.addCcsUpn(e.ccsCredential.credential)}return e.tokenBodyParameters&&n.addExtraQueryParameters(e.tokenBodyParameters),n.createQueryString()}}class pC extends Kw{constructor(e,t){super(e,t)}async acquireToken(e){try{const[t,n]=await this.acquireCachedToken({...e,scopes:e.scopes?.length?e.scopes:[...Fd]});if(n===Wh){this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed.");new fC(this.config,this.performanceClient).acquireTokenByRefreshToken(e).catch((()=>{}))}return t}catch(YC){if(YC instanceof Yf&&YC.errorCode===Df){return new fC(this.config,this.performanceClient).acquireTokenByRefreshToken(e)}throw YC}}async acquireCachedToken(e){this.performanceClient?.addQueueMeasurement(tg,e.correlationId);let t=zh;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!Vp.isEmptyObj(e.claims))throw this.setCacheOutcome(Bh,e.correlationId),Jf(Df);if(!e.account)throw Jf(Nf);const n=e.account.tenantId||function(e){const t=new cm(e).getUrlComponents(),n=t.PathSegments.slice(-1)[0]?.toLowerCase();switch(n){case Zd:case eh:case th:return;default:return n}}(e.authority),r=this.cacheManager.getTokenKeys(),o=this.cacheManager.getAccessToken(e.account,e,r,n,this.performanceClient,e.correlationId);if(!o)throw this.setCacheOutcome($h,e.correlationId),Jf(Df);if(a=o.cachedAt,Number(a)>rp()||op(o.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(Kh,e.correlationId),Jf(Df);var a;o.refreshOn&&op(o.refreshOn,0)&&(t=Wh);const i=e.authority||this.authority.getPreferredCache(),s={account:this.cacheManager.readAccountFromCache(e.account),accessToken:o,idToken:this.cacheManager.getIdToken(e.account,r,n,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(i)};return this.setCacheOutcome(t,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await Ib(this.generateResultFromCacheRecord.bind(this),ng,this.logger,this.performanceClient,e.correlationId)(s,e),t]}setCacheOutcome(e,t){this.serverTelemetryManager?.setCacheOutcome(e),this.performanceClient?.addFields({cacheOutcome:e},t),e!==zh&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,t){let n;if(this.performanceClient?.addQueueMeasurement(ng,t.correlationId),e.idToken&&(n=tp(e.idToken.secret,this.config.cryptoInterface.base64Decode)),t.maxAge||0===t.maxAge){const e=n?.auth_time;if(!e)throw Jf(yf);np(e,t.maxAge)}return Qw.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,n)}}class mC extends sC{async acquireToken(e){this.performanceClient.addQueueMeasurement(Fm,e.correlationId);const t=this.initializeServerTelemetryManager(Ly),n=await Ib(this.getClientConfiguration.bind(this),fg,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),r=new pC(n,this.performanceClient);this.logger.verbose("Silent auth client created");try{const t=(await Ib(r.acquireCachedToken.bind(r),tg,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),t}catch(o){throw o instanceof Kv&&o.errorCode===_v&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),o}}logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(t?.account)}}const gC="brk_client_id",yC="brk_redirect_uri";class vC extends tC{constructor(e,t,n,r,o,a,i,s,c,l,u,d){super(e,t,n,r,o,a,s,c,d),this.apiId=i,this.accountId=l,this.nativeMessageHandler=c,this.nativeStorageManager=u,this.silentCacheClient=new mC(e,this.nativeStorageManager,n,r,o,a,s,c,d),this.serverTelemetryManager=this.initializeServerTelemetryManager(this.apiId);const h=this.nativeMessageHandler.getExtensionId()===iy?"chrome":this.nativeMessageHandler.getExtensionId()?.length?"unknown":void 0;this.skus=eC.makeExtraSkuString({libraryName:oy,libraryVersion:Qv,extensionName:h,extensionVersion:this.nativeMessageHandler.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,[Uw]:this.skus}}async acquireToken(e){this.performanceClient.addQueueMeasurement(Wm,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const t=this.performanceClient.startMeasurement(Wm,e.correlationId),n=rp();try{const r=await this.initializeNativeRequest(e);try{const e=await this.acquireTokensFromCache(this.accountId,r);return t.end({success:!0,isNativeBroker:!1,fromCache:!0}),e}catch(YC){this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const{...o}=r,a={method:uy,request:o},i=await this.nativeMessageHandler.sendMessage(a),s=this.validateNativeResponse(i);return await this.handleNativeResponse(s,r,n).then((e=>(t.end({success:!0,isNativeBroker:!0,requestId:e.requestId}),this.serverTelemetryManager.clearNativeBrokerErrorCode(),e))).catch((e=>{throw t.end({success:!1,errorCode:e.errorCode,subErrorCode:e.subError,isNativeBroker:!0}),e}))}catch(YC){throw YC instanceof uC&&this.serverTelemetryManager.setNativeBrokerErrorCode(YC.errorCode),YC}}createSilentCacheRequest(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:Gp.fromString(e.scope).asArray(),account:t,forceRefresh:!1}}async acquireTokensFromCache(e,t){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),Jf(Pf);const n=this.browserStorage.getBaseAccountInfo({nativeAccountId:e});if(!n)throw Jf(Pf);try{const e=this.createSilentCacheRequest(t,n),r=await this.silentCacheClient.acquireToken(e),o={...n,idTokenClaims:r?.idTokenClaims,idToken:r?.idToken};return{...r,account:o}}catch(YC){throw YC}}async acquireTokenRedirect(e,t){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...n}=e;delete n.onRedirectNavigate;const r=await this.initializeNativeRequest(n),o={method:uy,request:r};try{const e=await this.nativeMessageHandler.sendMessage(o);this.validateNativeResponse(e)}catch(YC){if(YC instanceof uC&&(this.serverTelemetryManager.setNativeBrokerErrorCode(YC.errorCode),dC(YC)))throw YC}this.browserStorage.setTemporaryCache(Iy,JSON.stringify(r),!0);const a={apiId:Ry,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},i=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);t.end({success:!0}),await this.navigationClient.navigateExternal(i,a)}async handleRedirectPromise(e,t){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const n=this.browserStorage.getCachedNativeRequest();if(!n)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&t&&e?.addFields({errorCode:"no_cached_request"},t),null;const{prompt:r,...o}=n;r&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Iy));const a={method:uy,request:o},i=rp();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const e=await this.nativeMessageHandler.sendMessage(a);this.validateNativeResponse(e);const t=this.handleNativeResponse(e,o,i);this.browserStorage.setInteractionInProgress(!1);const n=await t;return this.serverTelemetryManager.clearNativeBrokerErrorCode(),n}catch(YC){throw this.browserStorage.setInteractionInProgress(!1),YC}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,t,n){this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const r=tp(e.id_token,cb),o=this.createHomeAccountIdentifier(e,r),a=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:t.accountId})?.homeAccountId;if(o!==a&&e.account.id!==t.accountId)throw hC(cC);const i=await this.getDiscoveredAuthority({requestAuthority:t.authority}),s=Yw(this.browserStorage,i,o,cb,r,e.client_info,void 0,r.tid,void 0,e.account.id,this.logger),c=await this.generateAuthenticationResult(e,t,r,s,i.canonicalAuthority,n);return this.cacheAccount(s),this.cacheNativeTokens(e,t,o,r,e.access_token,c.tenantId,n),c}createHomeAccountIdentifier(e,t){return am.generateHomeAccountId(e.client_info||Md.EMPTY_STRING,em,this.logger,this.browserCrypto,t)}generateScopes(e,t){return e.scope?Gp.fromString(e.scope):Gp.fromString(t.scope)}async generatePopAccessToken(e,t){if(t.tokenType===Th.POP&&t.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const n=new Vw(this.browserCrypto),r={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce};if(!t.keyId)throw Jf(Bf);return n.signPopToken(e.access_token,t.keyId,r)}return e.access_token}async generateAuthenticationResult(e,t,n,r,o,a){const i=this.addTelemetryFromNativeResponse(e),s=e.scope?Gp.fromString(e.scope):Gp.fromString(t.scope),c=e.account.properties||{},l=c.UID||n.oid||n.sub||Md.EMPTY_STRING,u=c.TenantId||n.tid||Md.EMPTY_STRING,d=Zp(r.getAccountInfo(),void 0,n,e.id_token);d.nativeAccountId!==e.account.id&&(d.nativeAccountId=e.account.id);const h=await this.generatePopAccessToken(e,t),f=t.tokenType===Th.POP?Th.POP:Th.BEARER;return{authority:o,uniqueId:l,tenantId:u,scopes:s.asArray(),account:d,idToken:e.id_token,idTokenClaims:n,accessToken:h,fromCache:!!i&&this.isResponseFromCache(i),expiresOn:new Date(1e3*Number(a+e.expires_in)),tokenType:f,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}cacheAccount(e){this.browserStorage.setAccount(e),this.browserStorage.removeAccountContext(e).catch((e=>{this.logger.error(`Error occurred while removing account context from browser storage. ${e}`)}))}cacheNativeTokens(e,t,n,r,o,a,i){const s=ip(n,t.authority,e.id_token||"",t.clientId,r.tid||""),c=i+(t.tokenType===Th.POP?Md.SHR_NONCE_VALIDITY:("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0),l=this.generateScopes(e,t),u={idToken:s,accessToken:sp(n,t.authority,o,t.clientId,r.tid||a,l.printScopes(),c,0,cb,void 0,t.tokenType,void 0,t.keyId)};this.nativeStorageManager.saveCacheRecord(u,t.storeInCache)}addTelemetryFromNativeResponse(e){const t=this.getMATSFromResponse(e);return t?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null}validateNativeResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw rf(Zh,"Response missing expected properties.")}getMATSFromResponse(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch(YC){this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return"undefined"===typeof e.is_cached?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const t=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:t,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const n=new cm(t);n.validateAsUri();const{scopes:r,...o}=e,a=new Gp(r||[]);a.appendScopes(Fd);const i={...o,accountId:this.accountId,clientId:this.config.auth.clientId,authority:n.urlString,scope:a.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:(()=>{switch(this.apiId){case Oy:case Ly:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),oh.NONE}if(e.prompt)switch(e.prompt){case oh.NONE:case oh.CONSENT:case oh.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e.prompt} is not compatible with native flow`),Wv(Hv)}else this.logger.trace("initializeNativeRequest: prompt was not provided")})(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(i.signPopToken&&e.popKid)throw Wv(zv);if(this.handleExtraBrokerParams(i),i.extraParameters=i.extraParameters||{},i.extraParameters.telemetry=sy,e.authenticationScheme===Th.POP){const t={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},n=new Vw(this.browserCrypto);let r;if(i.keyId)r=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:i.keyId})),i.signPopToken=!1;else{const o=await Ib(n.generateCnf.bind(n),xg,this.logger,this.performanceClient,e.correlationId)(t,this.logger);r=o.reqCnfString,i.keyId=o.kid,i.signPopToken=!0}i.reqCnf=r}return this.addRequestSKUs(i),i}handleExtraBrokerParams(e){if(e.extraParameters&&e.extraParameters.hasOwnProperty(gC)&&e.extraParameters.hasOwnProperty(yC)&&e.extraParameters.hasOwnProperty(Lw)){const t=e.extraParameters[Lw],n=e.redirectUri,r=e.extraParameters[yC];e.extraParameters={child_client_id:t,child_redirect_uri:n},e.redirectUri=r}}}class bC{constructor(e,t,n,r){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=r,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=n,this.handshakeEvent=n.startMeasurement(Ug)}async sendMessage(e){this.logger.trace("NativeMessageHandler - sendMessage called.");const t={channel:ay,extensionId:this.extensionId,responseId:yb(),body:e};return this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(t)}`),this.messageChannel.port1.postMessage(t),new Promise(((e,n)=>{this.resolvers.set(t.responseId,{resolve:e,reject:n})}))}static async createProvider(e,t,n){e.trace("NativeMessageHandler - createProvider called.");try{const r=new bC(e,t,n,iy);return await r.sendHandshakeRequest(),r}catch(YC){const o=new bC(e,t,n);return await o.sendHandshakeRequest(),o}}async sendHandshakeRequest(){this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:ay,extensionId:this.extensionId,responseId:yb(),body:{method:cy}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=e=>{this.onChannelMessage(e)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise(((t,n)=>{this.handshakeResolvers.set(e.responseId,{resolve:t,reject:n}),this.timeoutId=window.setTimeout((()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),n(Wv(Lv)),this.handshakeResolvers.delete(e.responseId)}),this.handshakeTimeoutMs)}))}onWindowMessage(e){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source!==window)return;const t=e.data;if(t.channel&&t.channel===ay&&(!t.extensionId||t.extensionId===this.extensionId)&&t.body.method===cy){const e=this.handshakeResolvers.get(t.responseId);if(!e)return void this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${t.responseId}`);this.logger.verbose(t.extensionId?`Extension with id: ${t.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),e.reject(Wv(Dv))}}onChannelMessage(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");const t=e.data,n=this.resolvers.get(t.responseId),r=this.handshakeResolvers.get(t.responseId);try{const e=t.body.method;if(e===dy){if(!n)return;const e=t.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(e)}`),"Success"!==e.status)n.reject(hC(e.code,e.description,e.ext));else{if(!e.result)throw rf(Zh,"Event does not contain result.");e.result.code&&e.result.description?n.reject(hC(e.result.code,e.result.description,e.result.ext)):n.resolve(e.result)}this.resolvers.delete(t.responseId)}else if(e===ly){if(!r)return void this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${t.responseId}`);clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),r.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(o){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${o}`),this.logger.errorPii(`Unable to parse ${e}`),n?n.reject(o):r&&r.reject(o)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isNativeAvailable(e,t,n,r){if(t.trace("isNativeAvailable called"),!e.system.allowNativeBroker)return t.trace("isNativeAvailable: allowNativeBroker is not enabled, returning false"),!1;if(!n)return t.trace("isNativeAvailable: WAM extension provider is not initialized, returning false"),!1;if(r)switch(r){case Th.BEARER:case Th.POP:return t.trace("isNativeAvailable: authenticationScheme is supported, returning true"),!0;default:return t.trace("isNativeAvailable: authenticationScheme is not supported, returning false"),!1}return!0}}class wC{constructor(e,t,n,r,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=r,this.performanceClient=o}async handleCodeResponse(e,t){let n;this.performanceClient.addQueueMeasurement(vg,t.correlationId);try{n=this.authModule.handleFragmentResponse(e,t.state)}catch(YC){throw YC instanceof Ow&&YC.subError===cv?Wv(cv):YC}return Ib(this.handleCodeResponseFromServer.bind(this),yg,this.logger,this.performanceClient,t.correlationId)(n,t)}async handleCodeResponseFromServer(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.performanceClient.addQueueMeasurement(yg,t.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await Ib(this.authModule.updateAuthority.bind(this.authModule),bg,this.logger,this.performanceClient,t.correlationId)(e.cloud_instance_host_name,t.correlationId),n&&(e.nonce=t.nonce||void 0),e.state=t.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const e=this.createCcsCredentials(t);e&&(this.authCodeRequest.ccsCredential=e)}return await Ib(this.authModule.acquireToken.bind(this.authModule),wg,this.logger,this.performanceClient,t.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:Ub}:e.loginHint?{credential:e.loginHint,type:zb}:null}}function CC(e,t,n){const r=sm(e);if(!r)throw im(e)?(n.error(`A ${t} is present in the iframe but it does not contain known properties. It's likely that the ${t} has been replaced by code running on the redirectUri page.`),n.errorPii(`The ${t} detected is: ${e}`),Wv(nv)):(n.error(`The request has returned to the redirectUri but a ${t} is not present. It's likely that the ${t} has been removed or the page has been redirected by code running on the redirectUri page.`),Wv(ev));return r}class kC extends sC{constructor(e,t,n,r,o,a,i,s,c,l){super(e,t,n,r,o,a,i,c,l),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=s}acquireToken(e){try{const t={popupName:this.generatePopupName(e.scopes||Fd,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window};return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,t)):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),t.popup=this.openSizedPopup("about:blank",t),this.acquireTokenPopupAsync(e,t))}catch(YC){return Promise.reject(YC)}}logout(e){try{this.logger.verbose("logoutPopup called");const t=this.initializeLogoutRequest(e),n={popupName:this.generateLogoutPopupName(t),popupWindowAttributes:e?.popupWindowAttributes||{},popupWindowParent:e?.popupWindowParent??window},r=e&&e.authority,o=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(t,n,r,o)):(this.logger.verbose("asyncPopup set to false, opening popup"),n.popup=this.openSizedPopup("about:blank",n),this.logoutPopupAsync(t,n,r,o))}catch(YC){return Promise.reject(YC)}}async acquireTokenPopupAsync(e,t){this.logger.verbose("acquireTokenPopupAsync called");const n=this.initializeServerTelemetryManager(Py),r=await Ib(this.initializeAuthorizationRequest.bind(this),pg,this.logger,this.performanceClient,this.correlationId)(e,Fy.Popup);aw(r.authority);try{const o=await Ib(this.initializeAuthorizationCodeRequest.bind(this),mg,this.logger,this.performanceClient,this.correlationId)(r),a=await Ib(this.createAuthCodeClient.bind(this),hg,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:r.authority,requestAzureCloudOptions:r.azureCloudOptions,requestExtraQueryParameters:r.extraQueryParameters,account:r.account}),i=bC.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme);let s;i&&(s=this.performanceClient.startMeasurement(Km,e.correlationId));const c=await a.getAuthCodeUrl({...r,nativeBroker:i}),l=new wC(a,this.browserStorage,o,this.logger,this.performanceClient),u=this.initiateAuthRequest(c,t);this.eventHandler.emitEvent(Iw,Fy.Popup,{popupWindow:u},null);const d=await this.monitorPopupForHash(u,t.popupWindowParent),h=Tb(CC,Eg,this.logger,this.performanceClient,this.correlationId)(d,this.config.auth.OIDCOptions.serverResponseType,this.logger);if(Mw.removeThrottle(this.browserStorage,this.config.auth.clientId,o),h.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),s&&s.end({success:!0,isNativeBroker:!0}),!this.nativeMessageHandler)throw Wv(qv);const e=new vC(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Py,this.performanceClient,this.nativeMessageHandler,h.accountId,this.nativeStorage,r.correlationId),{userRequestState:t}=Hb.parseRequestState(this.browserCrypto,r.state);return await e.acquireToken({...r,state:t,prompt:void 0})}return await l.handleCodeResponse(h,r)}catch(YC){throw t.popup?.close(),YC instanceof nf&&(YC.setCorrelationId(this.correlationId),n.cacheFailedRequest(YC)),YC}}async logoutPopupAsync(e,t,n,r){this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(Ew,Fy.Popup,e);const o=this.initializeServerTelemetryManager(qy);try{await this.clearCacheOnLogout(e.account);const a=await Ib(this.createAuthCodeClient.bind(this),hg,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:o,requestAuthority:n,account:e.account||void 0});try{a.authority.endSessionEndpoint}catch{if(e.account?.homeAccountId&&e.postLogoutRedirectUri&&a.authority.protocolMode===Jh){if(this.browserStorage.removeAccount(e.account?.homeAccountId),this.eventHandler.emitEvent(Aw,Fy.Popup,e),r){const e={apiId:qy,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=cm.getAbsoluteUrl(r,Zb());await this.navigationClient.navigateInternal(t,e)}return void t.popup?.close()}}const i=a.getLogoutUri(e);this.eventHandler.emitEvent(Aw,Fy.Popup,e);const s=this.openPopup(i,t);if(this.eventHandler.emitEvent(Iw,Fy.Popup,{popupWindow:s},null),await this.monitorPopupForHash(s,t.popupWindowParent).catch((()=>{})),r){const e={apiId:qy,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=cm.getAbsoluteUrl(r,Zb());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${t}`),await this.navigationClient.navigateInternal(t,e)}else this.logger.verbose("No main window navigation requested")}catch(YC){throw t.popup?.close(),YC instanceof nf&&(YC.setCorrelationId(this.correlationId),o.cacheFailedRequest(YC)),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(Nw,Fy.Popup,null,YC),this.eventHandler.emitEvent(_w,Fy.Popup),YC}this.eventHandler.emitEvent(_w,Fy.Popup)}initiateAuthRequest(e,t){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,t);throw this.logger.error("Navigate url is empty"),Wv(Zy)}monitorPopupForHash(e,t){return new Promise(((t,n)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const r=setInterval((()=>{if(e.closed)return this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(r),void n(Wv(cv));let o="";try{o=e.location.href}catch(YC){}if(!o||"about:blank"===o)return;clearInterval(r);let a="";const i=this.config.auth.OIDCOptions.serverResponseType;e&&(a=i===ih.QUERY?e.location.search:e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),t(a)}),this.config.system.pollIntervalMilliseconds)})).finally((()=>{this.cleanPopup(e,t)}))}openPopup(e,t){try{let n;if(t.popup?(n=t.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),n.location.assign(e)):"undefined"===typeof t.popup&&(this.logger.verbosePii(`Opening popup window to: ${e}`),n=this.openSizedPopup(e,t)),!n)throw Wv(sv);return n.focus&&n.focus(),this.currentWindow=n,t.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),n}catch(YC){throw this.logger.error("error opening popup "+YC.message),this.browserStorage.setInteractionInProgress(!1),Wv(iv)}}openSizedPopup(e,t){let{popupName:n,popupWindowAttributes:r,popupWindowParent:o}=t;const a=o.screenLeft?o.screenLeft:o.screenX,i=o.screenTop?o.screenTop:o.screenY,s=o.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=o.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let l=r.popupSize?.width,u=r.popupSize?.height,d=r.popupPosition?.top,h=r.popupPosition?.left;return(!l||l<0||l>s)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),l=ey),(!u||u<0||u>c)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),u=ty),(!d||d<0||d>c)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),d=Math.max(0,c/2-ty/2+i)),(!h||h<0||h>s)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),h=Math.max(0,s/2-ey/2+a)),o.open(e,n,`width=${l}, height=${u}, top=${d}, left=${h}, scrollbars=yes`)}unloadWindow(e){this.browserStorage.cleanRequestByInteractionType(Fy.Popup),this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,t){e.close(),t.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)}generatePopupName(e,t){return`${ny}.${this.config.auth.clientId}.${e.join("-")}.${t}.${this.correlationId}`}generateLogoutPopupName(e){const t=e.account&&e.account.homeAccountId;return`${ny}.${this.config.auth.clientId}.${t}.${this.correlationId}`}}class SC{constructor(e,t,n,r,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=r,this.performanceClient=o}async initiateAuthRequest(e,t){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){t.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(wy,t.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(Ty,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest),this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const n={apiId:Ry,timeout:t.redirectTimeout,noHistory:!1};if("function"===typeof t.onRedirectNavigate){this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback");return!1!==t.onRedirectNavigate(e)?(this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),void await t.navigationClient.navigateExternal(e,n)):void this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation")}return this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),void await t.navigationClient.navigateExternal(e,n)}throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),Wv(Zy)}async handleCodeResponse(e,t){this.logger.verbose("RedirectHandler.handleCodeResponse called"),this.browserStorage.setInteractionInProgress(!1);const n=this.browserStorage.generateStateKey(t),r=this.browserStorage.getTemporaryCache(n);if(!r)throw Jf(mf,"Cached State");let o;try{o=this.authModule.handleFragmentResponse(e,r)}catch(YC){throw YC instanceof Ow&&YC.subError===cv?Wv(cv):YC}const a=this.browserStorage.generateNonceKey(r),i=this.browserStorage.getTemporaryCache(a);if(this.authCodeRequest.code=o.code,o.cloud_instance_host_name&&await Ib(this.authModule.updateAuthority.bind(this.authModule),bg,this.logger,this.performanceClient,this.authCodeRequest.correlationId)(o.cloud_instance_host_name,this.authCodeRequest.correlationId),o.nonce=i||void 0,o.state=r,o.client_info)this.authCodeRequest.clientInfo=o.client_info;else{const e=this.checkCcsCredentials();e&&(this.authCodeRequest.ccsCredential=e)}const s=await this.authModule.acquireToken(this.authCodeRequest,o);return this.browserStorage.cleanRequestByState(t),s}checkCcsCredentials(){const e=this.browserStorage.getTemporaryCache(xy,!0);if(e)try{return JSON.parse(e)}catch(YC){this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii(`Cache credential could not be parsed: ${e}`)}return null}}class xC extends sC{constructor(e,t,n,r,o,a,i,s,c,l){super(e,t,n,r,o,a,i,c,l),this.nativeStorage=s}async acquireToken(e){const t=await Ib(this.initializeAuthorizationRequest.bind(this),pg,this.logger,this.performanceClient,this.correlationId)(e,Fy.Redirect);this.browserStorage.updateCacheEntries(t.state,t.nonce,t.authority,t.loginHint||"",t.account||null);const n=this.initializeServerTelemetryManager(Ry),r=e=>{e.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.cleanRequestByState(t.state),this.eventHandler.emitEvent(Rw,Fy.Redirect))};try{const o=await Ib(this.initializeAuthorizationCodeRequest.bind(this),mg,this.logger,this.performanceClient,this.correlationId)(t),a=await Ib(this.createAuthCodeClient.bind(this),hg,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),i=new SC(a,this.browserStorage,o,this.logger,this.performanceClient),s=await a.getAuthCodeUrl({...t,nativeBroker:bC.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme)}),c=this.getRedirectStartPage(e.redirectStartPage);return this.logger.verbosePii(`Redirect start page: ${c}`),window.addEventListener("pageshow",r),await i.initiateAuthRequest(s,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:c,onRedirectNavigate:e.onRedirectNavigate||this.config.auth.onRedirectNavigate})}catch(YC){throw YC instanceof nf&&(YC.setCorrelationId(this.correlationId),n.cacheFailedRequest(YC)),window.removeEventListener("pageshow",r),this.browserStorage.cleanRequestByState(t.state),YC}}async handleRedirectPromise(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;const n=this.initializeServerTelemetryManager(My);try{if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const[r,o]=this.getRedirectResponse(e||"");if(!r)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(Fy.Redirect),"back_forward"!==function(){if("undefined"===typeof window||"undefined"===typeof window.performance||"function"!==typeof window.performance.getEntriesByType)return;const e=window.performance.getEntriesByType("navigation"),t=e.length?e[0]:void 0;return t?.type}()?t.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const a=this.browserStorage.getTemporaryCache(wy,!0)||Md.EMPTY_STRING,i=cm.removeHashFromUrl(a);if(i===cm.removeHashFromUrl(window.location.href)&&this.config.auth.navigateToLoginRequestUrl){this.logger.verbose("Current page is loginRequestUrl, handling response"),a.indexOf("#")>-1&&function(e){const t=e.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):""}(a);return await this.handleResponse(r,n)}if(!this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(r,n);if(!Xb()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(Cy,o,!0);const e={apiId:My,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let t=!0;if(a&&"null"!==a)this.logger.verbose(`Navigating to loginRequestUrl: ${a}`),t=await this.navigationClient.navigateInternal(a,e);else{const n=function(){const e=new cm(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}();this.browserStorage.setTemporaryCache(wy,n,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),t=await this.navigationClient.navigateInternal(n,e)}if(!t)return await this.handleResponse(r,n)}return null}catch(YC){throw YC instanceof nf&&(YC.setCorrelationId(this.correlationId),n.cacheFailedRequest(YC)),this.browserStorage.cleanRequestByInteractionType(Fy.Redirect),YC}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let t=e;t||(t=this.config.auth.OIDCOptions.serverResponseType===ih.QUERY?window.location.search:window.location.hash);let n=sm(t);if(n){try{!function(e,t,n){if(!e.state)throw Wv(tv);const r=Yb(t,e.state);if(!r)throw Wv(rv);if(r.interactionType!==n)throw Wv(ov)}(n,this.browserCrypto,Fy.Redirect)}catch(YC){return YC instanceof nf&&this.logger.error(`Interaction type validation failed due to ${YC.errorCode}: ${YC.errorMessage}`),[null,""]}return(r=window).location.hash="","function"===typeof r.history.replaceState&&r.history.replaceState(null,"",`${r.location.origin}${r.location.pathname}${r.location.search}`),this.logger.verbose("Hash contains known properties, returning response hash"),[n,t]}var r;const o=this.browserStorage.getTemporaryCache(Cy,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Cy)),o&&(n=sm(o),n)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[n,o]):[null,""]}async handleResponse(e,t){const n=e.state;if(!n)throw Wv(tv);const r=this.browserStorage.getCachedRequest(n);if(this.logger.verbose("handleResponse called, retrieved cached request"),e.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw Wv(qv);const t=new vC(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Py,this.performanceClient,this.nativeMessageHandler,e.accountId,this.nativeStorage,r.correlationId),{userRequestState:o}=Hb.parseRequestState(this.browserCrypto,n);return t.acquireToken({...r,state:o,prompt:void 0}).finally((()=>{this.browserStorage.cleanRequestByState(n)}))}const o=this.browserStorage.getCachedAuthority(n);if(!o)throw Wv(wv);const a=await Ib(this.createAuthCodeClient.bind(this),hg,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:o});Mw.removeThrottle(this.browserStorage,this.config.auth.clientId,r);return new SC(a,this.browserStorage,r,this.logger,this.performanceClient).handleCodeResponse(e,n)}async logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e),n=this.initializeServerTelemetryManager(Dy);try{this.eventHandler.emitEvent(Ew,Fy.Redirect,e),await this.clearCacheOnLogout(t.account);const r={apiId:Dy,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},o=await Ib(this.createAuthCodeClient.bind(this),hg,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:e&&e.authority,requestExtraQueryParameters:e?.extraQueryParameters,account:e&&e.account||void 0});if(o.authority.protocolMode===Jh)try{o.authority.endSessionEndpoint}catch{if(t.account?.homeAccountId)return this.browserStorage.removeAccount(t.account?.homeAccountId),void this.eventHandler.emitEvent(Aw,Fy.Redirect,t)}const a=o.getLogoutUri(t);if(this.eventHandler.emitEvent(Aw,Fy.Redirect,t),!e||"function"!==typeof e.onRedirectNavigate)return this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),void await this.navigationClient.navigateExternal(a,r);if(!1!==e.onRedirectNavigate(a))return this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),void await this.navigationClient.navigateExternal(a,r);this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation")}catch(YC){throw YC instanceof nf&&(YC.setCorrelationId(this.correlationId),n.cacheFailedRequest(YC)),this.eventHandler.emitEvent(Nw,Fy.Redirect,null,YC),this.eventHandler.emitEvent(_w,Fy.Redirect),YC}this.eventHandler.emitEvent(_w,Fy.Redirect)}getRedirectStartPage(e){const t=e||window.location.href;return cm.getAbsoluteUrl(t,Zb())}}async function TC(e,t,n,r,o){if(t.addQueueMeasurement(cg,r),!e)throw n.info("Navigate url is empty"),Wv(Zy);return o?Ib(EC,ug,n,t,r)(e,o,t,r):Tb(AC,dg,n,t,r)(e)}async function IC(e,t,n,r,o,a,i){return r.addQueueMeasurement(lg,a),new Promise(((r,a)=>{t<Gv&&o.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${t}ms) than the default (10000ms). This may result in timeouts.`);const s=window.setTimeout((()=>{window.clearInterval(c),a(Wv(uv))}),t),c=window.setInterval((()=>{let t="";const n=e.contentWindow;try{t=n?n.location.href:""}catch(YC){}if(!t||"about:blank"===t)return;let o="";n&&(o=i===ih.QUERY?n.location.search:n.location.hash),window.clearTimeout(s),window.clearInterval(c),r(o)}),n)})).finally((()=>{Tb(_C,zg,o,r,a)(e)}))}function EC(e,t,n,r){return n.addQueueMeasurement(ug,r),new Promise(((n,r)=>{const o=NC();window.setTimeout((()=>{o?(o.src=e,n(o)):r("Unable to load iframe")}),t)}))}function AC(e){const t=NC();return t.src=e,t}function NC(){const e=document.createElement("iframe");return e.className="msalSilentIframe",e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(e),e}function _C(e){document.body===e.parentNode&&document.body.removeChild(e)}class RC extends sC{constructor(e,t,n,r,o,a,i,s,c,l,u){super(e,t,n,r,o,a,s,l,u),this.apiId=i,this.nativeStorage=c}async acquireToken(e){this.performanceClient.addQueueMeasurement(Hm,e.correlationId),e.loginHint||e.sid||e.account&&e.account.username||this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const t={...e};t.prompt?t.prompt!==oh.NONE&&t.prompt!==oh.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${t.prompt} with ${oh.NONE}`),t.prompt=oh.NONE):t.prompt=oh.NONE;const n=await Ib(this.initializeAuthorizationRequest.bind(this),pg,this.logger,this.performanceClient,e.correlationId)(t,Fy.Silent);aw(n.authority);const r=this.initializeServerTelemetryManager(this.apiId);let o;try{return o=await Ib(this.createAuthCodeClient.bind(this),hg,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account}),await Ib(this.silentTokenHelper.bind(this),sg,this.logger,this.performanceClient,e.correlationId)(o,n)}catch(YC){if(YC instanceof nf&&(YC.setCorrelationId(this.correlationId),r.cacheFailedRequest(YC)),!o||!(YC instanceof nf)||YC.errorCode!==Zg)throw YC;this.performanceClient.addFields({retryError:YC.errorCode},this.correlationId);const a=await Ib(this.initializeAuthorizationRequest.bind(this),pg,this.logger,this.performanceClient,e.correlationId)(t,Fy.Silent);return await Ib(this.silentTokenHelper.bind(this),sg,this.logger,this.performanceClient,this.correlationId)(o,a)}}logout(){return Promise.reject(Wv(mv))}async silentTokenHelper(e,t){const n=t.correlationId;this.performanceClient.addQueueMeasurement(sg,n);const r=await Ib(this.initializeAuthorizationCodeRequest.bind(this),mg,this.logger,this.performanceClient,n)(t),o=await Ib(e.getAuthCodeUrl.bind(e),gg,this.logger,this.performanceClient,n)({...t,nativeBroker:bC.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,t.authenticationScheme)}),a=new wC(e,this.browserStorage,r,this.logger,this.performanceClient),i=await Ib(TC,cg,this.logger,this.performanceClient,n)(o,this.performanceClient,this.logger,n,this.config.system.navigateFrameWait),s=this.config.auth.OIDCOptions.serverResponseType,c=await Ib(IC,lg,this.logger,this.performanceClient,n)(i,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,s),l=Tb(CC,Eg,this.logger,this.performanceClient,this.correlationId)(c,s,this.logger);if(l.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw Wv(qv);const e=new vC(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,l.accountId,this.browserStorage,n),{userRequestState:r}=Hb.parseRequestState(this.browserCrypto,t.state);return Ib(e.acquireToken.bind(e),Wm,this.logger,this.performanceClient,n)({...t,state:r,prompt:t.prompt||oh.NONE})}return Ib(a.handleCodeResponse.bind(a),vg,this.logger,this.performanceClient,n)(l,t)}}class PC extends sC{async acquireToken(e){this.performanceClient.addQueueMeasurement(zm,e.correlationId);const t=await Ib(aC,og,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),n={...e,...t};e.redirectUri&&(n.redirectUri=this.getRedirectUri(e.redirectUri));const r=this.initializeServerTelemetryManager(Ly),o=await this.createRefreshTokenClient({serverTelemetryManager:r,authorityUrl:n.authority,azureCloudOptions:n.azureCloudOptions,account:n.account});return Ib(o.acquireTokenByRefreshToken.bind(o),Xm,this.logger,this.performanceClient,e.correlationId)(n).catch((e=>{throw e.setCorrelationId(this.correlationId),r.cacheFailedRequest(e),e}))}logout(){return Promise.reject(Wv(mv))}async createRefreshTokenClient(e){const t=await Ib(this.getClientConfiguration.bind(this),fg,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new fC(t,this.performanceClient)}}class OC{constructor(e,t,n,r){this.isBrowserEnvironment="undefined"!==typeof window,this.config=e,this.storage=t,this.logger=n,this.cryptoObj=r}loadExternalTokens(e,t,n){if(!this.isBrowserEnvironment)throw Wv(Sv);const r=t.id_token?tp(t.id_token,cb):void 0,o={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},a=e.authority?new Ab(Ab.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,o,this.logger,e.correlationId||yb()):void 0,i=this.loadAccount(e,n.clientInfo||t.client_info||"",r,a),s=this.loadIdToken(t,i.homeAccountId,i.environment,i.realm),c=this.loadAccessToken(e,t,i.homeAccountId,i.environment,i.realm,n),l=this.loadRefreshToken(t,i.homeAccountId,i.environment);return this.generateAuthenticationResult(e,{account:i,idToken:s,accessToken:c,refreshToken:l},r,a)}loadAccount(e,t,n,r){if(this.logger.verbose("TokenCache - loading account"),e.account){const t=am.createFromAccountInfo(e.account);return this.storage.setAccount(t),t}if(!r||!t&&!n)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),Wv(Nv);const o=am.generateHomeAccountId(t,r.authorityType,this.logger,this.cryptoObj,n),a=n?.tid,i=Yw(this.storage,r,o,cb,n,t,r.hostnameAndPort,a,void 0,void 0,this.logger);return this.storage.setAccount(i),i}loadIdToken(e,t,n,r){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const o=ip(t,n,e.id_token,this.config.auth.clientId,r);return this.storage.setIdTokenCredential(o),o}loadAccessToken(e,t,n,r,o,a){if(!t.access_token)return this.logger.verbose("TokenCache - no access token found in response"),null;if(!t.expires_in)return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;if(!t.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null;this.logger.verbose("TokenCache - loading access token");const i=t.scope?Gp.fromString(t.scope):new Gp(e.scopes),s=a.expiresOn||t.expires_in+(new Date).getTime()/1e3,c=a.extendedExpiresOn||(t.ext_expires_in||t.expires_in)+(new Date).getTime()/1e3,l=sp(n,r,t.access_token,this.config.auth.clientId,o,i.printScopes(),s,c,cb);return this.storage.setAccessTokenCredential(l),l}loadRefreshToken(e,t,n){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const r=cp(t,n,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return this.storage.setRefreshTokenCredential(r),r}generateAuthenticationResult(e,t,n,r){let o,a="",i=[],s=null;t?.accessToken&&(a=t.accessToken.secret,i=Gp.fromString(t.accessToken.target).asArray(),s=new Date(1e3*Number(t.accessToken.expiresOn)),o=new Date(1e3*Number(t.accessToken.extendedExpiresOn)));const c=t.account;return{authority:r?r.canonicalAuthority:"",uniqueId:t.account.localAccountId,tenantId:t.account.realm,scopes:i,account:c.getAccountInfo(),idToken:t.idToken?.secret||"",idTokenClaims:n||{},accessToken:a,fromCache:!0,expiresOn:s,correlationId:e.correlationId||"",requestId:"",extExpiresOn:o,familyId:t.refreshToken?.familyId||"",tokenType:t?.accessToken?.tokenType||"",state:e.state||"",cloudGraphHostName:c.cloudGraphHostName||"",msGraphHost:c.msGraphHost||"",fromNativeBroker:!1}}}class MC extends Xw{constructor(e){super(e),this.includeRedirectUri=!1}}class jC extends sC{constructor(e,t,n,r,o,a,i,s,c,l){super(e,t,n,r,o,a,s,c,l),this.apiId=i}async acquireToken(e){if(!e.code)throw Wv(Rv);const t=await Ib(this.initializeAuthorizationRequest.bind(this),pg,this.logger,this.performanceClient,e.correlationId)(e,Fy.Silent),n=this.initializeServerTelemetryManager(this.apiId);try{const r={...t,code:e.code},o=await Ib(this.getClientConfiguration.bind(this),fg,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:n,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),a=new MC(o);this.logger.verbose("Auth code client created");const i=new wC(a,this.browserStorage,r,this.logger,this.performanceClient);return await Ib(i.handleCodeResponseFromServer.bind(i),yg,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t,!1)}catch(YC){throw YC instanceof nf&&(YC.setCorrelationId(this.correlationId),n.cacheFailedRequest(YC)),YC}}logout(){return Promise.reject(Wv(mv))}}function LC(e){const t=e?.idTokenClaims;return t?.tfp||t?.acr?"B2C":t?.tid?"9188040d-6c67-4c5b-b112-36a304b66dad"===t?.tid?"MSA":"AAD":void 0}function DC(e,t){try{rw(e)}catch(YC){throw t.end({success:!1},YC),YC}}class qC{constructor(e){var t,n;this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new Sb(this.logger,this.performanceClient):Xf,this.eventHandler=new Pw(this.logger),this.browserStorage=this.isBrowserEnvironment?new Jb(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,function(e){const t=e.cloudDiscoveryMetadata;let n;if(t)try{n=JSON.parse(t)}catch(YC){throw Wp(Mp)}return{canonicalAuthority:e.authority?Nb(e.authority):void 0,knownAuthorities:e.knownAuthorities,cloudDiscoveryMetadata:n}}(this.config.auth),this.performanceClient):(t=this.config.auth.clientId,n=this.logger,new Jb(t,{cacheLocation:py,temporaryCacheLocation:py,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1},Xf,n));const r={cacheLocation:py,temporaryCacheLocation:py,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new Jb(this.config.auth.clientId,r,this.browserCrypto,this.logger,void 0,this.performanceClient),this.tokenCache=new OC(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this),this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}static async createController(e,t){const n=new qC(e);return await n.initialize(t),n}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e){if(this.logger.trace("initialize called"),this.initialized)return void this.logger.info("initialize has already been called, exiting early.");if(!this.isBrowserEnvironment)return this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,void this.eventHandler.emitEvent(sw);const t=e?.correlationId||this.getRequestCorrelationId(),n=this.config.system.allowNativeBroker,r=this.performanceClient.startMeasurement(ig,t);if(this.eventHandler.emitEvent(iw),n)try{this.nativeExtensionProvider=await bC.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)}catch(YC){this.logger.verbose(YC)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),await Ib(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),Bg,this.logger,this.performanceClient,t)(this.performanceClient,t)),this.initialized=!0,this.eventHandler.emitEvent(sw),r.end({allowNativeBroker:n,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),nw(this.initialized),this.isBrowserEnvironment){const t=e||"";let n=this.redirectResponse.get(t);return"undefined"===typeof n?(n=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(t,n),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),n}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){const t=this.getAllAccounts(),n=this.browserStorage.getCachedNativeRequest(),r=n&&bC.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e,o=r?n?.correlationId:this.browserStorage.getTemporaryCache(Ty,!0)||"",a=this.performanceClient.startMeasurement(Lm,o);let i;if(this.eventHandler.emitEvent(xw,Fy.Redirect),r&&this.nativeExtensionProvider){this.logger.trace("handleRedirectPromise - acquiring token from native platform");const e=new vC(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,My,this.performanceClient,this.nativeExtensionProvider,n.accountId,this.nativeInternalStorage,n.correlationId);i=Ib(e.handleRedirectPromise.bind(e),Hg,this.logger,this.performanceClient,a.event.correlationId)(this.performanceClient,a.event.correlationId)}else{this.logger.trace("handleRedirectPromise - acquiring token from web flow");const t=this.createRedirectClient(o);i=Ib(t.handleRedirectPromise.bind(t),Fg,this.logger,this.performanceClient,a.event.correlationId)(e,a)}return i.then((e=>{if(e){t.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(hw,Fy.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(mw,Fy.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),a.end({success:!0,accountType:LC(e.account)})}else a.event.errorCode?a.end({success:!1}):a.discard();return this.eventHandler.emitEvent(Tw,Fy.Redirect),e})).catch((e=>{const n=e;throw t.length>0?this.eventHandler.emitEvent(gw,Fy.Redirect,null,n):this.eventHandler.emitEvent(fw,Fy.Redirect,null,n),this.eventHandler.emitEvent(Tw,Fy.Redirect),a.end({success:!1},n),e}))}async acquireTokenRedirect(e){const t=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",t);const n=this.performanceClient.startMeasurement(jm,t);n.add({accountType:LC(e.account),scenarioId:e.scenarioId});const r=e.onRedirectNavigate;if(r)e.onRedirectNavigate=e=>{const t="function"===typeof r?r(e):void 0;return!1!==t?n.end({success:!0}):n.discard(),t};else{const e=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=t=>{const r="function"===typeof e?e(t):void 0;return!1!==r?n.end({success:!0}):n.discard(),r}}const o=this.getAllAccounts().length>0;try{let r;if(ow(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0),o?this.eventHandler.emitEvent(pw,Fy.Redirect,e):this.eventHandler.emitEvent(dw,Fy.Redirect,e),this.nativeExtensionProvider&&this.canUseNative(e)){r=new vC(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Ry,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,t).acquireTokenRedirect(e,n).catch((n=>{if(n instanceof uC&&dC(n)){this.nativeExtensionProvider=void 0;return this.createRedirectClient(t).acquireToken(e)}if(n instanceof Db){this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createRedirectClient(t).acquireToken(e)}throw this.browserStorage.setInteractionInProgress(!1),n}))}else{r=this.createRedirectClient(t).acquireToken(e)}return await r}catch(YC){throw n.end({success:!1},YC),o?this.eventHandler.emitEvent(gw,Fy.Redirect,null,YC):this.eventHandler.emitEvent(fw,Fy.Redirect,null,YC),YC}}acquireTokenPopup(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(Mm,t);n.add({scenarioId:e.scenarioId,accountType:LC(e.account)});try{this.logger.verbose("acquireTokenPopup called",t),DC(this.initialized,n),this.browserStorage.setInteractionInProgress(!0)}catch(YC){return Promise.reject(YC)}const r=this.getAllAccounts();let o;if(r.length>0?this.eventHandler.emitEvent(pw,Fy.Popup,e):this.eventHandler.emitEvent(dw,Fy.Popup,e),this.canUseNative(e))o=this.acquireTokenNative({...e,correlationId:t},Py).then((e=>(this.browserStorage.setInteractionInProgress(!1),n.end({success:!0,isNativeBroker:!0,requestId:e.requestId,accountType:LC(e.account)}),e))).catch((n=>{if(n instanceof uC&&dC(n)){this.nativeExtensionProvider=void 0;return this.createPopupClient(t).acquireToken(e)}if(n instanceof Db){this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createPopupClient(t).acquireToken(e)}throw this.browserStorage.setInteractionInProgress(!1),n}));else{o=this.createPopupClient(t).acquireToken(e)}return o.then((e=>(r.length<this.getAllAccounts().length?this.eventHandler.emitEvent(hw,Fy.Popup,e):this.eventHandler.emitEvent(mw,Fy.Popup,e),n.end({success:!0,requestId:e.requestId,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:LC(e.account)}),e))).catch((e=>(r.length>0?this.eventHandler.emitEvent(gw,Fy.Popup,null,e):this.eventHandler.emitEvent(fw,Fy.Popup,null,e),n.end({success:!1},e),Promise.reject(e))))}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){const t=this.getRequestCorrelationId(e),n={...e,prompt:e.prompt,correlationId:t};let r;if(this.ssoSilentMeasurement=this.performanceClient.startMeasurement(Bm,t),this.ssoSilentMeasurement?.add({scenarioId:e.scenarioId,accountType:LC(e.account)}),DC(this.initialized,this.ssoSilentMeasurement),this.ssoSilentMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",t),this.eventHandler.emitEvent(vw,Fy.Silent,n),this.canUseNative(n))r=this.acquireTokenNative(n,Oy).catch((e=>{if(e instanceof uC&&dC(e)){this.nativeExtensionProvider=void 0;return this.createSilentIframeClient(n.correlationId).acquireToken(n)}throw e}));else{r=this.createSilentIframeClient(n.correlationId).acquireToken(n)}return r.then((e=>(this.eventHandler.emitEvent(bw,Fy.Silent,e),this.ssoSilentMeasurement?.end({success:!0,isNativeBroker:e.fromNativeBroker,requestId:e.requestId,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:LC(e.account)}),e))).catch((e=>{throw this.eventHandler.emitEvent(ww,Fy.Silent,null,e),this.ssoSilentMeasurement?.end({success:!1},e),e})).finally((()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)}))}async acquireTokenByCode(e){const t=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",t);const n=this.performanceClient.startMeasurement(_m,t);DC(this.initialized,n),this.eventHandler.emitEvent(Cw,Fy.Silent,e),n.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw Wv(Ov);if(e.code){const r=e.code;let o=this.hybridAuthCodeResponses.get(r);return o?(this.logger.verbose("Existing acquireTokenByCode request found",t),n.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),o=this.acquireTokenByCodeAsync({...e,correlationId:t}).then((e=>(this.eventHandler.emitEvent(kw,Fy.Silent,e),this.hybridAuthCodeResponses.delete(r),n.end({success:!0,isNativeBroker:e.fromNativeBroker,requestId:e.requestId,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:LC(e.account)}),e))).catch((e=>{throw this.hybridAuthCodeResponses.delete(r),this.eventHandler.emitEvent(Sw,Fy.Silent,null,e),n.end({success:!1},e),e})),this.hybridAuthCodeResponses.set(r,o)),await o}if(e.nativeAccountId){if(this.canUseNative(e,e.nativeAccountId)){const r=await this.acquireTokenNative({...e,correlationId:t},jy,e.nativeAccountId).catch((e=>{throw e instanceof uC&&dC(e)&&(this.nativeExtensionProvider=void 0),e}));return n.end({accountType:LC(r.account),success:!0}),r}throw Wv(jv)}throw Wv(Pv)}catch(YC){throw this.eventHandler.emitEvent(Sw,Fy.Silent,null,YC),n.end({success:!1},YC),YC}}async acquireTokenByCodeAsync(e){this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(qg,e.correlationId),this.acquireTokenByCodeAsyncMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement);const t=this.createSilentAuthCodeClient(e.correlationId);return await t.acquireToken(e).then((e=>(this.acquireTokenByCodeAsyncMeasurement?.end({success:!0,fromCache:e.fromCache,isNativeBroker:e.fromNativeBroker,requestId:e.requestId}),e))).catch((e=>{throw this.acquireTokenByCodeAsyncMeasurement?.end({success:!1},e),e})).finally((()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)}))}async acquireTokenFromCache(e,t){switch(this.performanceClient.addQueueMeasurement(eg,e.correlationId),t){case By:case $y:case Ky:const t=this.createSilentCacheClient(e.correlationId);return Ib(t.acquireToken.bind(t),Fm,this.logger,this.performanceClient,e.correlationId)(e);default:throw Jf(Df)}}async acquireTokenByRefreshToken(e,t){switch(this.performanceClient.addQueueMeasurement(Rm,e.correlationId),t){case By:case Ky:case Wy:case Vy:const t=this.createSilentRefreshClient(e.correlationId);return Ib(t.acquireToken.bind(t),zm,this.logger,this.performanceClient,e.correlationId)(e);default:throw Jf(Df)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(rg,e.correlationId);const t=this.createSilentIframeClient(e.correlationId);return Ib(t.acquireToken.bind(t),Hm,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const t=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),this.logoutRedirect({correlationId:t,...e})}async logoutRedirect(e){const t=this.getRequestCorrelationId(e);ow(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0);return this.createRedirectClient(t).logout(e)}logoutPopup(e){try{const t=this.getRequestCorrelationId(e);rw(this.initialized),this.browserStorage.setInteractionInProgress(!0);return this.createPopupClient(t).logout(e)}catch(YC){return Promise.reject(YC)}}async clearCache(e){if(!this.isBrowserEnvironment)return void this.logger.info("in non-browser environment, returning early.");const t=this.getRequestCorrelationId(e);return this.createSilentCacheClient(t).logout(e)}getAllAccounts(e){return function(e,t,n,r){return e.verbose("getAllAccounts called"),n?t.getAllAccounts(r):[]}(this.logger,this.browserStorage,this.isBrowserEnvironment,e)}getAccount(e){return function(e,t,n){if(t.trace("getAccount called"),0===Object.keys(e).length)return t.warning("getAccount: No accountFilter provided"),null;const r=n.getAccountInfoFilteredBy(e);return r?(t.verbose("getAccount: Account matching provided filter found, returning"),r):(t.verbose("getAccount: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByUsername(e){return function(e,t,n){if(t.trace("getAccountByUsername called"),!e)return t.warning("getAccountByUsername: No username provided"),null;const r=n.getAccountInfoFilteredBy({username:e});return r?(t.verbose("getAccountByUsername: Account matching username found, returning"),t.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${e}`),r):(t.verbose("getAccountByUsername: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByHomeId(e){return function(e,t,n){if(t.trace("getAccountByHomeId called"),!e)return t.warning("getAccountByHomeId: No homeAccountId provided"),null;const r=n.getAccountInfoFilteredBy({homeAccountId:e});return r?(t.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),t.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${e}`),r):(t.verbose("getAccountByHomeId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByLocalId(e){return function(e,t,n){if(t.trace("getAccountByLocalId called"),!e)return t.warning("getAccountByLocalId: No localAccountId provided"),null;const r=n.getAccountInfoFilteredBy({localAccountId:e});return r?(t.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),t.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${e}`),r):(t.verbose("getAccountByLocalId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}setActiveAccount(e){!function(e,t){t.setActiveAccount(e)}(e,this.browserStorage)}getActiveAccount(){return this.browserStorage.getActiveAccount()}async hydrateCache(e,t){this.logger.verbose("hydrateCache called");const n=am.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return this.browserStorage.setAccount(n),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,t)):this.browserStorage.hydrateCache(e,t)}async acquireTokenNative(e,t,n){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw Wv(qv);return new vC(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.nativeExtensionProvider,n||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e)}canUseNative(e,t){if(this.logger.trace("canUseNative called"),!bC.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUseNative: isNativeAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case oh.NONE:case oh.CONSENT:case oh.LOGIN:this.logger.trace("canUseNative: prompt is compatible with native flow");break;default:return this.logger.trace(`canUseNative: prompt = ${e.prompt} is not compatible with native flow, returning false`),!1}return!(!t&&!this.getNativeAccountId(e))||(this.logger.trace("canUseNative: nativeAccountId is not available, returning false"),!1)}getNativeAccountId(e){const t=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return t&&t.nativeAccountId||""}createPopupClient(e){return new kC(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createRedirectClient(e){return new xC(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentIframeClient(e){return new RC(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Oy,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentCacheClient(e){return new mC(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentRefreshClient(e){return new PC(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentAuthCodeClient(e){return new jC(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,jy,this.performanceClient,this.nativeExtensionProvider,e)}addEventCallback(e,t){return this.eventHandler.addEventCallback(e,t)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return tw(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){"undefined"!==typeof window&&(this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange)))}disableAccountStorageEvents(){"undefined"!==typeof window&&(this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered."))}handleAccountCacheChange(e){try{e.key?.includes(Xd)&&this.eventHandler.emitEvent(uw);const t=e.newValue||e.oldValue;if(!t)return;const n=JSON.parse(t);if("object"!==typeof n||!am.isAccountEntity(n))return;const r=vm.toObject(new am,n).getAccountInfo();!e.oldValue&&e.newValue?(this.logger.info("Account was added to cache in a different window"),this.eventHandler.emitEvent(cw,void 0,r)):!e.newValue&&e.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.eventHandler.emitEvent(lw,void 0,r))}catch(e){return}}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,t){this.browserStorage.setWrapperMetadata(e,t)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e?.correlationId?e.correlationId:this.isBrowserEnvironment?yb():Md.EMPTY_STRING}async loginRedirect(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",t),this.acquireTokenRedirect({correlationId:t,...e||Hy})}loginPopup(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup({correlationId:t,...e||Hy})}async acquireTokenSilent(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(Pm,t);n.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),DC(this.initialized,n),this.logger.verbose("acquireTokenSilent called",t);const r=e.account||this.getActiveAccount();if(!r)throw Wv(gv);n.add({accountType:LC(r)});const o={clientId:this.config.auth.clientId,authority:e.authority||Md.EMPTY_STRING,scopes:e.scopes,homeAccountIdentifier:r.homeAccountId,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,shrOptions:e.shrOptions},a=JSON.stringify(o),i=this.activeSilentTokenRequests.get(a);if("undefined"===typeof i){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",t);const o=Ib(this.acquireTokenSilentAsync.bind(this),Om,this.logger,this.performanceClient,t)({...e,correlationId:t},r).then((t=>(this.activeSilentTokenRequests.delete(a),n.end({success:!0,fromCache:t.fromCache,isNativeBroker:t.fromNativeBroker,cacheLookupPolicy:e.cacheLookupPolicy,requestId:t.requestId,accessTokenSize:t.accessToken.length,idTokenSize:t.idToken.length}),t))).catch((e=>{throw this.activeSilentTokenRequests.delete(a),n.end({success:!1},e),e}));return this.activeSilentTokenRequests.set(a,o),{...await o,state:e.state}}return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",t),n.discard(),{...await i,state:e.state}}async acquireTokenSilentAsync(e,t){const n=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(Om,e.correlationId),this.eventHandler.emitEvent(pw,Fy.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",n);const r=await Ib(iC,ag,this.logger,this.performanceClient,e.correlationId)(e,t,this.config,this.performanceClient,this.logger),o=e.cacheLookupPolicy||By;return this.acquireTokenSilentNoIframe(r,o).catch((async e=>{const t=function(e,t){const n=!(e instanceof Db&&e.subError!==Ob),r=e.errorCode===Zg||e.errorCode===Df,o=n&&r||e.errorCode===_b||e.errorCode===Pb,a=Qy.includes(t);return o&&a}(e,o);if(t){if(this.activeIframeRequest){if(o!==Gy){const[t,n]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${n}`,r.correlationId);const a=this.performanceClient.startMeasurement(Um,r.correlationId);a.add({awaitIframeCorrelationId:n});const i=await t;if(a.end({success:i}),i)return this.logger.verbose(`Parallel iframe request with correlationId: ${n} succeeded. Retrying cache and/or RT redemption`,r.correlationId),this.acquireTokenSilentNoIframe(r,o);throw this.logger.info(`Iframe request with correlationId: ${n} failed. Interaction is required.`),e}return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",r.correlationId),Ib(this.acquireTokenBySilentIframe.bind(this),rg,this.logger,this.performanceClient,r.correlationId)(r)}{let e;return this.activeIframeRequest=[new Promise((t=>{e=t})),r.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",r.correlationId),Ib(this.acquireTokenBySilentIframe.bind(this),rg,this.logger,this.performanceClient,r.correlationId)(r).then((t=>(e(!0),t))).catch((t=>{throw e(!1),t})).finally((()=>{this.activeIframeRequest=void 0}))}}throw e})).then((t=>(this.eventHandler.emitEvent(mw,Fy.Silent,t),e.correlationId&&this.performanceClient.addFields({fromCache:t.fromCache,isNativeBroker:t.fromNativeBroker,requestId:t.requestId},e.correlationId),t))).catch((e=>{throw this.eventHandler.emitEvent(gw,Fy.Silent,null,e),e})).finally((()=>{document.removeEventListener("visibilitychange",n)}))}async acquireTokenSilentNoIframe(e,t){return bC.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(e,Ly).catch((async e=>{if(e instanceof uC&&dC(e))throw this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,Jf(Df);throw e}))):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),Ib(this.acquireTokenFromCache.bind(this),eg,this.logger,this.performanceClient,e.correlationId)(e,t).catch((n=>{if(t===$y)throw n;return this.eventHandler.emitEvent(yw,Fy.Silent,e),Ib(this.acquireTokenByRefreshToken.bind(this),Rm,this.logger,this.performanceClient,e.correlationId)(e,t)})))}}class FC{static async createPublicClientApplication(e){const t=await async function(e,t){const n=new Jv(e);return await n.initialize(),qC.createController(n,t)}(e);return new FC(e,t)}constructor(e,t){this.controller=t||new qC(new Jv(e))}async initialize(e){return this.controller.initialize(e)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,t){return this.controller.addEventCallback(e,t)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,t){return this.controller.initializeWrapperLibrary(e,t)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,t){return this.controller.hydrateCache(e,t)}clearCache(e){return this.controller.clearCache(e)}}const HC=e=>{let{onLogin:n}=e;const[r,o]=(0,t.useState)(!1);return(0,U.jsx)("div",{style:{backgroundColor:"#f8f9fa",minHeight:"100vh"},className:"d-flex justify-content-center align-items-center",children:(0,U.jsx)(X,{fluid:!0,className:"d-flex justify-content-center align-items-center h-100",style:{backgroundColor:"#f8f9fa"},children:(0,U.jsx)(ee,{className:"w-100 d-flex justify-content-center",children:(0,U.jsx)(ne,{xs:12,md:6,lg:4,children:(0,U.jsx)(Ee,{className:"bg-white my-5 mx-auto",style:{borderRadius:"1rem"},children:(0,U.jsxs)(Ee.Body,{className:"p-5 w-100 d-flex flex-column text-center",children:[(0,U.jsx)("h2",{className:"fw-bold mb-3",children:"Welcome to ProjView"}),(0,U.jsx)("p",{className:"text-muted mb-2",children:"Please log in to access the projects"}),(0,U.jsx)("hr",{className:"my-4"}),(0,U.jsxs)(Oe,{variant:"primary rounded-pill",size:"md",className:"mt-3 mb-3 d-flex align-items-center justify-content-center mx-auto",onClick:async()=>{o(!0),await n(!1),o(!1)},disabled:r,children:[(0,U.jsx)(Fs,{icon:Ws,className:"me-2"}),r?"Signing In...":"Sign In with Microsoft with NXT"]}),(0,U.jsxs)(Oe,{variant:"primary rounded-pill",size:"md",className:"mt-3 mb-3 d-flex align-items-center justify-content-center mx-auto",onClick:async()=>{o(!0),await n(!0),o(!1)},disabled:r,children:[(0,U.jsx)(Fs,{icon:Ws,className:"me-2"}),r?"Signing In...":"Sign In with Microsoft with TUKE"]}),r&&(0,U.jsx)(Ze,{animation:"border",role:"status",variant:"primary",className:"mt-3 mx-auto",style:{width:"3rem",height:"3rem"},children:(0,U.jsx)("span",{className:"visually-hidden",children:"Loading..."})})]})})})})})})},UC=()=>{const e=async e=>{const t=new URLSearchParams(window.location.search).get("code");if(!t){const e=localStorage.getItem("isTukeLogin");let t=e?"https://auth.atlassian.com/authorize?audience=api.atlassian.com&client_id=a6iqQviuL0itUgCxTh0wmQLeFdO1LzNu&scope=read%3Ajira-work%20manage%3Ajira-project%20manage%3Ajira-configuration%20read%3Ajira-user%20write%3Ajira-work%20manage%3Ajira-webhook%20manage%3Ajira-data-provider&redirect_uri=http%3A%2F%2Flocalhost%2Foauth-callback&state=${YOUR_USER_BOUND_VALUE}&response_type=code&prompt=consent":"https://auth.atlassian.com/authorize?audience=api.atlassian.com&client_id=a6iqQviuL0itUgCxTh0wmQLeFdO1LzNu&scope=read%3Ajira-work%20manage%3Ajira-project%20manage%3Ajira-configuration%20read%3Ajira-user%20write%3Ajira-work%20manage%3Ajira-webhook%20manage%3Ajira-data-provider&redirect_uri=https%3A%2F%2Flocalhost%2Foauth-callback&state=${YOUR_USER_BOUND_VALUE}&response_type=code&prompt=consent";return console.log(t),console.log(e),t=t.split("scope=").at(0)+"scope=offline_access%20"+t.split("scope=").at(1),void(window.location.href=t)}try{const n=await fetch(`${Ml}api/oauth-callback?code=${t}&source=${e}`,{method:"GET",headers:{accept:"*/*","Content-Type":"application/json"}});if(!n.ok)throw new Error(`HTTP error! Status: ${n.status}`);return n.json()}catch(n){throw console.error("Error fetching Jira data:",n),n}};return{fetchJira:e,fetchCloudId:async()=>{const e=localStorage.getItem("accessTokenJira");if(!e)throw new Error("Could not fetch Jira Cloud ID.");try{const t=await fetch("https://api.atlassian.com/oauth/token/accessible-resources",{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);const n=await t.json();if(!n[0])throw new Error("Could not fetch Jira Cloud ID.");return n[0]}catch(t){console.error("Error fetching Jira Cloud ID:",t)}},fetchJiraProjects:async()=>{const e=localStorage.getItem("accessTokenJira"),t=localStorage.getItem("cloudId");e&&t||console.error("Could not fetch Jira projects: missing Jira token or CLoud ID");const n=localStorage.getItem("accessTokenJiraExpiration");if(Date.now()>n)throw new Error("token expired");const r=`https://api.atlassian.com/ex/jira/${t}/rest/api/2/project`;try{const t=await fetch(r,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);return t.json()}catch(o){console.error("Error fetching Jira data:",o)}},fetchJiraIssues:async()=>{const e=localStorage.getItem("accessTokenJira"),t=localStorage.getItem("cloudId");e&&t||console.error("Could not fetch Jira projects: missing Jira token or CLoud ID");const n=localStorage.getItem("accessTokenJiraExpiration");if(Date.now()>n)throw new Error("token expired");const r=`https://api.atlassian.com/ex/jira/${t}/rest/api/3/search`;try{const t=await fetch(r,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);return t.json()}catch(o){console.error("Error fetching Jira data:",o)}},filterIssues:e=>e.issues.filter((e=>!("Hotovo"===e.fields.status.name||"Done"===e.fields.status.name))).map((e=>({ProjectId:e.fields.project.id,Priority:e.fields.priority.name,Creator:e.fields.creator.displayName,Created:e.fields.created,Id:e.id,Key:e.key}))),addIssuesToProjects:(e,t)=>(t.map((t=>{t.issues=e.filter((e=>e.ProjectId===t.id))})),t),checkExpiration:async t=>{let n=localStorage.getItem("accessTokenJiraExpiration"),r=localStorage.getItem("refreshTokenJira");const o=localStorage.getItem("accessTokenJira");if(Date.now()>n||!o)try{const n=await fetch(`${Ml}api/refresh?source=${t}`,{method:"POST",headers:{accept:"*/*","Content-Type":"application/json",Authorization:r}});return n.ok?await n.json():(console.error("Error refreshing token:"),e())}catch(a){console.error("Error fetching Jira data:",a)}}}},zC=new FC({auth:{clientId:"b6cbd98a-7c06-4afd-84fe-1d73431f6d78",authority:"https://login.microsoftonline.com/1c9f27ef-fee6-45f4-9a64-255a8c8e25a5",redirectUri:"http://localhost/"},cache:{cacheLocation:"localStorage",storeAuthStateInCookie:!0}}),BC=new FC({auth:{clientId:"94591d71-93f1-483d-89b6-89c34f6ae72a",authority:"https://login.microsoftonline.com/74fd5a79-5865-41a3-8ef2-18f35285719f",redirectUri:"http://localhost/"},cache:{cacheLocation:"localStorage",storeAuthStateInCookie:!0}}),$C=["new","active","hold","end"];const KC=function(){const[e,n]=(0,t.useState)([]),[r,o]=(0,t.useState)(""),[a,i]=(0,t.useState)(!1),[s,c]=(0,t.useState)(null),[l,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(null),[f,p]=(0,t.useState)(null),{fetchJira:m,fetchCloudId:g,fetchJiraProjects:y,fetchJiraIssues:v,filterIssues:b,addIssuesToProjects:w,checkExpiration:C}=UC(),[k,S]=(0,t.useState)(!1),[x,T]=(0,t.useState)(""),[I,E]=(O(),(0,t.useState)(!1)),[A,N]=(0,t.useState)(null),_=(0,t.useRef)(null),[R,P]=(0,t.useState)(!1),[M,j]=(0,t.useState)(["new","active"]),[L,D]=(0,t.useState)(!1),[q,F]=(0,t.useState)(null),[H,z]=(0,t.useState)(!0),[B,$]=(0,t.useState)(!0),[K,W]=(0,t.useState)(null),[V,G]=(0,t.useState)(""),Q=(0,t.useRef)({}),Y=(0,t.useRef)({});(0,t.useEffect)((()=>{if(!k)return;const e=localStorage.getItem("isTukeLogin")?"tuke":"nxt";null!=localStorage.getItem("refreshTokenJira")?C(e).then((e=>{e&&(u(e.access_token),localStorage.setItem("accessTokenJira",e.access_token),localStorage.setItem("accessTokenJiraExpiration",Date.now()+1e3*e.expires_in),window.location.href=Ml)})).catch():m(e).then((e=>{u(e.access_token),localStorage.setItem("accessTokenJira",e.access_token),localStorage.setItem("refreshTokenJira",e.refresh_token),localStorage.setItem("accessTokenJiraExpiration",Date.now()+1e3*e.expires_in),window.location.href=Ml})).catch((e=>{console.error("Failed to fetch Jira data:",e)}))}),[k]),(0,t.useEffect)((()=>{if(!k)return;const e=localStorage.getItem("isTukeLogin")?"tuke":"nxt";C(e).then((e=>{e&&(u(e.access_token),localStorage.setItem("accessTokenJira",e.access_token),localStorage.setItem("accessTokenJiraExpiration",Date.now()+1e3*e.expires_in),window.location.href=Ml)})).catch((e=>{console.error("Failed to fetch Jira data:",e)})),g().then((e=>{localStorage.setItem("cloudId",e.id),h(e.id),y().then((e=>{v().then((t=>{p(w(b(t),e))})).catch((e=>{console.error(e)}))})).catch((e=>{console.error(e)}))})).catch((e=>{console.error("Failed to fetch Jira Cloud ID:",e)}))}),[l,k]),(0,t.useEffect)((()=>{(async()=>{try{await zC.initialize(),await BC.initialize();const e=localStorage.getItem("accessToken");e&&(c(e),S(!0),await re())}catch(e){console.error("MSAL Initialization error:",e)}})()}),[]);const J=e=>e.sort(((e,t)=>{const n=$C.indexOf(e.type.toLowerCase()),r=$C.indexOf(t.type.toLowerCase());return n!==r?n-r:e.name.localeCompare(t.name)})),Z=async e=>{if(localStorage.setItem("isTukeLogin",e),E(e),e)try{const e=await zC.loginPopup({scopes:["Files.ReadWrite","User.Read"]}),t=await zC.acquireTokenSilent({scopes:["Files.ReadWrite","User.Read"],account:e.account});c(t.accessToken),S(!0),localStorage.setItem("accessToken",t.accessToken),localStorage.setItem("userName",e.account.name),await te(t.accessToken)}catch(t){console.error("Authentication error:",t)}else try{const e=await BC.loginPopup({scopes:["Files.ReadWrite","User.Read"]}),t=await BC.acquireTokenSilent({scopes:["Files.ReadWrite","User.Read"],account:e.account});c(t.accessToken),S(!0),localStorage.setItem("accessToken",t.accessToken),localStorage.setItem("userName",e.account.name),await te(t.accessToken)}catch(t){console.error("Authentication error:",t)}},te=async e=>{try{const t=await fetch("https://graph.microsoft.com/v1.0/me",{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(t.ok){const e=await t.json();T(e.displayName)}else console.error("Failed to fetch user profile")}catch(t){console.error("Error fetching user profile:",t)}},re=async()=>{try{const e=zC.getAllAccounts();if(e.length>0){const t=await zC.acquireTokenSilent({scopes:["Files.ReadWrite","User.Read"],account:e[0]});c(t.accessToken),localStorage.setItem("accessToken",t.accessToken)}}catch(e){console.error("Token refresh error:",e),oe()}},oe=()=>{c(null),S(!1),T(""),localStorage.removeItem("accessToken"),localStorage.removeItem("userName"),localStorage.removeItem("accessTokenJira"),localStorage.removeItem("isTukeLogin")};(0,t.useEffect)((()=>{(async()=>{if(k){z(!0);try{const e=await fetch(`${Ml}/api/projects?useTuke=${localStorage.getItem("isTukeLogin")}`,{method:"GET",headers:{accept:"*/*",Authorization:`Bearer ${s}`}});if(!e.ok)throw new Error("Failed to fetch projects");{const t=await e.json();n(J(t))}}catch(e){console.error(e.message)}finally{z(!1)}}})()}),[k,s]);const ae=async()=>{if(k)try{const e=await fetch(`${Ml}/api/projects?useTuke=${localStorage.getItem("isTukeLogin")}`,{method:"GET",headers:{accept:"*/*",useTuke:localStorage.getItem("isTukeLogin")}});if(!e.ok)throw new Error("Failed to fetch projects");{const t=await e.json();n(J(t))}}catch(e){console.error(e.message)}},ie=async function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(i(!1),D(!1),await ae(),N(t),P(!0),"string"!==typeof e)return;const r=e.toLowerCase();M.includes(r)||j((e=>[...e,r])),n&&setTimeout((()=>{document.body.classList.remove("modal-open")}),250)};(0,t.useEffect)((()=>{if(A){const e=document.getElementById(`project-${A}`);e&&e.scrollIntoView({behavior:"smooth",block:"center"})}}),[A]);const se=e=>{j((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))},ce=e.filter((e=>{const t=e.name&&e.name.toLowerCase().includes(r.toLowerCase()),n=M.includes(e.type.toLowerCase());return t&&n}));(0,t.useEffect)((()=>{const e=e=>{const t=Q.current[K],n=Y.current[K];K&&t&&!t.contains(e.target)&&n&&!n.contains(e.target)&&le(K)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[K]);const le=async t=>{const r=e.find((e=>e.id===t));if(!r)return void console.error("Project not found");const o={...r,description:V};try{if(!(await fetch(`${Ml}/api/projects/${t}?useTuke=${localStorage.getItem("isTukeLogin")}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).ok)throw new Error("Error saving description");n((e=>e.map((e=>e.id===t?o:e)))),W(null),await ae(),N(t),P(!0)}catch(a){W(null),console.error("Error saving description:",a)}},ue=(e,t)=>{if(null==e)return"";const n=e.split("\n");return n.length<=t?e:`${n.slice(0,t).join("\n")}...`};return(0,U.jsx)("div",{children:k?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(Td,{onLogin:Z,onLogout:oe,userName:k?x:null}),(0,U.jsx)(X,{fluid:!0,className:"my-4",children:(0,U.jsxs)(ee,{children:[(0,U.jsxs)(ne,{xs:12,md:3,style:{maxWidth:"250px"},className:"pe-3",children:[(0,U.jsx)(Ee,{children:(0,U.jsx)(Ee.Body,{children:(0,U.jsxs)("div",{className:"filterWrapper",children:[(0,U.jsx)("h4",{children:"Statuses"}),(0,U.jsxs)("ul",{className:"filterUl",children:[(0,U.jsx)("li",{className:"filterIl",children:(0,U.jsxs)("a",{href:"#",onClick:()=>se("active"),className:M.includes("active")?"active":"",children:[(0,U.jsx)("span",{className:"icon",children:(0,U.jsx)(Fs,{icon:sc})}),(0,U.jsx)("span",{className:"text",children:"Active"})]})}),(0,U.jsx)("li",{className:"filterIl",children:(0,U.jsxs)("a",{href:"#",onClick:()=>se("new"),className:M.includes("new")?"active":"",children:[(0,U.jsx)("span",{className:"icon",children:(0,U.jsx)(Fs,{icon:Xs})}),(0,U.jsx)("span",{className:"text",children:"New"})]})}),(0,U.jsx)("li",{className:"filterIl",children:(0,U.jsxs)("a",{href:"#",onClick:()=>se("hold"),className:M.includes("hold")?"active":"",children:[(0,U.jsx)("span",{className:"icon",children:(0,U.jsx)(Fs,{icon:Gs})}),(0,U.jsx)("span",{className:"text",children:"Hold"})]})}),(0,U.jsx)("li",{className:"filterIl",children:(0,U.jsxs)("a",{href:"#",onClick:()=>se("end"),className:M.includes("end")?"active":"",children:[(0,U.jsx)("span",{className:"icon",children:(0,U.jsx)(Fs,{icon:ac})}),(0,U.jsx)("span",{className:"text",children:"End"})]})})]})]})})}),(0,U.jsx)(Ee,{className:"mt-2",children:(0,U.jsx)(Ee.Body,{children:(0,U.jsxs)("div",{className:"filterWrapper",children:[(0,U.jsx)("h4",{children:"Descriptions"}),(0,U.jsxs)("div",{className:"ms-3",children:[(0,U.jsx)("div",{className:"form-check form-switch mt-3 ms-1",children:(0,U.jsx)("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"descriptionSwitch",checked:!B,onChange:()=>{$((e=>!e))},style:{transform:"scale(1.4)"}})}),(0,U.jsx)("label",{className:"form-check-label",htmlFor:"descriptionSwitch",style:{fontSize:"12px"},children:"Show Full Descriptions"})]})]})})})]}),(0,U.jsxs)(ne,{xs:12,md:10,className:"position-relative",style:{maxWidth:"85%",marginLeft:0,paddingLeft:0},children:[(0,U.jsxs)(ee,{className:"align-items-center mb-3",children:[(0,U.jsx)(ne,{children:(0,U.jsx)("h3",{children:`Projects - ${M.map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(", ")}`})}),(0,U.jsx)(ne,{md:"auto",children:(0,U.jsxs)(Oe,{onClick:()=>{i(!0)},variant:"primary",className:"rounded-pill me-0",children:[(0,U.jsx)(Fs,{icon:ic,className:"me-2"}),"Add Project"]})}),(0,U.jsx)(ne,{md:"auto",children:(0,U.jsx)(ze,{children:(0,U.jsx)(Je,{type:"text",value:r,onChange:e=>o(e.target.value),placeholder:"Search projects...",style:{width:"500px"}})})})]}),H?(0,U.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"400px"},children:(0,U.jsx)(Ze,{animation:"border",variant:"primary"})}):(0,U.jsx)("div",{ref:_,className:"project-table-container",children:(0,U.jsxs)(tt,{responsive:!0,bordered:!0,hover:!0,className:"table w-100",children:[" ",(0,U.jsx)("thead",{children:(0,U.jsxs)("tr",{children:[(0,U.jsx)("th",{children:"Project"}),(0,U.jsx)("th",{children:"Issues"}),(0,U.jsx)("th",{children:"Status"}),(0,U.jsx)("th",{children:"Project Lead"}),(0,U.jsx)("th",{children:"URL"}),(0,U.jsx)("th",{})]})}),(0,U.jsx)("tbody",{children:ce.map((t=>{var r,o;return(0,U.jsxs)("tr",{id:`project-${t.id}`,className:R&&A===t.id?"table-info":"",style:{borderTop:"1px solid #ddd"},children:[(0,U.jsxs)("td",{children:[(0,U.jsx)("a",{href:"#",onClick:e=>{var n;e.preventDefault(),n=t.id,F(n),D(!0),P(!1)},children:t.name}),(0,U.jsx)("div",{ref:e=>Q.current[t.id]=e,onClick:()=>(t=>{const n=e.find((e=>e.id===t));n&&(W(t),G(n.description||""))})(t.id),children:K===t.id?(0,U.jsx)("textarea",{className:"form-control auto-height",value:V,onChange:e=>G(e.target.value),onBlur:()=>le(t.id),onKeyDown:e=>"Enter"===e.key&&le(t.id),ref:e=>{e&&(e.style.height="auto",e.style.height=e.scrollHeight+"px")}}):(0,U.jsx)(go,{placement:"top",overlay:(0,U.jsx)(Dr,{id:"tooltip",children:"Click to edit description"}),children:(0,U.jsx)("div",{className:"project-description-box",children:(0,U.jsx)("span",{style:{cursor:"pointer"},children:B?ue(t.description,4):t.description})})})})]}),(0,U.jsx)("td",{children:(null===f||void 0===f?void 0:f.filter((e=>e.id===t.jiraProjectId)).length)>0&&(null===(r=f.find((e=>e.id===t.jiraProjectId)))||void 0===r||null===(o=r.issues)||void 0===o?void 0:o.length)||""}),(0,U.jsxs)("td",{children:["active"===t.type.toLowerCase()&&(0,U.jsx)(Fs,{icon:sc}),"new"===t.type.toLowerCase()&&(0,U.jsx)(Fs,{icon:Xs}),"hold"===t.type.toLowerCase()&&(0,U.jsx)(Fs,{icon:Gs}),"end"===t.type.toLowerCase()&&(0,U.jsx)(Fs,{icon:ac})]}),(0,U.jsx)("td",{children:t.lead}),(0,U.jsx)("td",{children:t.url||"No URL"}),(0,U.jsx)("td",{children:(0,U.jsx)(Fs,{icon:Zs,onClick:()=>(async t=>{try{if(!(await fetch(`${Ml}/api/projects/${t}?useTuke=${localStorage.getItem("isTukeLogin")}`,{method:"DELETE",headers:{Authorization:`Bearer ${s}`}})).ok)throw new Error("Failed to delete project");n(e.filter((e=>e.id!==t)))}catch(r){console.error(r.message)}})(t.id),style:{cursor:"pointer",color:"red"}})})]},t.id)}))})]})})]})]})}),(0,U.jsx)(Od,{isOpen:a,onClose:(e,t)=>ie(e,t)}),L&&(0,U.jsx)(Bu,{projectId:q,onClose:ie,accessToken:s,jiraProjects:f})]}):(0,U.jsx)(HC,{onLogin:Z})})};new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(YC){}new Map;const WC=r.startTransition;a.flushSync,r.useId;function VC(e){let{basename:n,children:r,future:o,window:a}=e,i=t.useRef();null==i.current&&(i.current=function(e){return void 0===e&&(e={}),f((function(e,t){let{pathname:n,search:r,hash:o}=e.location;return u("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:d(t)}),null,e)}({window:a,v5Compat:!0}));let s=i.current,[c,l]=t.useState({action:s.action,location:s.location}),{v7_startTransition:h}=o||{},p=t.useCallback((e=>{h&&WC?WC((()=>l(e))):l(e)}),[l,h]);return t.useLayoutEffect((()=>s.listen(p)),[s,p]),t.createElement(q,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:s,future:o})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var GC,QC;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(GC||(GC={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(QC||(QC={}));o.render((0,U.jsx)(VC,{children:(0,U.jsx)(KC,{})}),document.getElementById("root"))})()})();
//# sourceMappingURL=main.b9712116.js.map